/*! WordPress form builder plugin for contact forms, surveys and quizzes - Tripetto 8.0.3 */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("Tripetto")):"function"==typeof define&&define.amd?define("TripettoChatBuilder",["Tripetto"],t):"object"==typeof exports?exports.TripettoChatBuilder=t(require("Tripetto")):e.TripettoChatBuilder=t(e.Tripetto)}(self,(function(e){return function(){var t={547:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return{contract:{name:"@tripetto/runner-chat",version:"7.0.1"},customLocale:!0,availableTranslations:["en","de","es","fr","id","nl","pt"],strings:["runner#1|🆗 ButtonsBack","runner#1|🆗 ButtonsPause","runner#1|🆗 ButtonsReload","runner#1|🆗 ButtonsRetry","runner#1|🆗 ButtonsSkip","runner#1|🆗 ButtonsSubmit","runner#2|💬 Messages|Conversation closedNothing to talk about. The conversation is closed 🤐","runner#2|💬 Messages|Conversation closed👋 Hi there!","runner#2|💬 Messages|Conversation endedReopen conversation","runner#2|💬 Messages|Conversation endedThank you for this conversation!","runner#2|💬 Messages|Conversation pausedThe conversation is now paused.","runner#2|💬 Messages|Nothing selectedNothing selected","runner#2|💬 Messages|Pause requestPause this conversation","runner#2|💬 Messages|SkippedYou skipped this question","runner#6|✍️ SignatureClear","runner#6|✍️ SignatureProcessing signature (%1)","runner#6|✍️ SignatureSigned on %1","runner#6|📂 File uploadAllowed extensions: %1","runner#6|📂 File uploadChoose or drag a file here","runner#6|📂 File uploadDelete","runner#6|📂 File uploadDrop your file now","runner#6|📂 File uploadExtension is not allowed.","runner#6|📂 File uploadFile size is too large.","runner#6|📂 File uploadSize limit: %1","runner#6|📂 File uploadSomething went wrong while uploading%1.","runner#6|📂 File uploadThis file can't be used","runner#6|📂 File uploadToo many files selected.","runner#6|📂 File uploadTry again","runner#6|📂 File uploadUploading (%1)","runner#6|🔷 Yes/NoNo","runner#6|🔷 Yes/NoYes","runner#8|⏸ Pause conversationCancel pausing","runner#8|⏸ Pause conversationPause this conversation","runner#8|⏸ Pause conversationReceive a link by email to resume later on any device, right where you left off.","runner#8|⏸ Pause conversationReceive resume link","runner#8|⏸ Pause conversationYour email address...","runner#9|⚠ Errors|Connection errorPlease check your connection and try again (for the techies: The error console of your browser might contain more technical information about what went wrong).","runner#9|⚠ Errors|Outdated errorIt seems the form is changed by the owner while you were filling in the form. Your data cannot be processed, but you can try to reload the new version of the form while maintaining the data you've filled in. Click the reload button to try this. Please check your data after reloading and then submit again.","runner#9|⚠ Errors|Outdated errorIt seems the form is changed by the owner while you were filling in the form. Your data cannot be processed. Try reloading the form.","runner#9|⚠ Errors|Pausing errorSomething went wrong while pausing your conversation.","runner#9|⚠ Errors|Rejected errorUnfortunately, your data is marked as invalid and therefore rejected. If you believe this is a mistake, please contact the form owner. We're sorry for the inconvenience.","runner#9|⚠ Errors|Submit errorSomething went wrong while submitting your conversation.","runner#9|⚠ Errors|Submit errorThe form is outdated.","runner#9|⚠ Errors|Submit errorYour data is rejected."]}}},373:function(e,t,o){!function(){"use strict";var t={4533:function(e,t,o){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=this&&this.__decorate||function(e,t,o,i){var n,l=arguments.length,a=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(l<3?n(a):l>3?n(t,o,a):n(t,o))||a);return l>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.Calculator=void 0;var a=o(9954),r=o(3208),c=o(5331),u=o(4583),s=o(4617),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.allowMarkdown=!1,t.startBlank=!0,t.operations=a.Collection.of(r.Operation,t),t}var o;return n(t,e),o=t,Object.defineProperty(t.prototype,"block",{get:function(){return this},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"label",{get:function(){return(0,a.npgettext)("block:calculator","%2 (%1 operation)","%2 (%1 operations)",this.operations.count,this.type.label)},enumerable:!1,configurable:!0}),t.prototype.defineName=function(){var e,t=this;if(!this.node.name&&!this.operations.count){var i=0,n=1;null===(e=this.map)||void 0===e||e.forEach((function(e){if("@tripetto/block-calculator"===e.blockTypeIdentifier&&(i++,e.name&&0===e.name.indexOf(o.label+" "))){var t=(0,a.castToNumber)(e.name.substr(o.label.length+1));t>n&&(n=t+1)}}),"nodes"),this.node.name=o.label+" ".concat(a.Num.max(n,i))}this.outcome.hook("OnSlotProperty","synchronous",(function(e){switch(e.property){case"precision":case"digits":case"decimal":case"separator":case"minimum":case"maximum":case"prefix":case"prefixPlural":case"suffix":case"suffixPlural":t.slots.each((function(o){o instanceof a.Slots.Numeric&&"dynamic"===o.kind&&(0,a.set)(o,e.property,t.outcome[e.property])}))}}),this)},t.prototype.defineSlot=function(){this.outcome=this.slots.static({type:a.Slots.Numeric,reference:"calculator",label:this.node.name||(0,a.pgettext)("block:calculator","Calculation"),exchange:["alias","exportable","precision","digits","decimal","separator","minimum","maximum","prefix","prefixPlural","suffix","suffixPlural"]})},t.prototype.defineEditor=function(){var e=this,t=new a.Forms.Numeric(a.Forms.Numeric.bind(this.outcome,"minimum",void 0)).precision(this.outcome.precision||0).digits(this.outcome.digits||0).decimalSign(this.outcome.decimal||"").thousands(!!this.outcome.separator,this.outcome.separator||"").prefix(this.outcome.prefix||"").prefixPlural(this.outcome.prefixPlural||void 0).suffix(this.outcome.suffix||"").suffixPlural(this.outcome.suffixPlural||void 0).label((0,a.pgettext)("block:calculator","Minimum")),o=new a.Forms.Numeric(a.Forms.Numeric.bind(this.outcome,"maximum",void 0)).precision(this.outcome.precision||0).digits(this.outcome.digits||0).decimalSign(this.outcome.decimal||"").thousands(!!this.outcome.separator,this.outcome.separator||"").prefix(this.outcome.prefix||"").prefixPlural(this.outcome.prefixPlural||void 0).suffix(this.outcome.suffix||"").suffixPlural(this.outcome.suffixPlural||void 0).label((0,a.pgettext)("block:calculator","Maximum")),i=this.editor.form({controls:[new a.Forms.Notification((0,a.pgettext)("block:calculator","Some formatting options were automatically set for you, based on the block you've just selected as initial value."),"success")]}).visible(!1),n=(0,a.getHelpTopic)("block:calculator");this.editor.form({title:(0,a.pgettext)("block:calculator","Explanation"),controls:[new a.Forms.Static((0,a.pgettext)("block:calculator","Perform a calculation and use the result in your form%1.",n?" ([".concat((0,a.pgettext)("block:calculator","learn more"),"](").concat(n,"))"):"")).markdown()]}),this.editor.option({name:(0,a.pgettext)("block:calculator","Operations"),collection:(0,c.calculator)(this),activated:!0,locked:!0}),this.editor.name(!1,!1,(0,a.pgettext)("block:calculator","Description"),!1),this.editor.groups.settings();var l=new a.Forms.Dropdown([{optGroup:(0,a.pgettext)("block:calculator","Decimals")},{label:"#",value:0},{label:"#.#",value:1},{label:"#.##",value:2},{label:"#.###",value:3},{label:"#.####",value:4},{label:"#.#####",value:5},{label:"#.######",value:6},{label:"#.#######",value:7},{label:"#.########",value:8},{optGroup:(0,a.pgettext)("block:calculator","Digits")},{label:"##",value:-2},{label:"###",value:-3},{label:"####",value:-4},{label:"#####",value:-5},{label:"######",value:-6},{label:"#######",value:-7},{label:"########",value:-8},{label:"#########",value:-9},{label:"##########",value:-10},{label:"###########",value:-11},{label:"############",value:-12},{label:"#############",value:-13},{label:"##############",value:-14},{label:"###############",value:-15},{label:"################",value:-16}],(this.outcome.digits?-this.outcome.digits:this.outcome.precision)||0).on((function(){e.outcome.precision=l.isFeatureEnabled&&(0,a.isNumber)(l.value)&&l.value>=0?l.value:void 0,e.outcome.digits=l.isFeatureEnabled&&(0,a.isNumber)(l.value)&&l.value<0?-l.value:void 0,t.precision(e.outcome.precision||0),o.precision(e.outcome.precision||0),t.digits(e.outcome.digits||0),o.digits(e.outcome.digits||0),u.disabled(!e.outcome.precision),v.disabled((e.outcome.digits||0)>0)})),r=this.editor.option({name:(0,a.pgettext)("block:calculator","Format"),form:{title:(0,a.pgettext)("block:calculator","Format"),controls:[l]},activated:(0,a.isNumber)(this.outcome.precision)||(0,a.isNumber)(this.outcome.digits)}),u=new a.Forms.Dropdown([{label:"#.#",value:"."},{label:"#,#",value:","}],a.Forms.Dropdown.bind(this.outcome,"decimal",void 0)).label((0,a.pgettext)("block:calculator","Decimal sign")).disabled(!this.outcome.precision).on((function(e){t.decimalSign(e.isFeatureEnabled&&e.value||""),o.decimalSign(e.isFeatureEnabled&&e.value||"")})),s=new a.Forms.Dropdown([{label:(0,a.pgettext)("block:calculator","None"),value:void 0},{label:"#,###",value:","},{label:"#.###",value:"."}],a.Forms.Dropdown.bind(this.outcome,"separator",void 0)).label((0,a.pgettext)("block:calculator","Thousands separator")).on((function(e){t.thousands(!(!e.isFeatureEnabled||!e.value),e.isFeatureEnabled&&e.value||""),o.thousands(!(!e.isFeatureEnabled||!e.value),e.isFeatureEnabled&&e.value||"")}));this.editor.option({name:(0,a.pgettext)("block:calculator","Limits"),form:{title:(0,a.pgettext)("block:calculator","Limits"),controls:[t,o]},activated:(0,a.isNumber)(this.outcome.minimum)||(0,a.isNumber)(this.outcome.maximum)});var d=new a.Forms.Text("singleline",a.Forms.Text.bind(this.outcome,"prefix",void 0)).sanitize(!1).on((function(e){t.prefix(e.isFeatureEnabled&&e.value||""),o.prefix(e.isFeatureEnabled&&e.value||"")})),p=new a.Forms.Text("singleline",a.Forms.Text.bind(this.outcome,"prefixPlural",void 0)).indent(32).sanitize(!1).on((function(e){t.prefixPlural(e.isFeatureEnabled&&e.isObservable&&e.value||void 0),o.prefixPlural(e.isFeatureEnabled&&e.isObservable&&e.value||void 0)})).placeholder((0,a.pgettext)("block:calculator","Prefix when value is plural")).visible((0,a.isString)(this.outcome.prefixPlural)),b=new a.Forms.Checkbox((0,a.pgettext)("block:calculator","Specify different prefix for plural values"),(0,a.isString)(this.outcome.prefixPlural)).on((function(e){d.placeholder(e.isChecked&&(0,a.pgettext)("block:calculator","Prefix when value is singular")||""),p.visible(e.isChecked)})),g=this.editor.option({name:(0,a.pgettext)("block:calculator","Prefix"),form:{title:(0,a.pgettext)("block:calculator","Prefix"),controls:[d,b,p]},activated:(0,a.isString)(this.outcome.prefix)}),f=new a.Forms.Text("singleline",a.Forms.Text.bind(this.outcome,"suffix",void 0)).sanitize(!1).on((function(e){t.suffix(e.isFeatureEnabled&&e.value||""),o.suffix(e.isFeatureEnabled&&e.value||"")})),M=new a.Forms.Text("singleline",a.Forms.Text.bind(this.outcome,"suffixPlural",void 0)).indent(32).sanitize(!1).on((function(e){t.suffixPlural(e.isFeatureEnabled&&e.isObservable&&e.value||void 0),o.suffixPlural(e.isFeatureEnabled&&e.isObservable&&e.value||void 0)})).placeholder((0,a.pgettext)("block:calculator","Suffix when value is plural")).visible((0,a.isString)(this.outcome.suffixPlural)),h=new a.Forms.Checkbox((0,a.pgettext)("block:calculator","Specify different suffix for plural values"),(0,a.isString)(this.outcome.suffixPlural)).on((function(e){f.placeholder(e.isChecked&&(0,a.pgettext)("block:calculator","Suffix when value is singular")||""),M.visible(e.isChecked)})),m=this.editor.option({name:(0,a.pgettext)("block:calculator","Suffix"),form:{title:(0,a.pgettext)("block:calculator","Suffix"),controls:[f,h,M]},activated:(0,a.isString)(this.outcome.suffix)}),v=this.editor.option({name:(0,a.pgettext)("block:calculator","Signs"),form:{title:(0,a.pgettext)("block:calculator","Signs"),controls:[u,s,new a.Forms.Static((0,a.pgettext)("block:calculator","**Note:** These signs are used to format the number in de dataset. When the number is displayed in a runner, the appropriate user locale might be applied making it seem like changing these settings has no effect.")).markdown()]},activated:(0,a.isString)(this.outcome.separator)||(0,a.isString)(this.outcome.decimal),disabled:(this.outcome.digits||0)>0});this.editor.groups.options(),this.editor.visibility(),this.editor.alias(this.outcome),this.editor.exportable(this.outcome),this.preselect=function(t){var o=!1;!t.precision&&!t.digits||r.isActivated||(l.value=t.digits?-t.digits:t.precision,o=!0,r.activate()),!t.decimal&&!t.separator||v.isActivated||(u.value=t.decimal,s.value=t.decimal,o=!0,v.activate()),!t.prefix&&!t.prefixPlural||g.isActivated||(d.value=t.prefix||"",o=!0,t.prefixPlural&&(p.value=t.prefixPlural,b.check()),g.activate()),!t.suffix&&!t.suffixPlural||m.isActivated||(f.value=t.suffix||"",o=!0,t.suffixPlural&&(M.value=t.suffixPlural,h.check()),m.activate()),o&&(i.visible(!0),(0,a.scheduleTimeout)((function(){i.visible(!1)}),1e4)),e.preselect=void 0}},t.prototype.defineCondition=function(){var e=this,t=function(e,t){return(0,a.each)([{mode:"equal",label:(0,a.pgettext)("block:calculator","Calculation is equal to")},{mode:"not-equal",label:(0,a.pgettext)("block:calculator","Calculation is not equal to")},{mode:"below",label:(0,a.pgettext)("block:calculator","Calculation is lower than")},{mode:"above",label:(0,a.pgettext)("block:calculator","Calculation is higher than")},{mode:"between",label:(0,a.pgettext)("block:calculator","Calculation is between")},{mode:"not-between",label:(0,a.pgettext)("block:calculator","Calculation is not between")},{mode:"defined",label:(0,a.pgettext)("block:calculator","Calculation is valid")},{mode:"undefined",label:(0,a.pgettext)("block:calculator","Calculation is not valid")}],(function(o){e.template({condition:u.CalculatorCondition,label:o.label,autoOpen:"defined"!==o.mode&&"undefined"!==o.mode,props:{slot:t,mode:o.mode,value:0,to:"between"===o.mode||"not-between"===o.mode?0:void 0}})}))};this.slots.count>1?this.slots.each((function(o){o.label&&t(e.conditions.group(o.label),o)})):t(this.conditions,this.outcome)},l([a.definition,(0,a.affects)("#name")],t.prototype,"operations",void 0),l([a.assigned],t.prototype,"defineName",null),l([a.slots,a.renamed],t.prototype,"defineSlot",null),l([a.editor],t.prototype,"defineEditor",null),l([a.conditions],t.prototype,"defineCondition",null),o=l([(0,a.tripetto)({type:"node",legacyBlock:!0,identifier:"@tripetto/block-calculator",version:"4.0.6",icon:s.default,get label(){return(0,a.pgettext)("block:calculator","Calculator")},kind:"headless"})],t)}(a.NodeBlock);t.Calculator=d},5331:function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0}),t.calculator=void 0;var i=o(9954),n=o(3208),l=o(4238);t.calculator=function(e,t,o){return void 0===t&&(t=(0,i.pgettext)("block:calculator","Initial value is the last outcome (ANS).")),{collection:e.operations,banner:o,title:(0,i.pgettext)("block:calculator","Operations"),icon:!0,allowAutoSorting:!1,allowCleanup:(0,i.pgettext)("block:calculator","Remove invalid operations"),placeholder:(0,i.pgettext)("block:calculator","Invalid operation"),allowVariables:!0,allowFormatting:!0,markdown:i.Markdown.MarkdownFeatures.Formatting|i.Markdown.MarkdownFeatures.InlineCode,showAliases:function(t){var o;return null===(o=e.block.slots.select(t.id,"dynamic"))||void 0===o?void 0:o.alias},onReposition:function(e){return e.refresh("name")},onResize:e instanceof n.Operation&&function(){return e.refresh("name")}||void 0,menu:function(){return(0,l.operatorMenu)(e,e instanceof n.Operation)},emptyMessage:{message:e instanceof n.Operation||!e.startBlank?"**"+t+"**\n\n"+(0,i.pgettext)("block:calculator","Click the + button to add an operation.")+"\n\n"+(0,i.pgettext)("block:calculator","Use **=** operation to set another initial value."):"**"+(0,i.pgettext)("block:calculator","Every calculation begins with an initial value.")+"**\n\n"+(0,i.pgettext)("block:calculator","Click the + button to specify that value.")+"\n\n"+(0,i.pgettext)("block:calculator","After that you can add more operations."),height:96}}}},4583:function(e,t,o){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=this&&this.__decorate||function(e,t,o,i){var n,l=arguments.length,a=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(l<3?n(a):l>3?n(t,o,a):n(t,o))||a);return l>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.CalculatorCondition=void 0;var a=o(9954),r=o(4617),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.allowMarkdown=!0,t.mode="equal",t}return n(t,e),Object.defineProperty(t.prototype,"label",{get:function(){return""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){var e=this.slot;if(e instanceof a.Slots.Numeric){var t=this.parse(e,this.value);switch(this.mode){case"between":return"".concat(t," ≤ @").concat(e.id," ≤ ").concat(this.parse(e,this.to));case"not-between":return"@".concat(e.id," < ").concat(t," ").concat((0,a.pgettext)("block:calculator","or")," @").concat(e.id," > ").concat(this.parse(e,this.to));case"defined":return"@".concat(e.id," ").concat((0,a.pgettext)("block:calculator","calculated"));case"undefined":return"@".concat(e.id," ").concat((0,a.pgettext)("block:calculator","not calculated"));case"not-equal":return"@".concat(e.id," ≠ ").concat(t);case"above":case"below":case"equal":return"@".concat(e.id," ").concat("above"===this.mode?">":"below"===this.mode?"<":"="," ").concat(t)}}return this.type.label},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){var e,t;return(null===(e=this.slot)||void 0===e?void 0:e.label)||(null===(t=this.node)||void 0===t?void 0:t.label)},enumerable:!1,configurable:!0}),t.prototype.parse=function(e,t){var o;return(0,a.isNumberFinite)(t)?e.toString(t,(function(e,t){return a.L10n.locale.number(e,t,!1)})):(0,a.isString)(t)&&t&&(null===(o=(0,a.lookupVariable)(this,t))||void 0===o?void 0:o.label)?"@".concat(t):"\\_\\_"},t.prototype.defineEditor=function(){var e=this;this.editor.form({title:(0,a.pgettext)("block:calculator","Compare mode"),controls:[new a.Forms.Radiobutton([{label:(0,a.pgettext)("block:calculator","Calculation is equal to"),value:"equal"},{label:(0,a.pgettext)("block:calculator","Calculation is not equal to"),value:"not-equal"},{label:(0,a.pgettext)("block:calculator","Calculation is lower than"),value:"below"},{label:(0,a.pgettext)("block:calculator","Calculation is higher than"),value:"above"},{label:(0,a.pgettext)("block:calculator","Calculation is between"),value:"between"},{label:(0,a.pgettext)("block:calculator","Calculation is not between"),value:"not-between"},{label:(0,a.pgettext)("block:calculator","Calculation is valid"),value:"defined"},{label:(0,a.pgettext)("block:calculator","Calculation is not valid"),value:"undefined"}],a.Forms.Radiobutton.bind(this,"mode","equal")).on((function(e){switch(o.visible("defined"!==e.value&&"undefined"!==e.value),i.visible("between"===e.value||"not-between"===e.value),e.value){case"equal":o.title=(0,a.pgettext)("block:calculator","If calculation equals");break;case"not-equal":o.title=(0,a.pgettext)("block:calculator","If calculation not equals");break;case"below":o.title=(0,a.pgettext)("block:calculator","If calculation is lower than");break;case"above":o.title=(0,a.pgettext)("block:calculator","If calculation is higher than");break;case"between":o.title=(0,a.pgettext)("block:calculator","If calculation is between");break;case"not-between":o.title=(0,a.pgettext)("block:calculator","If calculation is not between")}}))]});var t=function(t,o,i){var n,l=e[t],r=e.slot,c=new a.Forms.Numeric((0,a.isNumberFinite)(l)?l:0).label((0,a.pgettext)("block:calculator","Use fixed number")).precision((null==r?void 0:r.precision)||0).digits((null==r?void 0:r.digits)||0).decimalSign((null==r?void 0:r.decimal)||"").thousands(!!(null==r?void 0:r.separator),(null==r?void 0:r.separator)||"").prefix((null==r?void 0:r.prefix)||"").prefixPlural((null==r?void 0:r.prefixPlural)||void 0).suffix((null==r?void 0:r.suffix)||"").suffixPlural((null==r?void 0:r.suffixPlural)||void 0).min(null==r?void 0:r.minimum).max(null==r?void 0:r.maximum).autoFocus("value"===t).escape(e.editor.close).enter((function(){return("between"!==e.mode&&"not-between"!==e.mode||"to"===t)&&e.editor.close()})).on((function(o){o.isFormVisible&&o.isObservable&&(e[t]=o.value)})),u=(0,a.populateVariables)(e,(function(e){return e instanceof a.Slots.Number||e instanceof a.Slots.Numeric}),(0,a.isString)(l)?l:void 0,!0,null===(n=e.slot)||void 0===n?void 0:n.id),s=new a.Forms.Dropdown(u,(0,a.isString)(l)?l:"").label((0,a.pgettext)("block:calculator","Use value of")).width("full").on((function(o){o.isFormVisible&&o.isObservable&&(e[t]=o.value||"")}));return e.editor.form({title:o,controls:[new a.Forms.Radiobutton([{label:(0,a.pgettext)("block:calculator","Number"),value:"number"},{label:(0,a.pgettext)("block:calculator","Value"),value:"variable",disabled:0===u.length}],(0,a.isString)(l)?"variable":"number").on((function(e){c.visible("number"===e.value),s.visible("variable"===e.value),c.isObservable&&c.focus()})),c,s]}).visible(i)},o=t("value",(0,a.pgettext)("block:calculator","If calculation equals"),"defined"!==this.mode&&"undefined"!==this.mode),i=t("to",(0,a.pgettext)("block:calculator","And"),"between"===this.mode||"not-between"===this.mode)},l([a.definition,(0,a.affects)("#name")],t.prototype,"mode",void 0),l([a.definition,(0,a.affects)("#name")],t.prototype,"value",void 0),l([a.definition,(0,a.affects)("#name")],t.prototype,"to",void 0),l([a.editor],t.prototype,"defineEditor",null),l([(0,a.tripetto)({type:"condition",legacyBlock:!0,context:"@tripetto/block-calculator",identifier:"@tripetto/block-calculator",version:"4.0.6",icon:r.default,get label(){return(0,a.pgettext)("block:calculator","Verify calculation")}})],t)}(a.ConditionBlock);t.CalculatorCondition=c},427:function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0}),t.angleUnitsControl=void 0;var i=o(9954);t.angleUnitsControl=function(e,t,o,n){void 0===n&&(n="angleUnits");var l=e[n];return t.form({title:(0,i.pgettext)("block:calculator","Units"),controls:[new i.Forms.Radiobutton([{label:(0,i.pgettext)("block:calculator","Degrees")+" (°)",value:"degrees"},{label:(0,i.pgettext)("block:calculator","Radians")+" (rad)",value:"radians"},{label:(0,i.pgettext)("block:calculator","Gradians")+" (ᵍ)",value:"gradians"}],"radians"===l||"gradians"===l?l:"degrees").on((function(t){(0,i.setAny)(e,n,t.value||"degrees"),o&&o(t.value||"degrees")}))]})}},4588:function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0}),t.constantControl=t.getConstantIcon=t.getConstantLabel=void 0;var i=o(9954),n=o(7680);function l(e){switch(e){case"π":return"π ≈ ".concat(i.L10n.locale.number(3.14159,"auto"));case"e":return"e ≈ ".concat(i.L10n.locale.number(2.71828,"auto"));case"γ":return"γ ≈ ".concat(i.L10n.locale.number(.57722,"auto"));case"c":return"c = ".concat(i.L10n.locale.number(299792458)," m/s");case"random":return(0,i.pgettext)("block:calculator","Random value (0 to less than 1)");case"timestamp":return(0,i.pgettext)("block:calculator","UNIX time (seconds since Unix Epoch)");case"year":return(0,i.pgettext)("block:calculator","Year");case"month":return(0,i.pgettext)("block:calculator","Month (January = 1)");case"day":return(0,i.pgettext)("block:calculator","Day of month (1-31)");case"day-of-week":return(0,i.pgettext)("block:calculator","Day of week (Sunday = 0)");case"hour":return(0,i.pgettext)("block:calculator","Hour (0-23)");case"minute":return(0,i.pgettext)("block:calculator","Minute (0-59)");case"second":return(0,i.pgettext)("block:calculator","Second (0-59)");case"millisecond":return(0,i.pgettext)("block:calculator","Millisecond (0-999)");case"timezone":return(0,i.pgettext)("block:calculator","Timezone (in milliseconds)");case"branch":return(0,i.pgettext)("block:calculator","Branch number")}}t.getConstantLabel=l,t.getConstantIcon=function(e){switch(e){case"π":case"e":case"γ":case"c":return 59098;case"random":return 59015;case"timestamp":return 59274;case"year":case"month":case"day-of-week":return 59273;case"day":return 59272;case"hour":case"minute":case"second":case"millisecond":return 59624;case"timezone":return 59526;case"branch":return 59719}},t.constantControl=function(e,t,o,a,r){void 0===o&&(o="value"),void 0===a&&(a="form"),void 0===r&&(r=!0);var c=new i.Forms.Dropdown(n.CONSTANTS.map((function(e){return{label:l(e),value:e}})),(0,i.castToString)(e[o])).autoFocus(r).on((function(t){t.isFormVisible&&t.isObservable&&(0,i.setAny)(e,o,(0,n.castToConstant)(t.value))}));return"inline"===a?c.label((0,i.pgettext)("block:calculator","Use constant")):t.form({title:(0,i.pgettext)("block:calculator","Use constant"),controls:[c]})}},3146:function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0}),t.explanationControl=void 0;var i=o(9954);t.explanationControl=function(e,t){return e.form({title:(0,i.pgettext)("block:calculator","Explanation"),controls:[new i.Forms.Static(t).markdown()]})}},4596:function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0}),t.controls=void 0;var i=o(427),n=o(3146),l=o(5461),a=o(7066),r=o(3788),c=o(4588);t.controls={angles:i.angleUnitsControl,constant:c.constantControl,explanation:n.explanationControl,number:l.numberControl,type:a.typeControl,variable:r.variableControl}},5461:function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0}),t.numberControl=void 0;var i=o(9954);t.numberControl=function(e,t,o,n,l,a){void 0===o&&(o="value"),void 0===n&&(n=!0),void 0===l&&(l=!0),void 0===a&&(a="form");var r=e[o],c=new i.Forms.Numeric((0,i.isNumberFinite)(r)?r:0).precision("auto").thousands(!1).autoFocus(l).on((function(t){t.isFormVisible&&t.isObservable&&(0,i.setAny)(e,o,t.value)}));return n&&(c.enter(t.close),c.escape(t.close)),"percentage"===o&&(c.suffix("%"),c.min(0)),["form"===a?t.form({title:(0,i.pgettext)("block:calculator","Use fixed number"),controls:[c]}):c.label((0,i.pgettext)("block:calculator","Use fixed number")),c]}},7066:function(e,t,o){var i=this&&this.__spreadArray||function(e,t,o){if(o||2===arguments.length)for(var i,n=0,l=t.length;n<l;n++)!i&&n in t||(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.typeControl=void 0;var n=o(9954),l=o(4588),a=o(5461),r=o(3788),c=o(7680);t.typeControl=function(e,t,o,u,s,d,p,b,g,f){void 0===o&&(o=!0),void 0===u&&(u=!1),void 0===s&&(s=!0),void 0===d&&(d="value"),void 0===p&&(p=!0),void 0===b&&(b=!0);var M,h=e[d],m=g?"inline":"form",v=new n.Forms.Radiobutton(i(i(i(i([],o?[{label:e.isSubCalculation&&e.isFirst?(0,n.pgettext)("block:calculator","Last outcome *(%1 parent calculation)*","ANS"):e.isFirst&&!e.calculator.startBlank?(0,n.pgettext)("block:calculator","Initial value"):(0,n.pgettext)("block:calculator","Last outcome *(%1)*","ANS"),value:"ans",disabled:!e.allowANS,markdown:!0}]:[],!0),s?[{label:(0,n.pgettext)("block:calculator","Number"),value:"number"}]:[],!0),[{label:(0,n.pgettext)("block:calculator","Value"),value:"variable"}],!1),u?[{label:(0,n.pgettext)("block:calculator","Constant"),value:"constant"}]:[],!0),(0,n.isString)(h)?(0,c.isConstant)(h)?"constant":"variable":(0,n.isNumberFinite)(h)||!o?"number":"ans").on((function(t){x[0].visible("number"===t.value),y[0].visible("variable"===t.value),w.visible("constant"===t.value),"ans"===t.value&&(0,n.setAny)(e,d,void 0),f&&f(t.value||"number","variable"===t.value&&y[2].value&&(0,n.lookupVariable)(e.calculator.block,y[2].value)||void 0)}));"form"===m&&(M=t.form({title:(0,n.pgettext)("block:calculator","Input"),controls:[v]}));var x=(0,a.numberControl)(e,t,d,p,b,m),y=(0,r.variableControl)(e,t,d,m,b,void 0,f&&function(t){f(v.value||"number","variable"===v.value&&t&&(0,n.lookupVariable)(e.calculator.block,t)||void 0)}),w=(0,l.constantControl)(e,t,d,m,b).visible((0,c.isConstant)((0,n.castToString)(h)));return x[0].visible((0,n.isNumberFinite)(h)||!o&&!(0,n.isString)(h)),y[0].visible((0,n.isString)(h)),v.buttonDisabled("variable",0===y[1]),x[0]instanceof n.Forms.Control&&y[0]instanceof n.Forms.Control&&w instanceof n.Forms.Control&&(M=t.form({title:g,markdown:!0,controls:[v,x[0],y[0],w]})),[M,x[1]]}},3788:function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0}),t.variableControl=void 0;var i=o(9954);t.variableControl=function(e,t,o,n,l,a,r){void 0===o&&(o="value"),void 0===n&&(n="form"),void 0===l&&(l=!0),void 0===a&&(a=function(e){return e instanceof i.Slots.Number||e instanceof i.Slots.Numeric});var c=e[o],u=(0,i.populateVariables)(e.calculator.block,a,(0,i.isString)(c)?c:void 0),s=new i.Forms.Dropdown(u,(0,i.isString)(c)?c:"").placeholder(0===u.length?(0,i.pgettext)("block:calculator","No usable values found..."):"").autoFocus(l).on((function(t){t.isFormVisible&&t.isObservable&&(0,i.setAny)(e,o,t.value||""),r&&r(t.value||"")}));return["form"===n?t.form({title:(0,i.pgettext)("block:calculator","Use value of"),controls:[s]}):s.label((0,i.pgettext)("block:calculator","Use value of")),u.length,s]}},4238:function(e,t,o){var i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,o=1,i=arguments.length;o<i;o++)for(var n in t=arguments[o])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},i.apply(this,arguments)},n=this&&this.__spreadArray||function(e,t,o){if(o||2===arguments.length)for(var i,n=0,l=t.length;n<l;n++)!i&&n in t||(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.operatorChangeMenu=t.operatorMenu=void 0;var l=o(9954),a=o(4533),r=o(7680),c=o(4588),u=o(4387),s=o(7200),d=o(4750),p=o(6322),b=o(6456),g=o(4908),f=o(2547),M=o(4948);t.operatorMenu=function(e,t){return void 0===t&&(t=!1),e.startBlank&&0===e.operations.count&&!t?h(e,!1)("+"):[new l.Components.MenuSubmenuWithImage(s.default,(0,l.pgettext)("block:calculator","Add"),(function(){return h(e,t)("+")})),new l.Components.MenuSubmenuWithImage(d.default,(0,l.pgettext)("block:calculator","Subtract"),(function(){return h(e,t)("-")})),new l.Components.MenuSubmenuWithImage(p.default,(0,l.pgettext)("block:calculator","Multiply"),(function(){return h(e,t)("*")})),new l.Components.MenuSubmenuWithImage(b.default,(0,l.pgettext)("block:calculator","Divide"),(function(){return h(e,t)("/")})),new l.Components.MenuSeparator,new l.Components.MenuSubmenuWithImage(u.default,(0,l.pgettext)("block:calculator","Equal"),(function(){return h(e,t)("=")}))]},t.operatorChangeMenu=function(e){return[new l.Components.MenuItemWithImage(s.default,(0,l.pgettext)("block:calculator","Add"),(function(){return e.operator="+"}),"+"===e.operator),new l.Components.MenuItemWithImage(d.default,(0,l.pgettext)("block:calculator","Subtract"),(function(){return e.operator="-"}),"-"===e.operator),new l.Components.MenuItemWithImage(p.default,(0,l.pgettext)("block:calculator","Multiply"),(function(){return e.operator="*"}),"*"===e.operator),new l.Components.MenuItemWithImage(b.default,(0,l.pgettext)("block:calculator","Divide"),(function(){return e.operator="/"}),"/"===e.operator),new l.Components.MenuSeparator,new l.Components.MenuItemWithImage(u.default,(0,l.pgettext)("block:calculator","Equal"),(function(){return e.operator="="}),"="===e.operator)]};var h=function(e,t){return function(o){var i=t||e.startBlank&&0===e.operations.count||"="!==o,a=[];a.push(new l.Components.MenuItemWithIcon(59254,(0,l.pgettext)("block:calculator","Number"),(function(){return e.operations.append().set({operator:o,opcode:"number",value:"/"===o?1:0,open:!0})})));var r=y(e,o);return a.push(new l.Components.MenuSubmenuWithIcon(59105,(0,l.pgettext)("block:calculator","Score"),m(e,o),!1,!1),new l.Components.MenuSubmenuWithIcon(59449,(0,l.pgettext)("block:calculator","Comparison"),(function(){var t=v(e,o);return n([new l.Components.MenuItemWithIcon(e.startBlank||e.operations.count>0?59239:59644,e.startBlank||e.operations.count>0?(0,l.pgettext)("block:calculator","Last outcome (%1)","ANS"):(0,l.pgettext)("block:calculator","Initial value"),(function(){return e.operations.append().set({operator:o,opcode:"equation",value:void 0,cona:0,conb:0,outa:1,outb:0,open:!0})}),0===e.operations.count&&e.startBlank),new l.Components.MenuSubmenuWithIcon(59273,(0,l.pgettext)("block:calculator","Date/time"),[new l.Components.MenuItem((0,l.pgettext)("block:calculator","Current date"),(function(){return e.operations.append().set({operator:o,opcode:"date",value:void 0,cona:l.DateTime.UTCToday,conb:void 0,outa:1,outb:0,open:!0})})),new l.Components.MenuItem((0,l.pgettext)("block:calculator","Current date + time"),(function(){return e.operations.append().set({operator:o,opcode:"datetime",value:void 0,cona:l.DateTime.UTC,conb:void 0,outa:1,outb:0,open:!0})}))])],t,!0)})),new l.Components.MenuSubmenuWithIcon(58927,(0,l.pgettext)("block:calculator","Function"),(function(){return x(o,e.operations,i)})),new l.Components.MenuItemWithIcon(59238,(0,l.pgettext)("block:calculator","Subcalculation"),(function(){return e.operations.append().set({operator:o,opcode:"calc",open:!0})}))),r.length>0&&(r[0]instanceof l.Components.MenuSeparator||a.push(new l.Components.MenuSeparator,new l.Components.MenuLabel((0,l.pgettext)("block:calculator","Blocks"))),a.push.apply(a,r)),a}},m=function(e,t){var o,i=[],n=function(e){if((null==e?void 0:e.id)!==o){var t=null==e?void 0:e.name;i.length>0&&i.push(new l.Components.MenuSeparator),t&&i.push(new l.Components.MenuLabel(t)),o=null==e?void 0:e.id}},a=function(o,a){var r,c,u,s,d=l.Collection.find(a),p=(0,l.getMetadata)(a.block,"calculator");if(d||p&&(null===(c=p[(null===(r=a.slot)||void 0===r?void 0:r.reference)||"*"]||p["*"])||void 0===c?void 0:c.scores)){n(o.block.node.section);var b=null===(s=null===(u=a.slot)||void 0===u?void 0:u.slots)||void 0===s?void 0:s.select("score","feature");if(b){var g=[];w(g,t,e.operations,{type:"slot",block:o.block,label:b.alias||(0,l.pgettext)("block:calculator","Existing score"),icon:o.icon||o.block.type.icon,id:b.id,reference:b.reference,slot:b},!1,!0),g.push(new l.Components.MenuItemWithIcon(59147,(0,l.pgettext)("block:calculator","New score"),(function(){return e.operations.append().set({operator:t,opcode:"score",value:a.id,open:!0})}))),i.push(new l.Components.MenuSubmenuWithImage(o.icon||o.block.type.icon,o.label,g))}else i.push(new l.Components.MenuItemWithImage(o.icon||o.block.type.icon,o.label,(function(){return e.operations.append().set({operator:t,opcode:"score",value:a.id,open:!0})})))}};return(0,l.each)((0,l.populateSlots)(e.block,{mode:"validated",pipes:"include-consumed-slots"}),(function(o){o.slots?(0,l.findFirst)(o.slots,(function(r){var c,u;if("pipe"===r.type){if(l.Collection.find(r)){var s=null===(u=null===(c=r.slot)||void 0===c?void 0:c.slots)||void 0===u?void 0:u.select("score","feature");if(n(o.block.node.section),s){var d=[];w(d,t,e.operations,{type:"slot",block:o.block,label:s.alias||(0,l.pgettext)("block:calculator","Existing score"),icon:o.icon||o.block.type.icon,id:s.id,reference:s.reference,slot:s},!1,!0),d.push(new l.Components.MenuItemWithIcon(59147,(0,l.pgettext)("block:calculator","New score"),(function(){return e.operations.append().set({operator:t,opcode:"score",value:r.id,open:!0})}))),i.push(new l.Components.MenuSubmenuWithImage(o.icon||o.block.type.icon,o.label,d))}else i.push(new l.Components.MenuItemWithImage(o.icon||o.block.type.icon,o.label,(function(){return e.operations.append().set({operator:t,opcode:"score",value:r.id,open:!0})})));return!0}}else if(r.id&&(r.slot instanceof l.Slots.String||r.slot instanceof l.Slots.Text))return a(o,r),!0;return!1})):o.id&&(o.slot instanceof l.Slots.String||o.slot instanceof l.Slots.Text)&&a(o,o)})),i},v=function(e,t){var o,i=[],n=function(e){if((null==e?void 0:e.id)!==o){var t=null==e?void 0:e.name;i.push(new l.Components.MenuSeparator),(t||1===i.length)&&i.push(new l.Components.MenuLabel(t||(0,l.pgettext)("block:calculator","Blocks"))),o=null==e?void 0:e.id}};return(0,l.each)((0,l.populateSlots)(e.block,{mode:"validated",pipes:"exclude"}),(function(o){if(o.slots){var a,r=[];(0,l.each)(o.slots,(function(o){if(o.id&&(o.slot instanceof l.Slots.String||o.slot instanceof l.Slots.Text||o.slot instanceof l.Slots.Boolean||o.slot instanceof l.Slots.Number||o.slot instanceof l.Slots.Numeric||o.slot instanceof l.Slots.Date)){var i=(o.slot instanceof l.Slots.String||o.slot instanceof l.Slots.Text)&&l.Collection.find(o);i&&i.sole||r.push(new l.Components.MenuItemWithIcon((0,l.getSlotIcon)(o.slot),o.label,a=function(){return e.operations.append().set(o.slot instanceof l.Slots.String||o.slot instanceof l.Slots.Text?{operator:t,opcode:"evaluate",value:o.id,cona:0,conb:0,outa:1,outb:0,open:!0}:o.slot instanceof l.Slots.Boolean?{operator:t,opcode:"boolean",value:o.id,outa:1,outb:0,open:!0}:o.slot instanceof l.Slots.Date?{operator:t,opcode:"date",value:o.id,cona:void 0,conb:void 0,outa:1,outb:0,open:!0}:{operator:t,opcode:"equation",value:o.id,cona:0,conb:0,outa:1,outb:0,open:!0})}))}})),r.length>0&&(n(o.block.node.section),i.push(1===r.length&&a?new l.Components.MenuItemWithImage(o.icon||o.block.type.icon,o.label,a):new l.Components.MenuSubmenuWithImage(o.icon||o.block.type.icon,o.label,r)))}else if(o.id&&(o.slot instanceof l.Slots.String||o.slot instanceof l.Slots.Text||o.slot instanceof l.Slots.Boolean||o.slot instanceof l.Slots.Number||o.slot instanceof l.Slots.Numeric||o.slot instanceof l.Slots.Date)){var c=(o.slot instanceof l.Slots.String||o.slot instanceof l.Slots.Text)&&l.Collection.find(o);c&&c.sole||(n(o.block.node.section),i.push(new l.Components.MenuItemWithImage(o.icon||o.block.type.icon,o.label,(function(){return e.operations.append().set(o.slot instanceof l.Slots.String||o.slot instanceof l.Slots.Text?{operator:t,opcode:"evaluate",value:o.id,cona:0,conb:0,outa:1,outb:0,open:!0}:o.slot instanceof l.Slots.Boolean?{operator:t,opcode:"boolean",value:o.id,outa:1,outb:0,open:!0}:o.slot instanceof l.Slots.Date?{operator:t,opcode:"date",value:o.id,cona:void 0,conb:void 0,outa:1,outb:0,open:!0}:{operator:t,opcode:"equation",value:o.id,cona:0,conb:0,outa:1,outb:0,open:!0})}))))}})),i},x=function(e,t,o,i,a){return void 0===a&&(a=!0),n([new l.Components.MenuSubmenuWithIcon(59122,(0,l.pgettext)("block:calculator","Limiting"),[new l.Components.MenuItem("min",(function(){return t.append().set({operator:e,opcode:"min",value:o?0:i,min:0,open:!0})})),new l.Components.MenuItem("max",(function(){return t.append().set({operator:e,opcode:"max",value:o?0:i,max:0,open:!0})})),new l.Components.MenuItem("clamp",(function(){return t.append().set({operator:e,opcode:"clamp",value:o?0:i,min:0,max:0,open:!0})}))]),new l.Components.MenuSubmenuWithImage(f.default,(0,l.pgettext)("block:calculator","Floating point"),[new l.Components.MenuItem("round",(function(){return t.append().set({operator:e,opcode:"round",value:o?0:i,open:o})})),new l.Components.MenuItem("floor",(function(){return t.append().set({operator:e,opcode:"floor",value:o?0:i,open:o})})),new l.Components.MenuItem("ceil",(function(){return t.append().set({operator:e,opcode:"ceil",value:o?0:i,open:o})})),new l.Components.MenuItem("trunc",(function(){return t.append().set({operator:e,opcode:"trunc",value:o?0:i,open:o})}))]),new l.Components.MenuSubmenuWithImage(g.default,(0,l.pgettext)("block:calculator","Exponentiation"),[new l.Components.MenuItem("x²",(function(){return t.append().set({operator:e,opcode:"square",value:o?0:i,open:o})})),new l.Components.MenuItem("√",(function(){return t.append().set({operator:e,opcode:"sqrt",value:o?0:i,open:o})})),new l.Components.MenuItem("pow",(function(){return t.append().set({operator:e,opcode:"pow",exponent:1,open:!0})})),new l.Components.MenuItem("exp",(function(){return t.append().set({operator:e,opcode:"exp",exponent:o?0:void 0,open:o})})),new l.Components.MenuItem("ln",(function(){return t.append().set({operator:e,opcode:"ln",value:o?0:i,open:o})})),new l.Components.MenuItem("log",(function(){return t.append().set({operator:e,opcode:"log",value:o?0:i,open:o})}))]),new l.Components.MenuSubmenuWithIcon(59778,(0,l.pgettext)("block:calculator","Trigonometry"),[new l.Components.MenuItem("sin",(function(){return t.append().set({operator:e,opcode:"sin",value:o?0:i,open:o})})),new l.Components.MenuItem("cos",(function(){return t.append().set({operator:e,opcode:"cos",value:o?0:i,open:o})})),new l.Components.MenuItem("tan",(function(){return t.append().set({operator:e,opcode:"tan",value:o?0:i,open:o})})),new l.Components.MenuSeparator,new l.Components.MenuLabel((0,l.pgettext)("block:calculator","Inverse")),new l.Components.MenuItem("sin⁻¹",(function(){return t.append().set({operator:e,opcode:"asin",value:o?0:i,open:o})})),new l.Components.MenuItem("cos⁻¹",(function(){return t.append().set({operator:e,opcode:"acos",value:o?0:i,open:o})})),new l.Components.MenuItem("tan⁻¹",(function(){return t.append().set({operator:e,opcode:"atan",value:o?0:i,open:o})})),new l.Components.MenuSeparator,new l.Components.MenuLabel((0,l.pgettext)("block:calculator","Hyperbolic")),new l.Components.MenuItem("sinh",(function(){return t.append().set({operator:e,opcode:"sinh",value:o?0:i,open:o})})),new l.Components.MenuItem("cosh",(function(){return t.append().set({operator:e,opcode:"cosh",value:o?0:i,open:o})})),new l.Components.MenuItem("tanh",(function(){return t.append().set({operator:e,opcode:"tanh",value:o?0:i,open:o})})),new l.Components.MenuSeparator,new l.Components.MenuLabel((0,l.pgettext)("block:calculator","Inverse hyperbolic")),new l.Components.MenuItem("sinh⁻¹",(function(){return t.append().set({operator:e,opcode:"asinh",value:o?0:i,open:o})})),new l.Components.MenuItem("cosh⁻¹",(function(){return t.append().set({operator:e,opcode:"acosh",value:o?0:i,open:o})})),new l.Components.MenuItem("tanh⁻¹",(function(){return t.append().set({operator:e,opcode:"atanh",value:o?0:i,open:o})}))]),new l.Components.MenuSubmenuWithIcon(59732,(0,l.pgettext)("block:calculator","Factorial"),[new l.Components.MenuItem("n!",(function(){return t.append().set({operator:e,opcode:"fact",value:o?0:i,open:o})})),new l.Components.MenuItem("gamma",(function(){return t.append().set({operator:e,opcode:"gamma",value:o?0:i,open:o})}))]),new l.Components.MenuSubmenuWithIcon(59704,(0,l.pgettext)("block:calculator","Miscellaneous"),[new l.Components.MenuItem("abs",(function(){return t.append().set({operator:e,opcode:"abs",value:o?0:i,open:o})})),new l.Components.MenuItem("sgn",(function(){return t.append().set({operator:e,opcode:"sgn",value:o?0:i,open:o})})),new l.Components.MenuItem("mod",(function(){return t.append().set({operator:e,opcode:"mod",value:o?0:i,divisor:1,open:!0})})),new l.Components.MenuItem("%",(function(){return t.append().set({operator:e,opcode:"percentage",value:o?0:i,percentage:0,open:!0})}))])],a?[new l.Components.MenuSubmenuWithIcon(59222,(0,l.pgettext)("block:calculator","Constants"),(function(){return r.CONSTANTS.map((function(o){return new l.Components.MenuItemWithIcon((0,c.getConstantIcon)(o),(0,c.getConstantLabel)(o),(function(){return t.append().set({operator:e,opcode:"number",value:o})}))}))}))]:[],!0)},y=function(e,t){var o,i=[],n=function(e){if((null==e?void 0:e.id)!==o){var t=null==e?void 0:e.name;(i.length>0||t)&&i.push(new l.Components.MenuSeparator),t&&i.push(new l.Components.MenuLabel(t)),o=null==e?void 0:e.id}};return(0,l.each)((0,l.populateSlots)(e.block,{mode:"validated",pipes:"include-consumed-slots"}),(function(o){if(o.slots){var a=[],r=!0,c=!1,u=!1;(0,l.findFirst)(o.slots,(function(i){var n,r,s;if("pipe"===i.type){var d=l.Collection.find(i);if(d){var p=null===(r=null===(n=i.slot)||void 0===n?void 0:n.slots)||void 0===r?void 0:r.select("score","feature");if(c=!0,p){var b=[];w(b,t,e.operations,{type:"slot",block:o.block,label:p.alias||(0,l.pgettext)("block:calculator","Existing score"),icon:o.icon||o.block.type.icon,id:p.id,reference:p.reference,slot:p},!1,!0),b.push(new l.Components.MenuItemWithIcon(59147,(0,l.pgettext)("block:calculator","New score"),(function(){return e.operations.append().set({operator:t,opcode:"score",value:i.id,open:!0})}))),a.push(new l.Components.MenuSubmenuWithIcon(59105,(0,l.pgettext)("block:calculator","Score"),b))}else a.push(new l.Components.MenuItemWithIcon(59105,(0,l.pgettext)("block:calculator","Score"),(function(){return e.operations.append().set({operator:t,opcode:"score",value:i.id,open:!0})})));if(d.origin&&d.sole)if(i.slot instanceof l.Slots.Number||i.slot instanceof l.Slots.Numeric)a.push(new l.Components.MenuItemWithIcon(59837,(0,l.pgettext)("block:calculator","Sum"),(function(){return e.operations.append().set({operator:t,opcode:"sum",value:i.id})})));else if(i.slot instanceof l.Slots.Boolean){var g=null===(s=i.slot.slots)||void 0===s?void 0:s.select("counter");g?(u=!0,w(a,t,e.operations,{type:"slot",block:o.block,label:g.label||(0,l.pgettext)("block:calculator","Counter"),icon:M.default,id:g.id,reference:g.reference,slot:g},!1,!0)):a.push(new l.Components.MenuItemWithIcon(59694,(0,l.pgettext)("block:calculator","Count"),(function(){return e.operations.append().set({operator:t,opcode:"count",value:i.id})})))}return!0}}return!1})),(0,l.each)(o.slots,(function(o){"slot"===o.type&&o.id&&o.slot&&("score"!==o.reference&&"counter"!==o.reference||"score"===o.reference&&!c||"counter"===o.reference&&!u)&&(r&&(r=!1,a.length>0&&a.push(new l.Components.MenuSeparator)),w(a,t,e.operations,o,!0))})),a.length>0&&(n(o.block.node.section),i.push(new l.Components.MenuSubmenuWithImage(o.icon||o.block.type.icon,o.label,a)))}else if(o.id&&o.slot){var s=[];w(s,t,e.operations,o,!1),s.length>0&&(n(o.block.node.section),i.push.apply(i,s))}})),i},w=function(e,t,o,i,r,c){var u,s,d,p,b,g,f;if(void 0===c&&(c=!1),i.slot instanceof l.Slots.String||i.slot instanceof l.Slots.Text){var M=l.Collection.find(i),h=(0,l.getMetadata)(i.block,"calculator"),m=function(){return o.append().set({operator:t,opcode:"score",value:i.id,open:!0})},v=(null==M?void 0:M.sole)&&h&&!0===(null===(u=h[i.slot.reference]||h["*"])||void 0===u?void 0:u.allowDefault)||!(null==M?void 0:M.sole)&&(!h||!1!==(null===(s=h[i.slot.reference]||h["*"])||void 0===s?void 0:s.allowDefault)),y=(null==M?void 0:M.sole)&&h&&!0===(null===(d=h[i.slot.reference]||h["*"])||void 0===d?void 0:d.allowCastToNumber)||!(null==M?void 0:M.sole)&&(!h||!1!==(null===(p=h[i.slot.reference]||h["*"])||void 0===p?void 0:p.allowCastToNumber)),N="static"===i.slot.kind&&(null===(b=i.slot.slots)||void 0===b?void 0:b.select("score","feature")),j=!!(M||h&&(null===(g=h[i.slot.reference]||h["*"])||void 0===g?void 0:g.scores));if((null==M?void 0:M.sole)&&!y||h&&(null===(f=h[i.slot.reference]||h["*"])||void 0===f?void 0:f.scores)&&!v&&!y)N?(w(A=[],t,o,{type:"slot",block:i.block,label:N.alias||(0,l.pgettext)("block:calculator","Existing score"),icon:i.icon||i.block.type.icon,id:N.id,reference:N.reference,slot:N},!1,!0),A.push(new l.Components.MenuItemWithIcon(59147,(0,l.pgettext)("block:calculator","New score"),(function(){return o.append().set({operator:t,opcode:"score",value:i.id,open:!0})}))),e.push(r?new l.Components.MenuSubmenuWithIcon(59105,(0,l.pgettext)("block:calculator","Score"),A):new l.Components.MenuSubmenuWithImage(i.icon||i.block.type.icon,i.label,A))):e.push(r?new l.Components.MenuItemWithIcon(59105,i.label,m):new l.Components.MenuItemWithImage(i.icon||i.block.type.icon,i.label,m));else{var A,I=[];(j||N)&&(N?(w(A=[],t,o,{type:"slot",block:i.block,label:N.alias||(0,l.pgettext)("block:calculator","Existing score"),icon:i.icon||i.block.type.icon,id:N.id,reference:N.reference,slot:N},!1,!0),A.push(new l.Components.MenuItemWithIcon(59147,(0,l.pgettext)("block:calculator","New score"),m)),I.push(new l.Components.MenuSubmenuWithIcon(59105,(0,l.pgettext)("block:calculator","Score"),A))):I.push(new l.Components.MenuItemWithIcon(59105,(0,l.pgettext)("block:calculator","Score"),m))),v&&I.push(new l.Components.MenuItemWithIcon(59449,(0,l.pgettext)("block:calculator","Compare"),(function(){return o.append().set({operator:t,opcode:"evaluate",value:i.id,cona:0,conb:0,outa:1,outb:0,open:!0})})),new l.Components.MenuItemWithIcon(59771,(0,l.pgettext)("block:calculator","Character count"),(function(){return o.append().set({operator:t,opcode:"chars",value:i.id})})),new l.Components.MenuItemWithIcon(59771,(0,l.pgettext)("block:calculator","Word count"),(function(){return o.append().set({operator:t,opcode:"words",value:i.id})})),new l.Components.MenuItemWithIcon(59771,(0,l.pgettext)("block:calculator","Line count"),(function(){return o.append().set({operator:t,opcode:"lines",value:i.id})})),new l.Components.MenuItemWithIcon(59683,(0,l.pgettext)("block:calculator","Count occurrences"),(function(){return o.append().set({operator:t,opcode:"occurrences",value:i.id,open:!0})}))),y&&I.push(new l.Components.MenuItemWithIcon(59117,(0,l.pgettext)("block:calculator","Convert to number"),(function(){return o.append().set({operator:t,opcode:"cast",value:i.id})}))),I.length>0&&e.push(1===I.length?I[0]:new l.Components.MenuSubmenuWithImage(i.icon||i.block.type.icon,i.label,I))}}else if(!(i.slot instanceof l.Slots.Number||i.slot instanceof l.Slots.Numeric)||!c&&"score"===i.reference&&S(i))if(i.slot instanceof l.Slots.Boolean){var D=function(){return o.append().set({operator:t,opcode:"boolean",value:i.id,outa:1,outb:0,open:!0})};e.push(r?new l.Components.MenuItemWithIcon(59801,i.label,D):new l.Components.MenuItemWithImage(i.icon||i.block.type.icon,i.label,D))}else i.slot instanceof l.Slots.Date&&e.push(new l.Components.MenuSubmenuWithImage(i.icon||i.block.type.icon,i.label,n([new l.Components.MenuItemWithIcon(59449,(0,l.pgettext)("block:calculator","Compare"),(function(){return o.append().set({operator:t,opcode:"date",value:i.id,cona:void 0,conb:void 0,outa:1,outb:0,open:!0})})),new l.Components.MenuItemWithIcon(59390,(0,l.pgettext)("block:calculator","Age"),(function(){return o.append().set({operator:t,opcode:"age",value:i.id,ageAbs:!0})})),new l.Components.MenuSeparator,new l.Components.MenuLabel((0,l.pgettext)("block:calculator","Date related")),new l.Components.MenuItemWithIcon(59269,(0,l.pgettext)("block:calculator","Year"),(function(){return o.append().set({operator:t,opcode:"year",value:i.id})})),new l.Components.MenuItemWithIcon(59273,(0,l.pgettext)("block:calculator","Month (January = 1)"),(function(){return o.append().set({operator:t,opcode:"month",value:i.id})})),new l.Components.MenuItemWithIcon(59272,(0,l.pgettext)("block:calculator","Day of month (1-31)"),(function(){return o.append().set({operator:t,opcode:"day-of-month",value:i.id})})),new l.Components.MenuItemWithIcon(59274,(0,l.pgettext)("block:calculator","Day of week (Sunday = 0)"),(function(){return o.append().set({operator:t,opcode:"day-of-week",value:i.id})}))],i.slot.supportsTime?[new l.Components.MenuSeparator,new l.Components.MenuLabel((0,l.pgettext)("block:calculator","Time related")),new l.Components.MenuItemWithIcon(59624,(0,l.pgettext)("block:calculator","Hour (0-23)"),(function(){return o.append().set({operator:t,opcode:"hour",value:i.id})})),new l.Components.MenuItemWithIcon(59624,(0,l.pgettext)("block:calculator","Minute (0-59)"),(function(){return o.append().set({operator:t,opcode:"minute",value:i.id})})),new l.Components.MenuItemWithIcon(59624,(0,l.pgettext)("block:calculator","Second (0-59)"),(function(){return o.append().set({operator:t,opcode:"second",value:i.id})})),new l.Components.MenuItemWithIcon(59624,(0,l.pgettext)("block:calculator","Millisecond (0-999)"),(function(){return o.append().set({operator:t,opcode:"millisecond",value:i.id})}))]:[],!0)));else{var L=i.block instanceof a.Calculator?"calculator":i.slot.reference;I=function(){return n([new l.Components.MenuItemWithIcon("calculator"===L?59238:"score"===L?59105:"counter"===L?59694:59700,"calculator"===L?(0,l.pgettext)("block:calculator","Calculation outcome"):"score"===L?(0,l.pgettext)("block:calculator","Score value"):"counter"===L?(0,l.pgettext)("block:calculator","Counter value"):(0,l.pgettext)("block:calculator","Current value"),(function(){return o.append().set({operator:t,opcode:"number",value:i.id})})),new l.Components.MenuItemWithIcon(59449,(0,l.pgettext)("block:calculator","Compare"),(function(){return o.append().set({operator:t,opcode:"equation",value:i.id,cona:0,conb:0,outa:1,outb:0,open:!0})})),new l.Components.MenuSeparator,new l.Components.MenuLabel((0,l.pgettext)("block:calculator","Functions"))],x(t,o,!1,i.id,!1),!0)},e.push(i.block instanceof a.Calculator||"calculator"!==i.reference&&"score"!==i.reference?new l.Components.MenuSubmenuWithImage(i.icon||i.block.type.icon,i.label,I):new l.Components.MenuSubmenuWithIcon("calculator"===i.reference?59238:59105,i.label,I))}},S=function(e){var t,o;return null===(o=null===(t=e.slot)||void 0===t?void 0:t.slots)||void 0===o?void 0:o.each((function(t){var o;if(t instanceof l.Slots.String||t instanceof l.Slots.Text){var n=(0,l.getMetadata)(e.block,"calculator");return!!(l.Collection.find(i(i({},e),{slot:t}))||n&&(null===(o=n[t.reference]||n["*"])||void 0===o?void 0:o.scores))}return!1}))}},3208:function(e,t,o){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=this&&this.__decorate||function(e,t,o,i){var n,l=arguments.length,a=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(l<3?n(a):l>3?n(t,o,a):n(t,o))||a);return l>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.Operation=void 0;var a=o(9954),r=o(7680),c=o(4238),u=o(7818),s=o(9755),d=o(2711),p=o(3881),b=o(4920),g=o(7157),f=o(7458),M=o(5950),h=o(5965),m=o(2288),v=o(5444),x=o(8588),y=o(281),w=o(6395),S=o(9533),N=o(5075),j=o(9505),A=o(7607),I=o(9615),D=o(4484),L=o(1021),k=o(4302),T=o(1035),C=o(9843),O=o(1006),E=o(48),z=o(334),U=o(3084),P=o(7738),_=o(6458),F=o(6492),Y=o(5316),R=o(1538),V=o(7867),B=o(2400),H=o(9422),Z=o(554),W=o(773),G=o(6426),Q=o(8340),q=o(738),X=o(8652),J=o(7604),K=o(5964),$=o(3274),ee=o(5301),te=o(4444),oe=o(1173),ie=o(5613),ne=o(6989),le=o(2427),ae=o(6592),re=o(2552),ce=o(2352),ue=o(4617),se=o(3265),de=o(4387),pe=o(7200),be=o(4750),ge=o(6322),fe=o(6456),Me=function(e){function t(){var o=null!==e&&e.apply(this,arguments)||this;return o.startBlank=!1,o.operator="=",o.opcode="number",o.operations=a.Collection.of(t,o),o}return n(t,e),Object.defineProperty(t.prototype,"calculator",{get:function(){return this.ref},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"block",{get:function(){return this.calculator.block},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"outcome",{get:function(){return"calc"===this.opcode&&this.calculator.block.slots.select(this.id,"dynamic")||void 0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"icon",{get:function(){if(this.calculator.startBlank&&this.isFirst&&!this.isSubCalculation)return se.default;switch(this.operator){case"+":return pe.default;case"-":return be.default;case"*":return ge.default;case"/":return fe.default;default:return de.default}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){var e,o=(null===(e=t.get(this.opcode))||void 0===e?void 0:e.name(this))||"";return this.isFirst||"/"!==this.operator||"0"!==o?o:o+" *(division by zero error)*"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){var e;return(null===(e=t.get(this.opcode))||void 0===e?void 0:e.title(this))||""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){switch(this.opcode){case"calc":return 520;case"date":case"datetime":case"age":return 475}return 400},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"menu",{get:function(){return[new a.Components.MenuSubmenuWithImage(ue.default,(0,a.pgettext)("block:calculator","Operator"),(0,c.operatorChangeMenu)(this),this.calculator.startBlank&&this.isFirst)]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isSubCalculation",{get:function(){var e;return(null===(e=this.calculator.operations.itemAtIndex(this.index))||void 0===e?void 0:e.id)!==this.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"allowANS",{get:function(){return this.isSubCalculation||!this.calculator.startBlank||!this.isFirst},enumerable:!1,configurable:!0}),t.get=function(e){switch(e){case"abs":return u.absOperation;case"acos":return d.acosOperation;case"acosh":return s.acoshOperation;case"age":return p.ageOperation;case"asin":return g.asinOperation;case"asinh":return b.asinhOperation;case"atan":return M.atanOperation;case"atanh":return f.atanhOperation;case"boolean":return h.booleanOperation;case"calc":return m.calculatorOperation;case"cast":return v.castOperation;case"ceil":return x.ceilOperation;case"chars":return y.charsOperation;case"clamp":return w.clampOperation;case"cos":return N.cosOperation;case"cosh":return S.coshOperation;case"count":return j.countOperation;case"date":case"datetime":return A.dateOperation;case"day-of-month":return I.dayOfMonthOperation;case"day-of-week":return D.dayOfWeekOperation;case"equation":return L.equationOperation;case"evaluate":return k.evaluateOperation;case"exp":return T.expOperation;case"fact":return C.factorialOperation;case"floor":return O.floorOperation;case"gamma":return E.gammaOperation;case"hour":return z.hourOperation;case"lines":return U.linesOperation;case"ln":return P.lnOperation;case"log":return _.logOperation;case"max":return F.maxOperation;case"millisecond":return Y.millisecondOperation;case"min":return R.minOperation;case"minute":return V.minuteOperation;case"mod":return B.modOperation;case"month":return H.monthOperation;case"number":return Z.numberOperation;case"occurrences":return W.occurrencesOperation;case"percentage":return G.percentageOperation;case"pow":return Q.powOperation;case"round":return q.roundOperation;case"score":return X.scoreOperation;case"second":return J.secondOperation;case"sgn":return K.sgnOperation;case"sin":return ee.sinOperation;case"sinh":return $.sinhOperation;case"sqrt":return te.sqrtOperation;case"square":return oe.squareOperation;case"sum":return ie.sumOperation;case"tan":return le.tanOperation;case"tanh":return ne.tanhOperation;case"trunc":return ae.truncOperation;case"year":return ce.yearOperation;case"words":return re.wordsOperation}},t.prototype.set=function(e){var t;if(this.operator=e.operator,this.opcode=e.opcode,this.value=e.value,this.cona=e.cona,this.conb=e.conb,this.outa=e.outa,this.outb=e.outb,this.min=e.min,this.max=e.max,this.exponent=e.exponent,this.divisor=e.divisor,this.percentage=e.percentage,this.ageAbs=e.ageAbs,this.calculator.preselect&&this.isFirst&&"number"===this.opcode&&(0,a.isString)(this.value)){var o=null===(t=(0,a.lookupVariable)(this.calculator.block,this.value))||void 0===t?void 0:t.slot;o instanceof a.Slots.Numeric&&this.calculator.preselect(o)}return e.open&&this.open(),this},t.prototype.format=function(e,t,o,i,n,l){var c;void 0===n&&(n=!1);var u=this[e],s="";if(t&&(t+=" "),o&&(!i||(0,a.isString)(u)||!(0,a.isNumberFinite)(u)&&this.allowANS)&&(o=" "+o),(0,a.isString)(u))if((0,r.isConstant)(u))s="`"+(u.length>1?u.toUpperCase():u)+"`";else{if(!(null===(c=(0,a.lookupVariable)(this.calculator.block,u))||void 0===c?void 0:c.label))return"";s="@"+u}else s=(0,a.isNumberFinite)(u)||!l&&!this.allowANS?(n?"**":"")+a.L10n.locale.number((0,a.isNumberFinite)(u)?u:0,"auto",!1)+(n?"**":""):this.isFirst&&this.isSubCalculation?"`ANS` "+(0,a.pgettext)("block:calculator","of parent calculation"):this.isFirst&&!l&&this.calculator.firstANS?this.calculator.firstANS:"`"+(l||"ANS")+"`";return(t||"")+s+(o||"")},t.prototype.defineEditor=function(){var e;null===(e=t.get(this.opcode))||void 0===e||e.editor(this,this.editor)},t.prototype.initOperation=function(){var e,t=this;"calc"===this.opcode&&(null===(e=this.calculator.outcome)||void 0===e||e.hook("OnSlotProperty","synchronous",(function(e){switch(e.property){case"decimal":case"precision":case"separator":case"minimum":case"maximum":case"prefix":case"prefixPlural":case"suffix":case"suffixPlural":(0,a.setAny)(t.outcome,e.property,e.slot[e.property])}}),this))},t.prototype.deleteOperation=function(){var e;"calc"===this.opcode&&(null===(e=this.calculator.outcome)||void 0===e||e.unhookContext(this),this.calculator.block.slots.delete(this.id,"dynamic"),this.operations.each((function(e){return e.deleteOperation()})))},l([a.icon],t.prototype,"icon",null),l([a.name],t.prototype,"name",null),l([a.title],t.prototype,"title",null),l([a.width],t.prototype,"width",null),l([a.menu],t.prototype,"menu",null),l([a.definition,(0,a.affects)("#icon"),(0,a.affects)("#name")],t.prototype,"operator",void 0),l([a.definition,(0,a.affects)("#name")],t.prototype,"opcode",void 0),l([a.definition,(0,a.affects)("#name")],t.prototype,"operations",void 0),l([a.definition,(0,a.affects)("#name")],t.prototype,"description",void 0),l([a.definition],t.prototype,"reference",void 0),l([a.definition,(0,a.affects)("#name")],t.prototype,"value",void 0),l([a.definition,(0,a.affects)("#name")],t.prototype,"exponent",void 0),l([a.definition,(0,a.affects)("#name")],t.prototype,"cona",void 0),l([a.definition,(0,a.affects)("#name")],t.prototype,"conb",void 0),l([a.definition,(0,a.affects)("#name")],t.prototype,"outa",void 0),l([a.definition,(0,a.affects)("#name")],t.prototype,"outb",void 0),l([a.definition,(0,a.affects)("#name")],t.prototype,"compareMode",void 0),l([a.definition,(0,a.affects)("#name")],t.prototype,"angleUnits",void 0),l([a.definition,(0,a.affects)("#name")],t.prototype,"ageIn",void 0),l([a.definition],t.prototype,"ageAbs",void 0),l([a.definition],t.prototype,"ignoreCase",void 0),l([a.definition],t.prototype,"scores",void 0),l([a.definition,(0,a.affects)("#name")],t.prototype,"min",void 0),l([a.definition,(0,a.affects)("#name")],t.prototype,"max",void 0),l([a.definition,(0,a.affects)("#name")],t.prototype,"divisor",void 0),l([a.definition,(0,a.affects)("#name")],t.prototype,"percentage",void 0),l([a.editor],t.prototype,"defineEditor",null),l([a.created],t.prototype,"initOperation",null),l([a.deleted],t.prototype,"deleteOperation",null),t}(a.Collection.Item);t.Operation=Me},7818:function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0}),t.absOperation=void 0;var i=o(9954),n=o(4596);t.absOperation={name:function(e){return e.format("value","|","|")},title:function(){return(0,i.pgettext)("block:calculator","Absolute value")},editor:function(e,t){n.controls.explanation(t,(0,i.pgettext)("block:calculator","Retrieves the absolute value (or modulus) of a number ([learn more](https://en.wikipedia.org/wiki/Absolute_value)). This makes negative numbers positive.")),n.controls.type(e,t,!0,!1,!1)}}},2711:function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0}),t.acosOperation=void 0;var i=o(9954),n=o(4596);t.acosOperation={name:function(e){return e.format("value","*cos⁻¹* (",") "+("radians"===e.angleUnits?"rad":"gradians"===e.angleUnits?"ᵍ":"°"))},title:function(){return(0,i.pgettext)("block:calculator","Inverse cosine (arccosine)")},editor:function(e,t){n.controls.explanation(t,(0,i.pgettext)("block:calculator","Calculates the inverse cosine (arccosine) of the given number ([learn more](https://en.wikipedia.org/wiki/Inverse_trigonometric_functions)). This number should be a value between `-1` and `1`.")),n.controls.type(e,t)[1].min(-1).max(1),n.controls.angles(e,t)}}},9755:function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0}),t.acoshOperation=void 0;var i=o(9954),n=o(4596);t.acoshOperation={name:function(e){return e.format("value","*cosh⁻¹* (",")")},title:function(){return(0,i.pgettext)("block:calculator","Inverse hyperbolic cosine")},editor:function(e,t){n.controls.explanation(t,(0,i.pgettext)("block:calculator","Calculates the inverse hyperbolic cosine (arccosine) of the given number ([learn more](https://en.wikipedia.org/wiki/Inverse_hyperbolic_functions)).")),n.controls.type(e,t)}}},3881:function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0}),t.ageOperation=void 0;var i=o(9954),n=o(4596);function l(e){switch(void 0===e&&(e="years"),e){case"months":return(0,i.pgettext)("block:calculator","Months");case"days":return(0,i.pgettext)("block:calculator","Days");case"hours":return(0,i.pgettext)("block:calculator","Hours");case"minutes":return(0,i.pgettext)("block:calculator","Minutes");case"seconds":return(0,i.pgettext)("block:calculator","Seconds");case"milliseconds":return(0,i.pgettext)("block:calculator","Milliseconds");default:return(0,i.pgettext)("block:calculator","Years")}}t.ageOperation={name:function(e){return e.format("value","*".concat((0,i.pgettext)("block:calculator","age"),"* ("),") "+l(e.ageIn).toLowerCase())},title:function(e){var t;return(0,i.isString)(e.value)&&(null===(t=(0,i.lookupVariable)(e.calculator.block,e.value))||void 0===t?void 0:t.label)||(0,i.pgettext)("block:calculator","Age")},editor:function(e,t){var o=(0,i.isString)(e.value)&&(0,i.lookupVariable)(e.calculator.block,e.value),a=o&&o.slot instanceof i.Slots.Date&&o.slot.supportsTime||!1,r=new i.Forms.Radiobutton([{label:(0,i.pgettext)("block:calculator","Current date"),value:"current"},{label:(0,i.pgettext)("block:calculator","Fixed date"),value:"date"},{label:(0,i.pgettext)("block:calculator","Value"),value:"variable"}],(0,i.isString)(e.reference)?"variable":(0,i.isNumberFinite)(e.reference)?"date":"current").on((function(t){c.visible("date"===t.value),u[0].visible("variable"===t.value),"current"===t.value&&(e.reference=void 0)}));n.controls.explanation(t,(0,i.pgettext)("block:calculator","Calculates the age (time) between two points in time.")),t.form({title:(0,i.pgettext)("block:calculator","Calculate age using"),controls:[r]});var c=t.form({title:(0,i.pgettext)("block:calculator","Use fixed date"),controls:[new i.Forms.DateTime((0,i.isNumberFinite)(e.reference)?e.reference:i.DateTime.UTC).zone("UTC").years((new Date).getFullYear()-150,(new Date).getFullYear()+50).features(1|(a?8:32)).required().on((function(t){t.isFormVisible&&t.isObservable&&(e.reference=t.value)}))]}),u=n.controls.variable(e,t,"reference","form",!0,(function(t){return t instanceof i.Slots.Date&&t.id!==e.value}));r.buttonDisabled("variable",0===u[1]),t.form({title:(0,i.pgettext)("block:calculator","Units"),controls:[new i.Forms.Radiobutton(["years","months","days","hours","minutes","seconds","milliseconds"].map((function(e){return{label:l(e),value:e}})),i.Forms.Radiobutton.bind(e,"ageIn",void 0,"years"))]}),t.form({title:(0,i.pgettext)("block:calculator","Options"),controls:[new i.Forms.Checkbox((0,i.pgettext)("block:calculator","Always return a positive (absolute) value"),i.Forms.Checkbox.bind(e,"ageAbs",void 0)).description((0,i.pgettext)("block:calculator","If unchecked, a negative value is possible, which indicates that the source date is after the date that serves as compare date for the calculation."))]})}}},7157:function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0}),t.asinOperation=void 0;var i=o(9954),n=o(4596);t.asinOperation={name:function(e){return e.format("value","*sin⁻¹* (",") "+("radians"===e.angleUnits?"rad":"gradians"===e.angleUnits?"ᵍ":"°"))},title:function(){return(0,i.pgettext)("block:calculator","Inverse sine (arcsine)")},editor:function(e,t){n.controls.explanation(t,(0,i.pgettext)("block:calculator","Calculates the inverse sine (arcsine) of the given number ([learn more](https://en.wikipedia.org/wiki/Inverse_trigonometric_functions)). This number should be a value between `-1` and `1`.")),n.controls.type(e,t)[1].min(-1).max(1),n.controls.angles(e,t)}}},4920:function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0}),t.asinhOperation=void 0;var i=o(9954),n=o(4596);t.asinhOperation={name:function(e){return e.format("value","*sinh⁻¹* (",")")},title:function(){return(0,i.pgettext)("block:calculator","Inverse hyperbolic sine")},editor:function(e,t){n.controls.explanation(t,(0,i.pgettext)("block:calculator","Calculates the inverse hyperbolic sine (arcsine) of the given number ([learn more](https://en.wikipedia.org/wiki/Inverse_hyperbolic_functions)).")),n.controls.type(e,t)}}},5950:function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0}),t.atanOperation=void 0;var i=o(9954),n=o(4596);t.atanOperation={name:function(e){return e.format("value","*tan⁻¹* (",") "+("radians"===e.angleUnits?"rad":"gradians"===e.angleUnits?"ᵍ":"°"))},title:function(){return(0,i.pgettext)("block:calculator","Inverse tangent (arctangent)")},editor:function(e,t){n.controls.explanation(t,(0,i.pgettext)("block:calculator","Calculates the inverse tangent (arctangent) of the given number ([learn more](https://en.wikipedia.org/wiki/Inverse_trigonometric_functions)).")),n.controls.type(e,t),n.controls.angles(e,t)}}},7458:function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0}),t.atanhOperation=void 0;var i=o(9954),n=o(4596);t.atanhOperation={name:function(e){return e.format("value","*tanh⁻¹* (",")")},title:function(){return(0,i.pgettext)("block:calculator","Inverse hyperbolic tangent")},editor:function(e,t){n.controls.explanation(t,(0,i.pgettext)("block:calculator","Calculates the inverse hyperbolic tangent (arctangent) of the given number ([learn more](https://en.wikipedia.org/wiki/Inverse_hyperbolic_functions)).")),n.controls.type(e,t)}}},5965:function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0}),t.booleanOperation=void 0;var i=o(9954),n=o(4596);t.booleanOperation={name:function(e){var t=e.format("value",void 0,void 0,void 0,!0),o=e.format("outa",void 0,void 0,void 0,!0),n=e.format("outb",void 0,void 0,void 0,!0);if(!t||!o||!n)return"";var l=(0,i.isString)(e.value)&&(0,i.lookupVariable)(e.calculator.block,e.value)||void 0;return t+" = "+(0,i.pgettext)("block:calculator","%1 then %2 else %3","**".concat((null==l?void 0:l.slot)instanceof i.Slots.Boolean&&(0,i.makeMarkdownSafe)(l.slot.labelForTrue||"")||(0,i.pgettext)("block:calculator","True"),"**"),o,n)},title:function(e){var t;return(0,i.isString)(e.value)&&(null===(t=(0,i.lookupVariable)(e.calculator.block,e.value))||void 0===t?void 0:t.label)||(0,i.pgettext)("block:calculator","Boolean")},editor:function(e,t){var o=(0,i.isString)(e.value)&&(0,i.lookupVariable)(e.calculator.block,e.value)||void 0;n.controls.explanation(t,(0,i.pgettext)("block:calculator","Outputs a value based on the boolean state.")),n.controls.type(e,t,!0,!0,!0,"outa",!1,!1,(0,i.pgettext)("block:calculator","If %1 then output","**".concat((null==o?void 0:o.slot)instanceof i.Slots.Boolean&&(0,i.makeMarkdownSafe)(o.slot.labelForTrue||"")||(0,i.pgettext)("block:calculator","True"),"**"))),n.controls.type(e,t,!0,!0,!0,"outb",!1,!1,(0,i.pgettext)("block:calculator","If %1 then output","**".concat((null==o?void 0:o.slot)instanceof i.Slots.Boolean&&(0,i.makeMarkdownSafe)(o.slot.labelForFalse||"")||(0,i.pgettext)("block:calculator","False"),"**")))}}},2288:function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0}),t.calculatorOperation=void 0;var i=o(9954),n=o(4596),l=o(5331),a=o(4533);t.calculatorOperation={name:function(e){return"".concat((0,i.makeMarkdownSafe)(e.description||"")||(0,i.pgettext)("block:calculator","Calculation")," *(").concat((0,i.npgettext)("block:calculator","%1 operation","%1 operations",e.operations.count),")*")},title:function(e){return e.description||(0,i.pgettext)("block:calculator","Subcalculation")},editor:function(e,t){var o,r,c,u;n.controls.explanation(t,(0,i.pgettext)("block:calculator","Performs a subcalculation. The initial value for this subcalculation is automatically set to the current outcome (**ANS**) of the parent calculation. If you want to begin this subcalculation with another value, then add an equal (**=**) operation to begin with.")),t.collection((0,l.calculator)(e)),t.form({title:(0,i.pgettext)("block:calculator","Description"),controls:[new i.Forms.Text("singleline",i.Forms.Text.bind(e,"description",void 0)).autoFocus(0===e.operations.count).on((function(t){e.outcome&&(e.outcome.label=t.value),b.visible(!!(t.value&&e.block instanceof a.Calculator))}))]});var s=new i.Forms.Checkbox((0,i.pgettext)("block:calculator","Set an alias for this subcalculation"),!!(null===(o=e.outcome)||void 0===o?void 0:o.alias)).on((function(e){return d.visible(e.isChecked)})),d=new i.Forms.Group([new i.Forms.Text("singleline",(null===(r=e.outcome)||void 0===r?void 0:r.alias)||"").placeholder((0,i.pgettext)("block:calculator","Type alias identifier here...")).indent(32).on((function(t){if(e.outcome){var o=e.outcome.alias;e.outcome.alias=t.isObservable&&t.value||void 0,e.outcome.alias!==o&&e.refresh("name")}})),new i.Forms.Static((0,i.pgettext)("block:calculator","This alias will be used as identifier of the subcalculation in the dataset.")).indent(32)]).visible(!!(null===(c=e.outcome)||void 0===c?void 0:c.alias)),p=new i.Forms.Group([new i.Forms.Checkbox((0,i.pgettext)("block:calculator","Make outcome exportable and include it in the dataset"),(null===(u=e.outcome)||void 0===u?void 0:u.exportable)||!1).on((function(t){e.outcome&&(e.outcome.exportable=t.isChecked)})),s]).visible(!!e.outcome),b=t.form({title:(0,i.pgettext)("block:calculator","Exportability"),controls:[new i.Forms.Checkbox((0,i.pgettext)("block:calculator","Make outcome available for other blocks"),!!e.outcome).on((function(t){if(t.isFormVisible&&t.isObservable&&t.isChecked&&e.description&&e.block instanceof a.Calculator){var o=e.calculator.block.slots.dynamic({type:i.Slots.Numeric,reference:e.id,label:e.description,exportable:!1});e.calculator.outcome&&(o.decimal=e.calculator.outcome.decimal,o.precision=e.calculator.outcome.precision,o.digits=e.calculator.outcome.digits,o.separator=e.calculator.outcome.separator,o.minimum=e.calculator.outcome.minimum,o.maximum=e.calculator.outcome.maximum,o.prefix=e.calculator.outcome.prefix,o.prefixPlural=e.calculator.outcome.prefixPlural,o.suffix=e.calculator.outcome.suffix,o.suffixPlural=e.calculator.outcome.suffixPlural)}else e.calculator.block.slots.delete(e.id,"dynamic");p.visible(t.isChecked),d.visible(t.isChecked&&s.isChecked),e.refresh("name")})),p,d]}).visible(!!(e.description&&e.block instanceof a.Calculator))}}},5444:function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0}),t.castOperation=void 0;var i=o(9954),n=o(4596);t.castOperation={name:function(e){return e.format("value","*".concat((0,i.pgettext)("block:calculator","convert"),"* ("),") *".concat((0,i.pgettext)("block:calculator","to number"),"*"))},title:function(){return(0,i.pgettext)("block:calculator","Convert to number")},editor:function(e,t){n.controls.explanation(t,(0,i.pgettext)("block:calculator","Converts a text value to a number."))}}},8588:function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0}),t.ceilOperation=void 0;var i=o(9954),n=o(4596);t.ceilOperation={name:function(e){return e.format("value","⌈","⌉")},title:function(){return(0,i.pgettext)("block:calculator","Ceil")},editor:function(e,t){n.controls.explanation(t,(0,i.pgettext)("block:calculator","Rounds a floating point number up ([learn more](https://en.wikipedia.org/wiki/Floor_and_ceiling_functions)).")),n.controls.type(e,t,!0,!0)}}},281:function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0}),t.charsOperation=void 0;var i=o(9954),n=o(4596);t.charsOperation={name:function(e){return e.format("value","*".concat((0,i.pgettext)("block:calculator","characters"),"* ("),")")},title:function(){return(0,i.pgettext)("block:calculator","Character count")},editor:function(e,t){n.controls.explanation(t,(0,i.pgettext)("block:calculator","Counts the number of characters in a text."))}}},6395:function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0}),t.clampOperation=void 0;var i=o(9954),n=o(4596);t.clampOperation={name:function(e){var t=e.format("value","*clamp* (",",",!0),o=e.format("min"," ",",",!0),i=e.format("max"," ",")");return t&&o&&i?t+o+i:""},title:function(){return(0,i.pgettext)("block:calculator","Clamp number")},editor:function(e,t){n.controls.explanation(t,(0,i.pgettext)("block:calculator","Clamps (restricts) the input between the specified minimum and maximum value ([learn more](https://en.wikipedia.org/wiki/Clamping_%28graphics%29)).")),n.controls.type(e,t,!0,!0,!1,"value",!1,!0,(0,i.pgettext)("block:calculator","Input")),n.controls.type(e,t,!0,!0,!0,"min",!1,!1,(0,i.pgettext)("block:calculator","Minimum value")),n.controls.type(e,t,!0,!0,!0,"max",!1,!1,(0,i.pgettext)("block:calculator","Maximum value"))}}},5075:function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0}),t.cosOperation=void 0;var i=o(9954),n=o(4596);t.cosOperation={name:function(e){return e.format("value","*cos* (",("radians"===e.angleUnits?"rad":"gradians"===e.angleUnits?"ᵍ":"°")+" )","radians"!==e.angleUnits)},title:function(){return(0,i.pgettext)("block:calculator","Cosine")},editor:function(e,t){n.controls.explanation(t,(0,i.pgettext)("block:calculator","Calculates the cosine of the given angle ([learn more](https://en.wikipedia.org/wiki/Trigonometric_functions)). The result is a number between `-1` and `1`."));var o=n.controls.type(e,t)[1];n.controls.angles(e,t,(function(e){return o.suffix("radians"===e?" rad":"gradians"===e?"ᵍ":"°")}))}}},9533:function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0}),t.coshOperation=void 0;var i=o(9954),n=o(4596);t.coshOperation={name:function(e){return e.format("value","*cosh* (",")")},title:function(){return(0,i.pgettext)("block:calculator","Hyperbolic cosine")},editor:function(e,t){n.controls.explanation(t,(0,i.pgettext)("block:calculator","Calculates the hyperbolic cosine of the given hyperbolic angle ([learn more](https://en.wikipedia.org/wiki/Hyperbolic_functions)).")),n.controls.type(e,t)}}},9505:function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0}),t.countOperation=void 0;var i=o(9954),n=o(4596);t.countOperation={name:function(e){return e.format("value","*".concat((0,i.pgettext)("block:calculator","count"),"* ("),")")},title:function(e){var t;return((0,i.isString)(e.value)?null===(t=(0,i.lookupVariable)(e.calculator.block,e.value))||void 0===t?void 0:t.label:"")||(0,i.pgettext)("block:calculator","Count")},editor:function(e,t){n.controls.explanation(t,(0,i.pgettext)("block:calculator","Counts the number of selected options or given answers. Useful if you want to calculate the average of given answers."))}}},7607:function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0}),t.dateOperation=void 0;var i=o(9954),n=o(4596);function l(e,t){var o,n=e[t],l=(0,i.isString)(e.value)&&(0,i.lookupVariable)(e.calculator.block,e.value),a=l&&l.slot instanceof i.Slots.Date&&l.slot||void 0;return(0,i.isString)(n)?n&&(null===(o=(0,i.lookupVariable)(e.calculator.block,n))||void 0===o?void 0:o.label)?"@".concat(n):"":(0,i.isNumberFinite)(n)?"**".concat((a?a.supportsTime:"datetime"===e.opcode)?i.L10n.locale.dateTimeShort(n,!0):i.L10n.locale.dateShort(n,!0),"**"):"`"+(0,i.pgettext)("block:calculator","Now").toUpperCase()+"`"}t.dateOperation={name:function(e){var t=e.format("value",void 0,void 0,void 0,!0,"NOW"),o=l(e,"cona"),n=l(e,"conb"),a=e.format("outa",void 0,void 0,void 0,!0),r=e.format("outb",void 0,void 0,void 0,!0);if(!t||!a||!r)return"";var c="then ".concat(a," else ").concat(r);switch(e.compareMode||"equal"){case"defined":return"".concat(t," ").concat((0,i.pgettext)("block:calculator","not empty")," ").concat(c);case"between":return o&&n&&"".concat(o," ≤ ").concat(t," ≤ ").concat(n," ").concat(c)||"";case"before":case"after":case"equal":return o&&"".concat(t," ").concat("after"===e.compareMode?">":"before"===e.compareMode?"<":"="," ").concat(o," ").concat(c)||""}},title:function(e){var t;return((0,i.isString)(e.value)?null===(t=(0,i.lookupVariable)(e.calculator.block,e.value))||void 0===t?void 0:t.label:"")||("datetime"===e.opcode?(0,i.pgettext)("block:calculator","Current date + time"):(0,i.pgettext)("block:calculator","Current date"))},editor:function(e,t){var o=(0,i.isString)(e.value)&&(0,i.lookupVariable)(e.calculator.block,e.value),l=o&&o.slot instanceof i.Slots.Date&&o.slot||void 0,a=l?l.supportsTime:"datetime"===e.opcode,r=new i.Forms.Radiobutton([{label:(0,i.pgettext)("block:calculator","Date is equal to"),value:"equal"},{label:(0,i.pgettext)("block:calculator","Date is before"),value:"before"},{label:(0,i.pgettext)("block:calculator","Date is after"),value:"after"},{label:(0,i.pgettext)("block:calculator","Date is between"),value:"between"},{label:(0,i.pgettext)("block:calculator","Date is not empty"),value:"defined",visible:!!l}],e.compareMode||"equal").on((function(t){switch(e.compareMode=t.value||"equal",u.visible("defined"!==e.compareMode),s.visible("between"===t.value),e.compareMode){case"equal":u.title=(0,i.pgettext)("block:calculator","If date equals");break;case"before":u.title=(0,i.pgettext)("block:calculator","If date is before");break;case"after":u.title=(0,i.pgettext)("block:calculator","If date is after");break;case"between":u.title=(0,i.pgettext)("block:calculator","If date is between")}}));n.controls.explanation(t,(0,i.pgettext)("block:calculator","Compares a date and outputs a value based on the result of the comparison.")),t.form({title:(0,i.pgettext)("block:calculator","Compare mode"),controls:[r]});var c=function(l,r,c){var u=e[l],s=new i.Forms.DateTime((0,i.isNumberFinite)(u)?u:void 0).zone("UTC").years((new Date).getFullYear()-150,(new Date).getFullYear()+50).label(a?(0,i.pgettext)("block:calculator","Use fixed date/time"):(0,i.pgettext)("block:calculator","Use fixed date")).features(1|(a?8:32)).required().on((function(t){t.isFormVisible&&t.isObservable&&(e[l]=t.value)})),d=n.controls.variable(e,t,l,"inline",!1,(function(t){return t instanceof i.Slots.Date&&t.id!==e.value}));return t.form({title:r,controls:[new i.Forms.Radiobutton([{label:(0,i.pgettext)("block:calculator","Current date"),value:"current",visible:!!o},{label:a?(0,i.pgettext)("block:calculator","Fixed date/time"):(0,i.pgettext)("block:calculator","Fixed date"),value:"date"},{label:(0,i.pgettext)("block:calculator","Value"),value:"variable",disabled:0===d[1]}],(0,i.isString)(u)?"variable":(0,i.isNumberFinite)(u)?"date":"current").on((function(t){s.visible("date"===t.value),d[0].visible("variable"===t.value),"current"===t.value&&(e[l]=void 0)})),s,d[0]]}).visible(c)},u=c("cona",(0,i.pgettext)("block:calculator","If date equals"),"defined"!==e.compareMode),s=c("conb",(0,i.pgettext)("block:calculator","And"),"between"===e.compareMode);n.controls.type(e,t,!0,!0,!0,"outa",!1,!1,(0,i.pgettext)("block:calculator","Then output")),n.controls.type(e,t,!0,!0,!0,"outb",!1,!1,(0,i.pgettext)("block:calculator","Else output"))}}},9615:function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0}),t.dayOfMonthOperation=void 0;var i=o(9954),n=o(4596);t.dayOfMonthOperation={name:function(e){return e.format("value","*".concat((0,i.pgettext)("block:calculator","day of month"),"* ("),")")},title:function(e){var t;return((0,i.isString)(e.value)?null===(t=(0,i.lookupVariable)(e.calculator.block,e.value))||void 0===t?void 0:t.label:"")||(0,i.pgettext)("block:calculator","Day of month")},editor:function(e,t){n.controls.explanation(t,(0,i.pgettext)("block:calculator","Retrieves the day of month of the date."))}}},4484:function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0}),t.dayOfWeekOperation=void 0;var i=o(9954),n=o(4596);t.dayOfWeekOperation={name:function(e){return e.format("value","*".concat((0,i.pgettext)("block:calculator","day of week"),"* ("),")")},title:function(e){var t;return((0,i.isString)(e.value)?null===(t=(0,i.lookupVariable)(e.calculator.block,e.value))||void 0===t?void 0:t.label:"")||(0,i.pgettext)("block:calculator","Day of week")},editor:function(e,t){n.controls.explanation(t,(0,i.pgettext)("block:calculator","Retrieves the day of the week (where 0 represents Sunday) of the date."))}}},1021:function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0}),t.equationOperation=void 0;var i=o(9954),n=o(4596),l=o(7680);t.equationOperation={name:function(e){var t=e.format("value",void 0,void 0,void 0,!0),o=e.format("cona",void 0,void 0,void 0,!0),n=e.format("conb",void 0,void 0,void 0,!0),l=e.format("outa",void 0,void 0,void 0,!0),a=e.format("outb",void 0,void 0,void 0,!0);if(!t||!l||!a)return"";var r="then ".concat(l," else ").concat(a);switch(e.compareMode||"equal"){case"defined":return"".concat(t," ").concat((0,i.pgettext)("block:calculator","not empty")," ").concat(r);case"between":return o&&n&&"".concat(o," ≤ ").concat(t," ≤ ").concat(n," ").concat(r)||"";case"above":case"below":case"equal":return o&&"".concat(t," ").concat("above"===e.compareMode?">":"below"===e.compareMode?"<":"="," ").concat(o," ").concat(r)||""}},title:function(){return(0,i.pgettext)("block:calculator","Compare")},editor:function(e,t){var o,a=new i.Forms.Radiobutton([{label:(0,i.pgettext)("block:calculator","Input is equal to"),value:"equal"},{label:(0,i.pgettext)("block:calculator","Input is lower than"),value:"below"},{label:(0,i.pgettext)("block:calculator","Input is higher than"),value:"above"},{label:(0,i.pgettext)("block:calculator","Input is between"),value:"between"},{label:(0,i.pgettext)("block:calculator","Input is not empty"),value:"defined",visible:(o=e.value,(0,i.isString)(o)&&!(0,l.isConstant)(o))}],e.compareMode||"equal").on((function(t){switch(e.compareMode=t.value||"equal",c.visible("defined"!==e.compareMode),d.visible("between"===t.value),e.compareMode){case"equal":c.title=(0,i.pgettext)("block:calculator","If input equals");break;case"below":c.title=(0,i.pgettext)("block:calculator","If input is lower than");break;case"above":c.title=(0,i.pgettext)("block:calculator","If input is higher than");break;case"between":c.title=(0,i.pgettext)("block:calculator","If input is between")}}));n.controls.explanation(t,(0,i.pgettext)("block:calculator","Compares the supplied input and outputs a value based on the result of the comparison.")),n.controls.type(e,t,!0,!1,!1,"value",!1,!0,(0,i.pgettext)("block:calculator","Input"),(function(e,t){if(a.buttonVisible("defined","variable"===e),u&&p){var o=function(e){e.precision((null==t?void 0:t.slot)instanceof i.Slots.Numeric?t.slot.precision||0:"auto"),e.digits((null==t?void 0:t.slot)instanceof i.Slots.Numeric&&t.slot.digits||0),e.decimalSign((null==t?void 0:t.slot)instanceof i.Slots.Numeric&&t.slot.decimal||""),e.thousands(!!((null==t?void 0:t.slot)instanceof i.Slots.Numeric&&t.slot.separator),(null==t?void 0:t.slot)instanceof i.Slots.Numeric&&t.slot.separator||""),e.min((null==t?void 0:t.slot)instanceof i.Slots.Numeric&&t.slot.minimum||void 0),e.max((null==t?void 0:t.slot)instanceof i.Slots.Numeric&&t.slot.maximum||void 0),e.prefix((null==t?void 0:t.slot)instanceof i.Slots.Numeric&&t.slot.prefix||""),e.prefixPlural((null==t?void 0:t.slot)instanceof i.Slots.Numeric&&t.slot.prefixPlural||void 0),e.suffix((null==t?void 0:t.slot)instanceof i.Slots.Numeric&&t.slot.suffix||""),e.suffixPlural((null==t?void 0:t.slot)instanceof i.Slots.Numeric&&t.slot.suffixPlural||void 0)};o(u),o(p)}})),t.form({title:(0,i.pgettext)("block:calculator","Compare mode"),controls:[a]});var r=n.controls.type(e,t,!0,!0,!0,"cona",!1,!1,(0,i.pgettext)("block:calculator","If input equals")),c=r[0],u=r[1],s=n.controls.type(e,t,!0,!0,!0,"conb",!1,!1,(0,i.pgettext)("block:calculator","And")),d=s[0],p=s[1];c.visible("defined"!==e.compareMode),d.visible("between"===e.compareMode),n.controls.type(e,t,!0,!0,!0,"outa",!1,!1,(0,i.pgettext)("block:calculator","Then output")),n.controls.type(e,t,!0,!0,!0,"outb",!1,!1,(0,i.pgettext)("block:calculator","Else output"))}}},4302:function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0}),t.evaluateOperation=void 0;var i=o(9954),n=o(4596);t.evaluateOperation={name:function(e){var t=e.format("value",void 0,void 0,void 0,!0),o=e.format("outa",void 0,void 0,void 0,!0),n=e.format("outb",void 0,void 0,void 0,!0);if(!t||!o||!n)return"";var l="then ".concat(o," else ").concat(n),a=(0,i.isFilledString)(e.cona)?"**".concat((0,i.makeMarkdownSafe)(i.Str.replace(i.Str.replace(e.cona,"\n","↵")," ","⎵")),"**"):"*\\_\\_*";switch(e.compareMode||"equal"){case"defined":return"".concat(t," ").concat((0,i.pgettext)("block:calculator","not empty")," ").concat(l);case"equal":return"".concat(t," = ").concat(a," ").concat(l);case"contains":return"".concat(t," ").concat((0,i.pgettext)("block:calculator","contains")," ").concat(a," ").concat(l);case"starts":return"".concat(t," ").concat((0,i.pgettext)("block:calculator","starts with")," ").concat(a," ").concat(l);case"ends":return"".concat(t," ").concat((0,i.pgettext)("block:calculator","ends with")," ").concat(a," ").concat(l)}},title:function(e){var t;return(0,i.isString)(e.value)&&(null===(t=(0,i.lookupVariable)(e.calculator.block,e.value))||void 0===t?void 0:t.label)||(0,i.pgettext)("block:calculator","Text")},editor:function(e,t){n.controls.explanation(t,(0,i.pgettext)("block:calculator","Compares a text and outputs a value based on the result of the comparison."));var o=new i.Forms.Group([new i.Forms.Text("multiline",(0,i.isString)(e.cona)&&e.cona||"").on((function(t){e.cona=t.isObservable&&t.value||void 0})).sanitize(!1).action("@",(0,i.insertVariable)(e.calculator.block)).autoFocus(),new i.Forms.Checkbox((0,i.pgettext)("block:calculator","Ignore case"),i.Forms.Checkbox.bind(e,"ignoreCase",void 0,!0))]).visible("defined"!==e.compareMode);t.form({title:(0,i.pgettext)("block:calculator","If text"),controls:[new i.Forms.Radiobutton([{label:(0,i.pgettext)("block:calculator","Matches"),value:"equal"},{label:(0,i.pgettext)("block:calculator","Contains"),value:"contains"},{label:(0,i.pgettext)("block:calculator","Starts with"),value:"starts"},{label:(0,i.pgettext)("block:calculator","Ends with"),value:"ends"},{label:(0,i.pgettext)("block:calculator","Is not empty"),value:"defined"}],e.compareMode||"equal").on((function(t){e.compareMode=t.value||"equal",o.visible("defined"!==e.compareMode)})),o]}),n.controls.type(e,t,!0,!0,!0,"outa",!1,!1,(0,i.pgettext)("block:calculator","Then output")),n.controls.type(e,t,!0,!0,!0,"outb",!1,!1,(0,i.pgettext)("block:calculator","Else output"))}}},1035:function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0}),t.expOperation=void 0;var i=o(9954),n=o(4596);t.expOperation={name:function(e){return e.format("exponent","*exp* (",")")},title:function(){return(0,i.pgettext)("block:calculator","Exponent")},editor:function(e,t){n.controls.explanation(t,(0,i.pgettext)("block:calculator","Calculates `e` to the power of the given exponent ([learn more](https://en.wikipedia.org/wiki/Exponential_function)).")),n.controls.type(e,t,!0,!0,!0,"exponent",!0,!0,(0,i.pgettext)("block:calculator","Exponent"))}}},9843:function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0}),t.factorialOperation=void 0;var i=o(9954),n=o(4596);t.factorialOperation={name:function(e){return e.format("value",void 0,"!",!0)},title:function(){return"n!"},editor:function(e,t){n.controls.explanation(t,(0,i.pgettext)("block:calculator","Calculates the factorial of a positive number ([learn more](https://en.wikipedia.org/wiki/Factorial)).")),n.controls.type(e,t,!0,!0)}}},1006:function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0}),t.floorOperation=void 0;var i=o(9954),n=o(4596);t.floorOperation={name:function(e){return e.format("value","⌊","⌋")},title:function(){return(0,i.pgettext)("block:calculator","Floor")},editor:function(e,t){n.controls.explanation(t,(0,i.pgettext)("block:calculator","Rounds a floating point number down ([learn more](https://en.wikipedia.org/wiki/Floor_and_ceiling_functions)).")),n.controls.type(e,t,!0,!0)}}},48:function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0}),t.gammaOperation=void 0;var i=o(9954),n=o(4596);t.gammaOperation={name:function(e){return e.format("value","*gamma* (",")")},title:function(){return(0,i.pgettext)("block:calculator","Gamma")},editor:function(e,t){n.controls.explanation(t,(0,i.pgettext)("block:calculator","Calculates the gamma of a positive number ([learn more](https://en.wikipedia.org/wiki/Gamma_function)).")),n.controls.type(e,t,!0,!0)}}},334:function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0}),t.hourOperation=void 0;var i=o(9954),n=o(4596);t.hourOperation={name:function(e){return e.format("value","*".concat((0,i.pgettext)("block:calculator","hour"),"* ("),")")},title:function(e){var t;return((0,i.isString)(e.value)?null===(t=(0,i.lookupVariable)(e.calculator.block,e.value))||void 0===t?void 0:t.label:"")||(0,i.pgettext)("block:calculator","Hour")},editor:function(e,t){n.controls.explanation(t,(0,i.pgettext)("block:calculator","Retrieves a number between 0 and 23, representing the hours of the date/time."))}}},3084:function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0}),t.linesOperation=void 0;var i=o(9954),n=o(4596);t.linesOperation={name:function(e){return e.format("value","*".concat((0,i.pgettext)("block:calculator","lines"),"* ("),")")},title:function(){return(0,i.pgettext)("block:calculator","Line count")},editor:function(e,t){n.controls.explanation(t,(0,i.pgettext)("block:calculator","Counts the number of lines in a text."))}}},7738:function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0}),t.lnOperation=void 0;var i=o(9954),n=o(4596);t.lnOperation={name:function(e){return e.format("value","*ln* (",")")},title:function(){return(0,i.pgettext)("block:calculator","Natural logarithm")},editor:function(e,t){n.controls.explanation(t,(0,i.pgettext)("block:calculator","Calculates the natural logarithm of the input ([learn more](https://en.wikipedia.org/wiki/Natural_logarithm)).")),n.controls.type(e,t,!0,!0)}}},6458:function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0}),t.logOperation=void 0;var i=o(9954),n=o(4596);t.logOperation={name:function(e){return e.format("value","*log* (",")")},title:function(){return(0,i.pgettext)("block:calculator","Logarithm")},editor:function(e,t){n.controls.explanation(t,(0,i.pgettext)("block:calculator","Calculates the base 10 logarithm of the input ([learn more](https://en.wikipedia.org/wiki/Logarithm)).")),n.controls.type(e,t,!0,!0)}}},6492:function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0}),t.maxOperation=void 0;var i=o(9954),n=o(4596);t.maxOperation={name:function(e){var t=e.format("value","*max* (",",",!0),o=e.format("max"," ",")");return t&&o?t+o:""},title:function(){return(0,i.pgettext)("block:calculator","Find highest number")},editor:function(e,t){n.controls.explanation(t,(0,i.pgettext)("block:calculator","Returns the input with the highest number.")),n.controls.type(e,t,!0,!0,!0,"value",!1,!0,(0,i.pgettext)("block:calculator","Input 1")),n.controls.type(e,t,!0,!0,!0,"max",!1,!1,(0,i.pgettext)("block:calculator","Input 2"))}}},5316:function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0}),t.millisecondOperation=void 0;var i=o(9954),n=o(4596);t.millisecondOperation={name:function(e){return e.format("value","*".concat((0,i.pgettext)("block:calculator","millisecond"),"* ("),")")},title:function(e){var t;return((0,i.isString)(e.value)?null===(t=(0,i.lookupVariable)(e.calculator.block,e.value))||void 0===t?void 0:t.label:"")||(0,i.pgettext)("block:calculator","Millisecond")},editor:function(e,t){n.controls.explanation(t,(0,i.pgettext)("block:calculator","Retrieves a number between 0 and 999, representing the milliseconds of the date/time."))}}},1538:function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0}),t.minOperation=void 0;var i=o(9954),n=o(4596);t.minOperation={name:function(e){var t=e.format("value","*min* (",",",!0),o=e.format("min"," ",")");return t&&o?t+o:""},title:function(){return(0,i.pgettext)("block:calculator","Find lowest number")},editor:function(e,t){n.controls.explanation(t,(0,i.pgettext)("block:calculator","Returns the input with the lowest number.")),n.controls.type(e,t,!0,!0,!0,"value",!1,!0,(0,i.pgettext)("block:calculator","Input 1")),n.controls.type(e,t,!0,!0,!0,"min",!1,!1,(0,i.pgettext)("block:calculator","Input 2"))}}},7867:function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0}),t.minuteOperation=void 0;var i=o(9954),n=o(4596);t.minuteOperation={name:function(e){return e.format("value","*".concat((0,i.pgettext)("block:calculator","minute"),"* ("),")")},title:function(e){var t;return((0,i.isString)(e.value)?null===(t=(0,i.lookupVariable)(e.calculator.block,e.value))||void 0===t?void 0:t.label:"")||(0,i.pgettext)("block:calculator","Minute")},editor:function(e,t){n.controls.explanation(t,(0,i.pgettext)("block:calculator","Retrieves a number between 0 and 59, representing the minutes of the date/time."))}}},2400:function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0}),t.modOperation=void 0;var i=o(9954),n=o(4596);t.modOperation={name:function(e){var t=e.format("value","","mod "),o=e.format("divisor");return t&&o?t+o:""},title:function(){return(0,i.pgettext)("block:calculator","Modulus")},editor:function(e,t){n.controls.explanation(t,(0,i.pgettext)("block:calculator","Calculates the remainder of a division ([learn more](https://en.wikipedia.org/wiki/Modulo_operation)).")),n.controls.type(e,t,!0,!0,!0,"value",!1,!0,(0,i.pgettext)("block:calculator","Input (dividend)")),n.controls.type(e,t,!0,!0,!0,"divisor",!1,!1,(0,i.pgettext)("block:calculator","Divisor"))}}},9422:function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0}),t.monthOperation=void 0;var i=o(9954),n=o(4596);t.monthOperation={name:function(e){return e.format("value","*".concat((0,i.pgettext)("block:calculator","month"),"* ("),")")},title:function(e){var t;return((0,i.isString)(e.value)?null===(t=(0,i.lookupVariable)(e.calculator.block,e.value))||void 0===t?void 0:t.label:"")||(0,i.pgettext)("block:calculator","Month")},editor:function(e,t){n.controls.explanation(t,(0,i.pgettext)("block:calculator","Retrieves the month (where 1 indicates the first month of the year) of the date."))}}},554:function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0}),t.numberOperation=void 0;var i=o(9954),n=o(4596),l=o(7680);t.numberOperation={name:function(e){return e.format("value")},title:function(e){var t;return((0,i.isString)(e.value)?(0,l.isConstant)(e.value)?(0,i.pgettext)("block:calculator","Constant"):null===(t=(0,i.lookupVariable)(e.calculator.block,e.value))||void 0===t?void 0:t.label:"")||(0,i.pgettext)("block:calculator","Number")},editor:function(e,t){n.controls.explanation(t,(0,i.pgettext)("block:calculator","Supplies a number to the calulator.")),n.controls.type(e,t,(e.isSubCalculation||!e.calculator.startBlank||!e.isFirst)&&("="!==e.operator||e.isFirst),!0)}}},773:function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0}),t.occurrencesOperation=void 0;var i=o(9954),n=o(4596);t.occurrencesOperation={name:function(e){return"".concat((0,i.pgettext)("block:calculator","Count")," ").concat("regex"===e.compareMode?(0,i.isFilledString)(e.cona)&&i.Str.sanitize(e.cona)?"`".concat((0,i.makeMarkdownSafe)(e.cona),"`"):"`\\_\\_`":(0,i.isFilledString)(e.cona)?"**".concat((0,i.makeMarkdownSafe)(i.Str.replace(i.Str.replace(e.cona,"\n","↵")," ","⎵")),"**"):"*\\_\\_*"," ").concat((0,i.pgettext)("block:calculator","in")," ").concat(e.format("value",void 0,void 0,void 0,!0))},title:function(){return(0,i.pgettext)("block:calculator","Count occurrences")},editor:function(e,t){n.controls.explanation(t,(0,i.pgettext)("block:calculator","Counts the number of occurrences of a certain text or character."));var o=new i.Forms.Group([new i.Forms.Text("multiline","regex"!==e.compareMode&&(0,i.isString)(e.cona)&&e.cona||"").on((function(t){t.isObservable&&(e.cona=t.value||void 0)})).sanitize(!1).action("@",(0,i.insertVariable)(e.calculator.block)).autoFocus(),new i.Forms.Checkbox((0,i.pgettext)("block:calculator","Ignore case"),i.Forms.Checkbox.bind(e,"ignoreCase",void 0,!0))]).visible("regex"!==e.compareMode),l=new i.Forms.Group([new i.Forms.Text("singleline","regex"===e.compareMode&&(0,i.isString)(e.cona)&&e.cona||"").placeholder((0,i.pgettext)("block:calculator","Regex literal (for example /ab+c/)")).on((function(t){t.isObservable&&(e.cona=t.value||void 0)})).autoValidate((function(e){if(!e.value)return"unknown";try{var t=e.value.indexOf("/"),o=e.value.lastIndexOf("/");return 0===t&&o>t&&function(e,t){try{return new RegExp(e.substring(1,t),e.substr(t+1))instanceof RegExp}catch(e){return!1}}(e.value,o)?"pass":"fail"}catch(e){return"fail"}}))]).visible("regex"===e.compareMode);t.form({title:(0,i.pgettext)("block:calculator","Count"),controls:[new i.Forms.Radiobutton([{label:(0,i.pgettext)("block:calculator","Text"),value:"contains"},{label:(0,i.pgettext)("block:calculator","Regular expression"),value:"regex"}],e.compareMode||"contains").on((function(t){e.compareMode=t.value||"contains",o.visible("regex"!==e.compareMode),l.visible("regex"===e.compareMode)})),o,l]})}}},6426:function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0}),t.percentageOperation=void 0;var i=o(9954),n=o(4596);t.percentageOperation={name:function(e){var t=e.format("percentage","","% ",!0),o=e.format("value",(0,i.pgettext)("block:calculator","of"));return t&&o?t+o:""},title:function(){return(0,i.pgettext)("block:calculator","Percentage")+" (%)"},editor:function(e,t){n.controls.explanation(t,(0,i.pgettext)("block:calculator","Calculates a percentage of the input ([learn more](https://en.wikipedia.org/wiki/Percentage)).")),n.controls.type(e,t,!0,!0,!0,"value",!1,!0,(0,i.pgettext)("block:calculator","Input")),n.controls.type(e,t,!0,!1,!0,"percentage",!1,!1,(0,i.pgettext)("block:calculator","Percentage"))}}},8340:function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0}),t.powOperation=void 0;var i=o(9954),n=o(4596);t.powOperation={name:function(e){var t=e.format("value","","^ "),o=e.format("exponent");return t&&o?t+o:""},title:function(){return(0,i.pgettext)("block:calculator","Power")},editor:function(e,t){n.controls.explanation(t,(0,i.pgettext)("block:calculator","Calculates the base to the power of the given exponent ([learn more](https://en.wikipedia.org/wiki/Exponentiation)).")),n.controls.type(e,t,!0,!0,!0,"value",!1,!0,(0,i.pgettext)("block:calculator","Base")),n.controls.type(e,t,!0,!0,!0,"exponent",!1,!1,(0,i.pgettext)("block:calculator","Exponent"))}}},738:function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0}),t.roundOperation=void 0;var i=o(9954),n=o(4596);t.roundOperation={name:function(e){return e.format("value","*round* (",")")},title:function(){return(0,i.pgettext)("block:calculator","Round")},editor:function(e,t){n.controls.explanation(t,(0,i.pgettext)("block:calculator","Rounds a floating point number ([learn more](https://en.wikipedia.org/wiki/Rounding)).")),n.controls.type(e,t,!0,!0)}}},8652:function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0}),t.scoreOperation=void 0;var i=o(9954),n=o(4596);t.scoreOperation={name:function(e){return e.format("value","*".concat((0,i.pgettext)("block:calculator","score"),"* ("),")")},title:function(e){var t;return((0,i.isString)(e.value)?null===(t=(0,i.lookupVariable)(e.calculator.block,e.value))||void 0===t?void 0:t.label:"")||(0,i.pgettext)("block:calculator","Score")},editor:function(e,t){var o,l=(0,i.isString)(e.value)&&(0,i.lookupVariable)(e.calculator.block,e.value);if(n.controls.explanation(t,(0,i.pgettext)("block:calculator","Calculates a score based on the score list below.")),l&&l.block instanceof i.NodeBlock){var a=l.slot||l.pipe;if(a){var r=[],c=function(t,o,n,l){if(n=n||"",t&&(o||n)){var a=e.scores&&e.scores[t];r.push(new i.Forms.Numeric((0,i.isNumberFinite)(a)?a:l).precision("auto").thousands(!1).markdown({features:i.Markdown.MarkdownFeatures.Formatting}).label(o&&n?"**".concat(o,"** *").concat(n,"*"):o||n).on((function(e){return u(t,e.value)})))}},u=function(t,o){e.scores||(e.scores={}),e.scores[t]!==o&&((0,i.set)(e.scores,t,o),e.calculator.block.detectChange())},s=i.Collection.find(l);if(s)s.collection.each((function(e){return c(e.id,e.labelWithoutMarkdown,(0,i.makeMarkdownSafe)(e.getAliasOfItem()),e.getScoreOfItem())}));else{var d=(0,i.getMetadata)(l.block,"calculator");d&&(0,i.each)(null===(o=d[a.reference]||d["*"])||void 0===o?void 0:o.scores,(function(e){return c((0,i.castToString)(e.reference),e.label||(a instanceof i.Slots.Boolean?!0===e.reference?a.labelForTrue||(0,i.pgettext)("block:calculator","True"):!1===e.reference?a.labelForFalse||(0,i.pgettext)("block:calculator","False"):"":void 0),e.alias,e.score)}))}r.length&&(r[0].autoFocus(),r[r.length-1].enter(t.close),r[r.length-1].escape(t.close)),t.form({title:(0,i.pgettext)("block:calculator","Scores"),controls:r.length?r:[new i.Forms.Notification((0,i.pgettext)("block:calculator","There are no scorable items found for this block. Make sure to add items to the block first and then return here to set their scores."),"info")]})}}}}},7604:function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0}),t.secondOperation=void 0;var i=o(9954),n=o(4596);t.secondOperation={name:function(e){return e.format("value","*".concat((0,i.pgettext)("block:calculator","second"),"* ("),")")},title:function(e){var t;return((0,i.isString)(e.value)?null===(t=(0,i.lookupVariable)(e.calculator.block,e.value))||void 0===t?void 0:t.label:"")||(0,i.pgettext)("block:calculator","Second")},editor:function(e,t){n.controls.explanation(t,(0,i.pgettext)("block:calculator","Retrieves a number between 0 and 59, representing the seconds of the date/time."))}}},5964:function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0}),t.sgnOperation=void 0;var i=o(9954),n=o(4596);t.sgnOperation={name:function(e){return e.format("value","*sgn* (",")")},title:function(){return(0,i.pgettext)("block:calculator","Sign")},editor:function(e,t){n.controls.explanation(t,(0,i.pgettext)("block:calculator","Extracts the sign of a number ([learn more](https://en.wikipedia.org/wiki/Sign_function)). For positive numbers this function returns `1` and for negative numbers `-1`. When the input is zero the function returns `0`.")),n.controls.type(e,t)}}},5301:function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0}),t.sinOperation=void 0;var i=o(9954),n=o(4596);t.sinOperation={name:function(e){return e.format("value","*sin* (",("radians"===e.angleUnits?"rad":"gradians"===e.angleUnits?"ᵍ":"°")+" )","radians"!==e.angleUnits)},title:function(){return(0,i.pgettext)("block:calculator","Sine")},editor:function(e,t){n.controls.explanation(t,(0,i.pgettext)("block:calculator","Calculates the sine of the given angle ([learn more](https://en.wikipedia.org/wiki/Trigonometric_functions)). The result is a number between `-1` and `1`."));var o=n.controls.type(e,t)[1];n.controls.angles(e,t,(function(e){return o.suffix("radians"===e?" rad":"gradians"===e?"ᵍ":"°")}))}}},3274:function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0}),t.sinhOperation=void 0;var i=o(9954),n=o(4596);t.sinhOperation={name:function(e){return e.format("value","*sinh* (",")")},title:function(){return(0,i.pgettext)("block:calculator","Hyperbolic sine")},editor:function(e,t){n.controls.explanation(t,(0,i.pgettext)("block:calculator","Calculates the hyperbolic sine of the given hyperbolic angle ([learn more](https://en.wikipedia.org/wiki/Hyperbolic_functions)).")),n.controls.type(e,t)}}},4444:function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0}),t.sqrtOperation=void 0;var i=o(9954),n=o(4596);t.sqrtOperation={name:function(e){return e.format("value","√")},title:function(){return"√"},editor:function(e,t){n.controls.explanation(t,(0,i.pgettext)("block:calculator","Finds the principal square root for the given input ([learn more](https://en.wikipedia.org/wiki/Square_root)).")),n.controls.type(e,t,!0,!0)}}},1173:function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0}),t.squareOperation=void 0;var i=o(9954),n=o(4596);t.squareOperation={name:function(e){return e.format("value",void 0,"²",!0)},title:function(){return"x²"},editor:function(e,t){n.controls.explanation(t,(0,i.pgettext)("block:calculator","Multiplies the given input by itself ([learn more](https://en.wikipedia.org/wiki/Square_%28algebra%29)).")),n.controls.type(e,t,!0,!0)}}},5613:function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0}),t.sumOperation=void 0;var i=o(9954),n=o(4596);t.sumOperation={name:function(e){return e.format("value","∑")},title:function(e){var t;return((0,i.isString)(e.value)?null===(t=(0,i.lookupVariable)(e.calculator.block,e.value))||void 0===t?void 0:t.label:"")||(0,i.pgettext)("block:calculator","Sum")},editor:function(e,t){n.controls.explanation(t,(0,i.pgettext)("block:calculator","Adds up the values of all given answers."))}}},2427:function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0}),t.tanOperation=void 0;var i=o(9954),n=o(4596);t.tanOperation={name:function(e){return e.format("value","*tan* (",("radians"===e.angleUnits?"rad":"gradians"===e.angleUnits?"ᵍ":"°")+" )","radians"!==e.angleUnits)},title:function(){return(0,i.pgettext)("block:calculator","Tangent")},editor:function(e,t){n.controls.explanation(t,(0,i.pgettext)("block:calculator","Calculates the tangent of the given angle ([learn more](https://en.wikipedia.org/wiki/Trigonometric_functions))."));var o=n.controls.type(e,t)[1];n.controls.angles(e,t,(function(e){return o.suffix("radians"===e?" rad":"gradians"===e?"ᵍ":"°")}))}}},6989:function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0}),t.tanhOperation=void 0;var i=o(9954),n=o(4596);t.tanhOperation={name:function(e){return e.format("value","*tanh* (",")")},title:function(){return(0,i.pgettext)("block:calculator","Hyperbolic tangent")},editor:function(e,t){n.controls.explanation(t,(0,i.pgettext)("block:calculator","Calculates the hyperbolic tangent of the given hyperbolic angle ([learn more](https://en.wikipedia.org/wiki/Hyperbolic_functions)).")),n.controls.type(e,t)}}},6592:function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0}),t.truncOperation=void 0;var i=o(9954),n=o(4596);t.truncOperation={name:function(e){return e.format("value","*trunc* (",")")},title:function(){return(0,i.pgettext)("block:calculator","Trunc")},editor:function(e,t){n.controls.explanation(t,(0,i.pgettext)("block:calculator","Removes decimals from a floating point number.")),n.controls.type(e,t,!0,!0)}}},2552:function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0}),t.wordsOperation=void 0;var i=o(9954),n=o(4596);t.wordsOperation={name:function(e){return e.format("value","*".concat((0,i.pgettext)("block:calculator","words"),"* ("),")")},title:function(){return(0,i.pgettext)("block:calculator","Word count")},editor:function(e,t){n.controls.explanation(t,(0,i.pgettext)("block:calculator","Counts the number of words in a text."))}}},2352:function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0}),t.yearOperation=void 0;var i=o(9954),n=o(4596);t.yearOperation={name:function(e){return e.format("value","*".concat((0,i.pgettext)("block:calculator","year"),"* ("),")")},title:function(e){var t;return((0,i.isString)(e.value)?null===(t=(0,i.lookupVariable)(e.calculator.block,e.value))||void 0===t?void 0:t.label:"")||(0,i.pgettext)("block:calculator","Year")},editor:function(e,t){n.controls.explanation(t,(0,i.pgettext)("block:calculator","Retrieves the year of the date."))}}},7680:function(e,t){function o(e){if("string"==typeof e)for(var o=t.CONSTANTS.length,i=0;i<o;i++)if(t.CONSTANTS[i]===e)return!0;return!1}Object.defineProperty(t,"__esModule",{value:!0}),t.getConstant=t.castToConstant=t.isConstant=t.CONSTANTS=void 0,t.CONSTANTS=["π","e","γ","c","random","timestamp","year","month","day","day-of-week","hour","minute","second","millisecond","timezone","branch"],t.isConstant=o,t.castToConstant=function(e){return"string"==typeof e&&o(e)?e:"π"},t.getConstant=function(e,t){switch(e){case"π":return Math.PI;case"e":return Math.E;case"γ":return.5772156649015329;case"c":return 299792458;case"random":return Math.random();case"timestamp":return Date.now()/1e3;case"year":return(new Date).getFullYear();case"month":return(new Date).getMonth()+1;case"day":return(new Date).getDate();case"day-of-week":return(new Date).getDay();case"hour":return(new Date).getHours();case"minute":return(new Date).getMinutes();case"second":return(new Date).getSeconds();case"millisecond":return(new Date).getMilliseconds();case"timezone":return 60*(new Date).getTimezoneOffset()*1e3;case"branch":return t.index}}},7200:function(e,t,o){o.r(t),t.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0iI0E4QzZERiI+PHBhdGggZD0iTTE4IDE5LjVIMmMtLjgyNyAwLTEuNS0uNjczLTEuNS0xLjVWMkMuNSAxLjE3MyAxLjE3My41IDIgLjVoMTZjLjgyNyAwIDEuNS42NzMgMS41IDEuNXYxNmMwIC44MjctLjY3MyAxLjUtMS41IDEuNXpNMiAxLjVhLjUuNSAwIDAgMC0uNS41djE2YS41LjUgMCAwIDAgLjUuNWgxNmEuNS41IDAgMCAwIC41LS41VjJhLjUuNSAwIDAgMC0uNS0uNXoiIGNsYXNzPSJ0cmlwZXR0by1maWxsIi8+PHBhdGggZD0iTTE1IDkuNWgtNC41VjVhLjUuNSAwIDAgMC0xIDB2NC41SDVhLjUuNSAwIDAgMCAwIDFoNC41VjE1YS41LjUgMCAwIDAgMSAwdi00LjVIMTVhLjUuNSAwIDAgMCAwLTF6IiBjbGFzcz0idHJpcGV0dG8tZmlsbCIvPjwvZz48L3N2Zz4="},4948:function(e,t,o){o.r(t),t.default="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCI+PHBhdGggZD0iTTIgNmEuNTAyLjUwMiAwIDAgMS0uMzU0LS4xNDZsLTEuNS0xLjVhLjUuNSAwIDAgMSAuNzA3LS43MDdsMS4xNDYgMS4xNDZMNi4xNDUuNjQ3YS41LjUgMCAwIDEgLjcwNy43MDdsLTQuNSA0LjVBLjQ5OC40OTggMCAwIDEgMS45OTggNnptMTcuNS0xaC0xMmEuNS41IDAgMCAxIDAtMWgxMmEuNS41IDAgMCAxIDAgMXpNMiAxM2EuNTAyLjUwMiAwIDAgMS0uMzU0LS4xNDZsLTEuNS0xLjVhLjUuNSAwIDAgMSAuNzA3LS43MDdsMS4xNDYgMS4xNDYgNC4xNDYtNC4xNDZhLjUuNSAwIDAgMSAuNzA3LjcwN2wtNC41IDQuNWEuNDk4LjQ5OCAwIDAgMS0uMzU0LjE0NnptMTcuNS0xaC0xMmEuNS41IDAgMCAxIDAtMWgxMmEuNS41IDAgMCAxIDAgMXpNMiAyMGEuNTAyLjUwMiAwIDAgMS0uMzU0LS4xNDZsLTEuNS0xLjVhLjUuNSAwIDAgMSAuNzA3LS43MDdsMS4xNDYgMS4xNDYgNC4xNDYtNC4xNDZhLjUuNSAwIDAgMSAuNzA3LjcwN2wtNC41IDQuNWEuNDk4LjQ5OCAwIDAgMS0uMzU0LjE0NnptMTcuNS0xaC0xMmEuNS41IDAgMCAxIDAtMWgxMmEuNS41IDAgMCAxIDAgMXoiIGNsYXNzPSJ0cmlwZXR0by1maWxsIi8+PC9zdmc+"},6456:function(e,t,o){o.r(t),t.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0iI0E4QzZERiI+PHBhdGggZD0iTTE4IDE5LjVIMmMtLjgyNyAwLTEuNS0uNjczLTEuNS0xLjVWMkMuNSAxLjE3MyAxLjE3My41IDIgLjVoMTZjLjgyNyAwIDEuNS42NzMgMS41IDEuNXYxNmMwIC44MjctLjY3MyAxLjUtMS41IDEuNXpNMiAxLjVhLjUuNSAwIDAgMC0uNS41djE2YS41LjUgMCAwIDAgLjUuNWgxNmEuNS41IDAgMCAwIC41LS41VjJhLjUuNSAwIDAgMC0uNS0uNXoiIGNsYXNzPSJ0cmlwZXR0by1maWxsIi8+PHBhdGggZD0iTTE1IDEwLjVINWEuNS41IDAgMCAxIDAtMWgxMGEuNS41IDAgMCAxIDAgMXpNMTAgOGMtLjU1MSAwLTEtLjQ0OS0xLTFzLjQ0OS0xIDEtMWMuNTUxIDAgMSAuNDQ5IDEgMXMtLjQ0OSAxLTEgMXptMCA2Yy0uNTUxIDAtMS0uNDQ5LTEtMXMuNDQ5LTEgMS0xYy41NTEgMCAxIC40NDkgMSAxcy0uNDQ5IDEtMSAxeiIgY2xhc3M9InRyaXBldHRvLWZpbGwiLz48L2c+PC9zdmc+"},4387:function(e,t,o){o.r(t),t.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTIgLjVDMS4xNzMuNS41IDEuMTczLjUgMnYxNmMwIC44MjcuNjczIDEuNSAxLjUgMS41aDE2Yy44MjcgMCAxLjUtLjY3MyAxLjUtMS41VjJjMC0uODI3LS42NzMtMS41LTEuNS0xLjVIMnpNNSA4aDEwYS41LjUgMCAwIDEgMCAxSDVhLjUuNSAwIDAgMSAwLTF6bTAgM2gxMGEuNS41IDAgMCAxIDAgMUg1YS41LjUgMCAwIDEgMC0xeiIgZmlsbD0iI0E4QzZERiIgY2xhc3M9InRyaXBldHRvLWZpbGwiLz48L3N2Zz4="},4908:function(e,t,o){o.r(t),t.default="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbDpzcGFjZT0icHJlc2VydmUiIHdpZHRoPSI1ODAiIGhlaWdodD0iNTgwIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiIgdGV4dC1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiIgaW1hZ2UtcmVuZGVyaW5nPSJvcHRpbWl6ZVF1YWxpdHkiIHZpZXdCb3g9IjAgMCA1ODAwIDU4MDAiPjxwYXRoIGNsYXNzPSJ0cmlwZXR0by1maWxsIiBkPSJNNTEwMCAyMzAwaC0zNTZsLTgyNCA5MTYgNDQxIDg4NGgzMzl2MjAwaC00MDBjLTM2IDAtNzItMjEtODktNTVsLTQzNS04NzAtODAyIDg5MmMtNSA1LTc0IDMzLTc0IDMzaC00MDB2LTIwMGgzNTZsODI0LTkxNi00NDEtODg0aC0zMzl2LTIwMGg0MDBjNDMgMCA3OSAyNyA5MyA2NGw0MzEgODYxIDc5OC04ODhjMTgtMjIgNDctMzcgNzgtMzdoNDAwdjIwMHoiLz48cGF0aCBjbGFzcz0idHJpcGV0dG8tZmlsbCIgZD0iTTMwMCAyOTAwaDQwMGM0OCAwIDg3IDMzIDk3IDc4bDUwMCAxNDk5TDI0MDUgOTcwYzEzLTQzIDUzLTcwIDk1LTcwaDMwMDB2MjAwSDI1NzNMMTM5NSA0ODMwYy05IDI5LTMyIDU0LTY0IDY1LTUyIDE3LTEwOC0xMi0xMjYtNjRMNjI4IDMxMDBIMzAwdi0yMDB6Ii8+PC9zdmc+"},4617:function(e,t,o){o.r(t),t.default="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCI+PHBhdGggZD0iTTcuNSAxMGgtNkMuNjczIDEwIDAgOS4zMjcgMCA4LjV2LTZDMCAxLjY3My42NzMgMSAxLjUgMWg2QzguMzI3IDEgOSAxLjY3MyA5IDIuNXY2YzAgLjgyNy0uNjczIDEuNS0xLjUgMS41em0tNi04YS41LjUgMCAwIDAtLjUuNXY2YS41LjUgMCAwIDAgLjUuNWg2YS41LjUgMCAwIDAgLjUtLjV2LTZhLjUuNSAwIDAgMC0uNS0uNWgtNnptNiAxOGgtNkMuNjczIDIwIDAgMTkuMzI3IDAgMTguNXYtNmMwLS44MjcuNjczLTEuNSAxLjUtMS41aDZjLjgyNyAwIDEuNS42NzMgMS41IDEuNXY2YzAgLjgyNy0uNjczIDEuNS0xLjUgMS41em0tNi04YS41LjUgMCAwIDAtLjUuNXY2YS41LjUgMCAwIDAgLjUuNWg2YS41LjUgMCAwIDAgLjUtLjV2LTZhLjUuNSAwIDAgMC0uNS0uNWgtNnoiIGNsYXNzPSJ0cmlwZXR0by1maWxsIi8+PHBhdGggZD0iTTYuNSA2aC00YS41LjUgMCAwIDEgMC0xaDRhLjUuNSAwIDAgMSAwIDF6bTAgOUg1di0xLjVhLjUuNSAwIDAgMC0xIDBWMTVIMi41YS41LjUgMCAwIDAgMCAxSDR2MS41YS41LjUgMCAwIDAgMSAwVjE2aDEuNWEuNS41IDAgMCAwIDAtMXptMTEgNWgtNmMtLjgyNyAwLTEuNS0uNjczLTEuNS0xLjV2LTE2YzAtLjgyNy42NzMtMS41IDEuNS0xLjVoNmMuODI3IDAgMS41LjY3MyAxLjUgMS41djE2YzAgLjgyNy0uNjczIDEuNS0xLjUgMS41em0tNi0xOGEuNS41IDAgMCAwLS41LjV2MTZhLjUuNSAwIDAgMCAuNS41aDZhLjUuNSAwIDAgMCAuNS0uNXYtMTZhLjUuNSAwIDAgMC0uNS0uNWgtNnoiIGNsYXNzPSJ0cmlwZXR0by1maWxsIi8+PHBhdGggZD0iTTE2LjUgMTBoLTRhLjUuNSAwIDAgMSAwLTFoNGEuNS41IDAgMCAxIDAgMXptMCAyaC00YS41LjUgMCAwIDEgMC0xaDRhLjUuNSAwIDAgMSAwIDF6IiBjbGFzcz0idHJpcGV0dG8tZmlsbCIvPjwvc3ZnPg=="},3265:function(e,t,o){o.r(t),t.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTIgLjVDMS4xNzMuNS41IDEuMTczLjUgMnYxNmMwIC44MjcuNjczIDEuNSAxLjUgMS41aDE2Yy44MjcgMCAxLjUtLjY3MyAxLjUtMS41VjJjMC0uODI3LS42NzMtMS41LTEuNS0xLjVIMnptOS43NSA2Yy4xMjggMCAuMjU2LjA0OS4zNTQuMTQ2bDMgM2EuNS41IDAgMCAxIDAgLjcwOGwtMyAzYS41LjUgMCAwIDEtLjcwOC0uNzA4bDIuMTQ3LTIuMTQ2SDUuMjVhLjUuNSAwIDAgMSAwLTFoOC4yOTNsLTIuMTQ3LTIuMTQ1YS41MDIuNTAyIDAgMCAxIC4zNTQtLjg1NXoiIGZpbGw9IiNBOEM2REYiIGNsYXNzPSJ0cmlwZXR0by1maWxsIi8+PC9zdmc+"},6322:function(e,t,o){o.r(t),t.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0iI0E4QzZERiI+PHBhdGggZD0iTTE4IDE5LjVIMmMtLjgyNyAwLTEuNS0uNjczLTEuNS0xLjVWMkMuNSAxLjE3MyAxLjE3My41IDIgLjVoMTZjLjgyNyAwIDEuNS42NzMgMS41IDEuNXYxNmMwIC44MjctLjY3MyAxLjUtMS41IDEuNXpNMiAxLjVhLjUuNSAwIDAgMC0uNS41djE2YS41LjUgMCAwIDAgLjUuNWgxNmEuNS41IDAgMCAwIC41LS41VjJhLjUuNSAwIDAgMC0uNS0uNXoiIGNsYXNzPSJ0cmlwZXR0by1maWxsIi8+PHBhdGggZD0iTTE0LjgzMiAxMy42MjYgMTAuNzUyIDEwbDQuMDgtMy42MjZhLjUuNSAwIDAgMC0uNjY0LS43NDhMMTAgOS4zMzEgNS44MzIgNS42MjZhLjUuNSAwIDEgMC0uNjY0Ljc0OEw5LjI0OCAxMGwtNC4wOCAzLjYyNmEuNS41IDAgMCAwIC42NjQuNzQ4TDEwIDEwLjY2OWw0LjE2OCAzLjcwNWEuNS41IDAgMSAwIC42NjQtLjc0OHoiIGNsYXNzPSJ0cmlwZXR0by1maWxsIi8+PC9nPjwvc3ZnPg=="},2547:function(e,t,o){o.r(t),t.default="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbDpzcGFjZT0icHJlc2VydmUiIHdpZHRoPSI1ODAiIGhlaWdodD0iNTgwIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiIgdGV4dC1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiIgaW1hZ2UtcmVuZGVyaW5nPSJvcHRpbWl6ZVF1YWxpdHkiIHZpZXdCb3g9IjAgMCA1ODAwIDU4MDAiPjxwYXRoIGNsYXNzPSJ0cmlwZXR0by1maWxsIiBkPSJNNzAwIDE1MDBoNDQwMGMyMjAgMCA0MDAgMTgwIDQwMCA0MDB2MjAwMGMwIDIyMC0xODAgNDAwLTQwMCA0MDBINzAwYy0yMjAgMC00MDAtMTgwLTQwMC00MDBWMTkwMGMwLTIyMCAxODAtNDAwIDQwMC00MDB6bTMxMDAgMjAwdjI0MDBoMTMwMGMxMTAgMCAyMDAtOTAgMjAwLTIwMFYxOTAwYzAtMTEwLTkwLTIwMC0yMDAtMjAwSDM4MDB6bS0yMDAgMjQwMFYxNzAwSDcwMGMtMTEwIDAtMjAwIDkwLTIwMCAyMDB2MjAwMGMwIDExMCA5MCAyMDAgMjAwIDIwMGgyOTAwem0xMzAwLTE0MDBjMC0xMjEtNzktMjAwLTIwMC0yMDBoLTIwMGMtMTIxIDAtMjAwIDc5LTIwMCAyMDB2NDAwYzAgMTIxIDc5IDIwMCAyMDAgMjAwaDIwMGMxMjEgMCAyMDAtNzkgMjAwLTIwMHYtNDAwem0yMDAgMHY0MDBjMCAyMzEtMTY5IDQwMC00MDAgNDAwaC0yMDBjLTIzMSAwLTQwMC0xNjktNDAwLTQwMHYtNDAwYzAtMjMxIDE2OS00MDAgNDAwLTQwMGgyMDBjMjMxIDAgNDAwIDE2OSA0MDAgNDAwem0tMjAwMCAwYzAtMTIxLTc5LTIwMC0yMDAtMjAwaC0yMDBjLTEyMSAwLTIwMCA3OS0yMDAgMjAwdjQwMGMwIDEyMSA3OSAyMDAgMjAwIDIwMGgyMDBjMTIxIDAgMjAwLTc5IDIwMC0yMDB2LTQwMHptMjAwIDB2NDAwYzAgMjMxLTE2OSA0MDAtNDAwIDQwMGgtMjAwYy0yMzEgMC00MDAtMTY5LTQwMC00MDB2LTQwMGMwLTIzMSAxNjktNDAwIDQwMC00MDBoMjAwYzIzMSAwIDQwMCAxNjkgNDAwIDQwMHptLTE2MDAgMGMwLTEyMS03OS0yMDAtMjAwLTIwMGgtMjAwYy0xMjEgMC0yMDAgNzktMjAwIDIwMHY0MDBjMCAxMjEgNzkgMjAwIDIwMCAyMDBoMjAwYzEyMSAwIDIwMC03OSAyMDAtMjAwdi00MDB6bTIwMCAwdjQwMGMwIDIzMS0xNjkgNDAwLTQwMCA0MDBoLTIwMGMtMjMxIDAtNDAwLTE2OS00MDAtNDAwdi00MDBjMC0yMzEgMTY5LTQwMCA0MDAtNDAwaDIwMGMyMzEgMCA0MDAgMTY5IDQwMCA0MDB6Ii8+PC9zdmc+"},4750:function(e,t,o){o.r(t),t.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0iI0E4QzZERiI+PHBhdGggZD0iTTE4IDE5LjVIMmMtLjgyNyAwLTEuNS0uNjczLTEuNS0xLjVWMkMuNSAxLjE3MyAxLjE3My41IDIgLjVoMTZjLjgyNyAwIDEuNS42NzMgMS41IDEuNXYxNmMwIC44MjctLjY3MyAxLjUtMS41IDEuNXpNMiAxLjVhLjUuNSAwIDAgMC0uNS41djE2YS41LjUgMCAwIDAgLjUuNWgxNmEuNS41IDAgMCAwIC41LS41VjJhLjUuNSAwIDAgMC0uNS0uNXoiIGNsYXNzPSJ0cmlwZXR0by1maWxsIi8+PHBhdGggZD0iTTE1IDEwLjVINWEuNS41IDAgMCAxIDAtMWgxMGEuNS41IDAgMCAxIDAgMXoiIGNsYXNzPSJ0cmlwZXR0by1maWxsIi8+PC9nPjwvc3ZnPg=="},9954:function(e){e.exports=o(975)}},i={};function n(e){var o=i[e];if(void 0!==o)return o.exports;var l=i[e]={exports:{}};return t[e].call(l.exports,l,l.exports,n),l.exports}n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var l={};!function(){var e=l;Object.defineProperty(e,"__esModule",{value:!0}),e.calculator=e.Operation=e.Calculator=void 0;var t=n(4533);Object.defineProperty(e,"Calculator",{enumerable:!0,get:function(){return t.Calculator}});var o=n(3208);Object.defineProperty(e,"Operation",{enumerable:!0,get:function(){return o.Operation}});var i=n(5331);Object.defineProperty(e,"calculator",{enumerable:!0,get:function(){return i.calculator}})}(),e.exports=l}()},228:function(e,t,o){!function(){"use strict";var t={702:function(e,t,o){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=this&&this.__decorate||function(e,t,o,i){var n,l=arguments.length,a=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(l<3?n(a):l>3?n(t,o,a):n(t,o))||a);return l>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.CheckboxCondition=void 0;var a=o(954),r=o(537),c=o(134),u=o(970),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.checked=!0,t}return n(t,e),Object.defineProperty(t.prototype,"icon",{get:function(){return this.checked?c.default:u.default},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checked?this.slot instanceof a.Slots.Boolean&&this.slot.labelForTrue||(0,a.pgettext)("block:checkbox","Checked"):this.slot instanceof a.Slots.Boolean&&this.slot.labelForFalse||(0,a.pgettext)("block:checkbox","Not checked")},enumerable:!1,configurable:!0}),t.prototype.defineEditor=function(){var e,t;(null===(e=this.node)||void 0===e?void 0:e.label)&&this.editor.form({controls:[new a.Forms.Checkbox(null===(t=this.node)||void 0===t?void 0:t.label,a.Forms.Checkbox.bind(this,"checked",!0))]})},l([a.definition,(0,a.affects)("#name")],t.prototype,"checked",void 0),l([a.editor],t.prototype,"defineEditor",null),l([(0,a.tripetto)({type:"condition",legacyBlock:!0,context:"@tripetto/block-checkbox",identifier:"@tripetto/block-checkbox",version:"6.0.2",icon:r.default,get label(){return(0,a.pgettext)("block:checkbox","Checkbox state")}})],t)}(a.ConditionBlock);t.CheckboxCondition=s},287:function(e,t,o){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=this&&this.__decorate||function(e,t,o,i){var n,l=arguments.length,a=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(l<3?n(a):l>3?n(t,o,a):n(t,o))||a);return l>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.ScoreCondition=void 0;var a=o(954),r=o(939),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.allowMarkdown=!0,t.mode="equal",t}return n(t,e),Object.defineProperty(t.prototype,"label",{get:function(){return""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){var e=this.slot;if(e instanceof a.Slots.Numeric){var t=this.parse(e,this.value);switch(this.mode){case"between":return"".concat(t," ≤ @").concat(e.id," ≤ ").concat(this.parse(e,this.to));case"not-between":return"@".concat(e.id," < ").concat(t," ").concat((0,a.pgettext)("block:checkbox","or")," @").concat(e.id," > ").concat(this.parse(e,this.to));case"defined":return"@".concat(e.id," ").concat((0,a.pgettext)("block:checkbox","calculated"));case"undefined":return"@".concat(e.id," ").concat((0,a.pgettext)("block:checkbox","not calculated"));case"not-equal":return"@".concat(e.id," ≠ ").concat(t);case"above":case"below":case"equal":return"@".concat(e.id," ").concat("above"===this.mode?">":"below"===this.mode?"<":"="," ").concat(t)}}return this.type.label},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){var e,t;return(null===(e=this.slot)||void 0===e?void 0:e.label)||(null===(t=this.node)||void 0===t?void 0:t.label)},enumerable:!1,configurable:!0}),t.prototype.parse=function(e,t){var o;return(0,a.isNumberFinite)(t)?e.toString(t,(function(e,t){return a.L10n.locale.number(e,t,!1)})):(0,a.isString)(t)&&t&&(null===(o=(0,a.lookupVariable)(this,t))||void 0===o?void 0:o.label)?"@".concat(t):"\\_\\_"},t.prototype.defineEditor=function(){var e=this;this.editor.form({title:(0,a.pgettext)("block:checkbox","Compare mode"),controls:[new a.Forms.Radiobutton([{label:(0,a.pgettext)("block:checkbox","Score is equal to"),value:"equal"},{label:(0,a.pgettext)("block:checkbox","Score is not equal to"),value:"not-equal"},{label:(0,a.pgettext)("block:checkbox","Score is lower than"),value:"below"},{label:(0,a.pgettext)("block:checkbox","Score is higher than"),value:"above"},{label:(0,a.pgettext)("block:checkbox","Score is between"),value:"between"},{label:(0,a.pgettext)("block:checkbox","Score is not between"),value:"not-between"},{label:(0,a.pgettext)("block:checkbox","Score is calculated"),value:"defined"},{label:(0,a.pgettext)("block:checkbox","Score is not calculated"),value:"undefined"}],a.Forms.Radiobutton.bind(this,"mode","equal")).on((function(e){switch(o.visible("defined"!==e.value&&"undefined"!==e.value),i.visible("between"===e.value||"not-between"===e.value),e.value){case"equal":o.title=(0,a.pgettext)("block:checkbox","If score equals");break;case"not-equal":o.title=(0,a.pgettext)("block:checkbox","If score not equals");break;case"below":o.title=(0,a.pgettext)("block:checkbox","If score is lower than");break;case"above":o.title=(0,a.pgettext)("block:checkbox","If score is higher than");break;case"between":o.title=(0,a.pgettext)("block:checkbox","If score is between");break;case"not-between":o.title=(0,a.pgettext)("block:checkbox","If score is not between")}}))]});var t=function(t,o,i){var n,l=e[t],r=e.slot,c=new a.Forms.Numeric((0,a.isNumberFinite)(l)?l:0).label((0,a.pgettext)("block:checkbox","Use fixed number")).precision((null==r?void 0:r.precision)||0).digits((null==r?void 0:r.digits)||0).decimalSign((null==r?void 0:r.decimal)||"").thousands(!!(null==r?void 0:r.separator),(null==r?void 0:r.separator)||"").prefix((null==r?void 0:r.prefix)||"").prefixPlural((null==r?void 0:r.prefixPlural)||void 0).suffix((null==r?void 0:r.suffix)||"").suffixPlural((null==r?void 0:r.suffixPlural)||void 0).autoFocus("value"===t).escape(e.editor.close).enter((function(){return("between"!==e.mode&&"not-between"!==e.mode||"to"===t)&&e.editor.close()})).on((function(o){o.isFormVisible&&o.isObservable&&(e[t]=o.value)})),u=(0,a.populateVariables)(e,(function(e){return e instanceof a.Slots.Number||e instanceof a.Slots.Numeric}),(0,a.isString)(l)?l:void 0,!0,null===(n=e.slot)||void 0===n?void 0:n.id),s=new a.Forms.Dropdown(u,(0,a.isString)(l)?l:"").label((0,a.pgettext)("block:checkbox","Use value of")).width("full").on((function(o){o.isFormVisible&&o.isObservable&&(e[t]=o.value||"")}));return e.editor.form({title:o,controls:[new a.Forms.Radiobutton([{label:(0,a.pgettext)("block:checkbox","Number"),value:"number"},{label:(0,a.pgettext)("block:checkbox","Value"),value:"variable",disabled:0===u.length}],(0,a.isString)(l)?"variable":"number").on((function(e){c.visible("number"===e.value),s.visible("variable"===e.value),c.isObservable&&c.focus()})),c,s]}).visible(i)},o=t("value",(0,a.pgettext)("block:checkbox","If score equals"),"defined"!==this.mode&&"undefined"!==this.mode),i=t("to",(0,a.pgettext)("block:checkbox","And"),"between"===this.mode||"not-between"===this.mode)},l([a.definition,(0,a.affects)("#name")],t.prototype,"mode",void 0),l([a.definition,(0,a.affects)("#name")],t.prototype,"value",void 0),l([a.definition,(0,a.affects)("#name")],t.prototype,"to",void 0),l([a.editor],t.prototype,"defineEditor",null),l([(0,a.tripetto)({type:"condition",legacyBlock:!0,context:"@tripetto/block-checkbox",identifier:"".concat("@tripetto/block-checkbox",":score"),version:"6.0.2",icon:r.default,get label(){return(0,a.pgettext)("block:checkbox","Verify score")}})],t)}(a.ConditionBlock);t.ScoreCondition=c},110:function(e,t,o){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=this&&this.__decorate||function(e,t,o,i){var n,l=arguments.length,a=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(l<3?n(a):l>3?n(t,o,a):n(t,o))||a);return l>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.Checkbox=void 0;var a=o(954),r=o(702),c=o(287),u=o(134),s=o(970),d=o(939),p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),Object.defineProperty(t.prototype,"calculator",{get:function(){return{checked:{scores:[{reference:!0,score:this.scoreForTrue},{reference:!1,score:this.scoreForFalse}]}}},enumerable:!1,configurable:!0}),t.prototype.defineSlot=function(){this.checkboxSlot=this.slots.static({type:a.Slots.Boolean,reference:"checked",label:(0,a.pgettext)("block:checkbox","Checkbox"),exchange:["required","alias","exportable","labelForTrue","labelForFalse"]}),this.checkboxSlot.labelForTrue||(this.checkboxSlot.labelForTrue=(0,a.pgettext)("block:checkbox","Checked")),this.checkboxSlot.labelForFalse||(this.checkboxSlot.labelForFalse=(0,a.pgettext)("block:checkbox","Not checked"))},t.prototype.defineEditor=function(){var e=this;this.editor.name(!1,!1),this.editor.description(),this.editor.placeholder(),this.editor.explanation(),this.editor.groups.options(),this.editor.required(this.checkboxSlot,(0,a.pgettext)("block:checkbox","Checkbox needs to be checked")),this.editor.visibility();var t=(0,a.pgettext)("block:checkbox","Checked"),o=(0,a.pgettext)("block:checkbox","Not checked"),i=new a.Forms.Numeric(a.Forms.Numeric.bind(this,"scoreForTrue",void 0)).label(this.checkboxSlot.labelForTrue||t),n=new a.Forms.Numeric(a.Forms.Numeric.bind(this,"scoreForFalse",void 0)).label(this.checkboxSlot.labelForFalse||o);this.editor.option({name:(0,a.pgettext)("block:checkbox","Labels"),form:{title:(0,a.pgettext)("block:checkbox","Labels"),controls:[new a.Forms.Text("singleline",this.checkboxSlot.labelForTrue!==t?this.checkboxSlot.labelForTrue:void 0).placeholder(t).on((function(o){i.label(e.checkboxSlot.labelForTrue=o.isFeatureEnabled&&o.value||t)})),new a.Forms.Text("singleline",this.checkboxSlot.labelForFalse!==o?this.checkboxSlot.labelForFalse:void 0).placeholder(o).on((function(t){n.label(e.checkboxSlot.labelForFalse=t.isFeatureEnabled&&t.value||o)})),new a.Forms.Static((0,a.pgettext)("block:checkbox","These labels will be used in the dataset and override the default values %1 and %2.","**".concat(t,"**"),"**".concat(o,"**"))).markdown()]},activated:this.checkboxSlot.labelForTrue!==t||this.checkboxSlot.labelForFalse!==o}),this.editor.scores({target:this,scores:[i,n]}),this.editor.alias(this.checkboxSlot),this.editor.exportable(this.checkboxSlot)},t.prototype.defineConditions=function(){var e=this;(0,a.each)([{checked:!0,label:this.checkboxSlot.labelForTrue||(0,a.pgettext)("block:checkbox","Checkbox is checked"),icon:u.default},{checked:!1,label:this.checkboxSlot.labelForFalse||(0,a.pgettext)("block:checkbox","Checkbox is not checked"),icon:s.default}],(function(t){e.conditions.template({condition:r.CheckboxCondition,label:t.label,icon:t.icon,burst:!0,props:{slot:e.checkboxSlot,checked:t.checked}})}));var t=this.slots.select("score","feature");if(t&&t.label){var o=this.conditions.group(t.label,d.default,!1,!0);(0,a.each)([{mode:"equal",label:(0,a.pgettext)("block:checkbox","Score is equal to")},{mode:"not-equal",label:(0,a.pgettext)("block:checkbox","Score is not equal to")},{mode:"below",label:(0,a.pgettext)("block:checkbox","Score is lower than")},{mode:"above",label:(0,a.pgettext)("block:checkbox","Score is higher than")},{mode:"between",label:(0,a.pgettext)("block:checkbox","Score is between")},{mode:"not-between",label:(0,a.pgettext)("block:checkbox","Score is not between")},{mode:"defined",label:(0,a.pgettext)("block:checkbox","Score is calculated")},{mode:"undefined",label:(0,a.pgettext)("block:checkbox","Score is not calculated")}],(function(e){o.template({condition:c.ScoreCondition,label:e.label,autoOpen:"defined"!==e.mode&&"undefined"!==e.mode,props:{slot:t,mode:e.mode,value:0,to:"between"===e.mode||"not-between"===e.mode?0:void 0}})}))}},l([(0,a.definition)("number","optional")],t.prototype,"scoreForTrue",void 0),l([(0,a.definition)("number","optional")],t.prototype,"scoreForFalse",void 0),l([(0,a.metadata)("calculator")],t.prototype,"calculator",null),l([a.slots],t.prototype,"defineSlot",null),l([a.editor],t.prototype,"defineEditor",null),l([a.conditions],t.prototype,"defineConditions",null),l([(0,a.tripetto)({type:"node",legacyBlock:!0,identifier:"@tripetto/block-checkbox",version:"6.0.2",icon:u.default,alias:"checkbox",get label(){return(0,a.pgettext)("block:checkbox","Checkbox (single)")}})],t)}(a.NodeBlock);t.Checkbox=p},134:function(e,t,o){o.r(t),t.default="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCI+PHBhdGggZD0iTTE3LjUgMjBoLTE2Qy42NzMgMjAgMCAxOS4zMjcgMCAxOC41di0xNkMwIDEuNjczLjY3MyAxIDEuNSAxaDE2Yy44MjcgMCAxLjUuNjczIDEuNSAxLjV2MTZjMCAuODI3LS42NzMgMS41LTEuNSAxLjV6TTEuNSAyYS41LjUgMCAwIDAtLjUuNXYxNmEuNS41IDAgMCAwIC41LjVoMTZhLjUuNSAwIDAgMCAuNS0uNXYtMTZhLjUuNSAwIDAgMC0uNS0uNWgtMTZ6IiBjbGFzcz0idHJpcGV0dG8tZmlsbCIvPjxwYXRoIGQ9Ik03LjUgMTQuNWEuNTAyLjUwMiAwIDAgMS0uMzU0LS4xNDZsLTMtM2EuNS41IDAgMCAxIC43MDctLjcwN2wyLjY0NiAyLjY0NiA2LjY0Ni02LjY0NmEuNS41IDAgMCAxIC43MDcuNzA3bC03IDdhLjQ5OC40OTggMCAwIDEtLjM1NC4xNDZ6IiBjbGFzcz0idHJpcGV0dG8tZmlsbCIvPjwvc3ZnPg=="},537:function(e,t,o){o.r(t),t.default="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCI+PHBhdGggZD0iTTE2LjIzIDMuMzA3Yy0uMzk2LS4yNjgtLjk0OS0uNTA0LTEuNjQzLS43MDJDMTMuMjIxIDIuMjE1IDExLjQxNSAyIDkuNSAycy0zLjcyMi4yMTUtNS4wODcuNjA1Yy0uNjk0LjE5OC0xLjI0Ni40MzQtMS42NDMuNzAyLS42MzcuNDMtLjc3Ljg4Ni0uNzcgMS4xOTNWNWMwIC40MjguMzIxIDEuMTMzLjYzOSAxLjYwOWw0Ljg5MSA3LjMzNmMuMjUxLjM3Ni40NzEgMS4xMDMuNDcxIDEuNTU1djNhLjUuNSAwIDAgMCAuNzI0LjQ0N2wyLTFhLjUuNSAwIDAgMCAuMjc2LS40NDd2LTJjMC0uNDUyLjIyLTEuMTc5LjQ3MS0xLjU1NWw0Ljg5MS03LjMzNmMuMzE3LS40NzYuNjM5LTEuMTgyLjYzOS0xLjYwOXYtLjVjMC0uMzA3LS4xMzQtLjc2My0uNzctMS4xOTN6bS0xMS41NDIuMjZDNS45NjcgMy4yMDIgNy42NzYgMyA5LjUgM3MzLjUzNC4yMDEgNC44MTIuNTY3QzE1LjY5IDMuOTYxIDE2IDQuMzgzIDE2IDQuNXMtLjMxLjU0LTEuNjg4LjkzM0MxMy4wMzMgNS43OTggMTEuMzI0IDYgOS41IDZzLTMuNTM0LS4yMDEtNC44MTItLjU2N0MzLjMxIDUuMDM5IDMgNC42MTcgMyA0LjVzLjMxLS41NCAxLjY4OC0uOTMzem01Ljk1MSA5LjgyNGMtLjM1OC41MzctLjYzOSAxLjQ2NC0uNjM5IDIuMTA5djEuNjkxbC0xIC41VjE1LjVjMC0uNjQ2LS4yODEtMS41NzItLjYzOS0yLjEwOWwtNC44OC03LjMyYy4yNzQuMTE3LjU4NS4yMjYuOTMyLjMyNEM1Ljc3OSA2Ljc4NSA3LjU4NSA3IDkuNSA3czMuNzIyLS4yMTUgNS4wODctLjYwNWMuMzQ2LS4wOTkuNjU4LS4yMDcuOTMyLS4zMjVsLTQuODggNy4zMnoiIGNsYXNzPSJ0cmlwZXR0by1maWxsIi8+PC9zdmc+"},939:function(e,t,o){o.r(t),t.default="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCI+PHBhdGggZD0iTTE4LjUgOEgxM1YzLjVhLjUuNSAwIDAgMC0uNS0uNWgtNmEuNS41IDAgMCAwLS41LjVWNkguNWEuNS41IDAgMCAwLS41LjV2MTBhLjUuNSAwIDAgMCAuNS41aDE4YS41LjUgMCAwIDAgLjUtLjV2LThhLjUuNSAwIDAgMC0uNS0uNXpNNyA0aDV2MTJIN1Y0ek0xIDdoNXY5SDFWN3ptMTcgOWgtNVY5aDV2N3oiIGNsYXNzPSJ0cmlwZXR0by1maWxsIi8+PHBhdGggZD0iTTkuNSAxMGEuNS41IDAgMCAxLS41LS41di00YS41LjUgMCAwIDEgMSAwdjRhLjUuNSAwIDAgMS0uNS41em0tNSAzaC0yYS41LjUgMCAwIDEtLjUtLjV2LTJhLjUuNSAwIDAgMSAuNS0uNUg0VjlIMi41YS41LjUgMCAwIDEgMC0xaDJhLjUuNSAwIDAgMSAuNS41djJhLjUuNSAwIDAgMS0uNS41SDN2MWgxLjVhLjUuNSAwIDAgMSAwIDF6bTEyLTNoLTJhLjUuNSAwIDAgMCAwIDFIMTZ2MWgtMS41YS41LjUgMCAwIDAgMCAxSDE2djFoLTEuNWEuNS41IDAgMCAwIDAgMWgyYS41LjUgMCAwIDAgLjUtLjV2LTRhLjUuNSAwIDAgMC0uNS0uNXoiIGNsYXNzPSJ0cmlwZXR0by1maWxsIi8+PC9zdmc+"},970:function(e,t,o){o.r(t),t.default="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCI+PHBhdGggZD0iTTE3LjUgMjBoLTE2Qy42NzMgMjAgMCAxOS4zMjcgMCAxOC41di0xNkMwIDEuNjczLjY3MyAxIDEuNSAxaDE2Yy44MjcgMCAxLjUuNjczIDEuNSAxLjV2MTZjMCAuODI3LS42NzMgMS41LTEuNSAxLjV6TTEuNSAyYS41LjUgMCAwIDAtLjUuNXYxNmEuNS41IDAgMCAwIC41LjVoMTZhLjUuNSAwIDAgMCAuNS0uNXYtMTZhLjUuNSAwIDAgMC0uNS0uNWgtMTZ6IiBjbGFzcz0idHJpcGV0dG8tZmlsbCIvPjwvc3ZnPg=="},954:function(e){e.exports=o(975)}},i={};function n(e){var o=i[e];if(void 0!==o)return o.exports;var l=i[e]={exports:{}};return t[e].call(l.exports,l,l.exports,n),l.exports}n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var l=n(110);e.exports=l}()},88:function(e,t,o){!function(){"use strict";var t={315:function(e,t,o){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=this&&this.__decorate||function(e,t,o,i){var n,l=arguments.length,a=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(l<3?n(a):l>3?n(t,o,a):n(t,o))||a);return l>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.Checkbox=void 0;var a=o(954),r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.name="",t}return n(t,e),t.prototype.defineSlot=function(){var e=this.name&&(0,a.markdownifyToString)(this.name,a.Markdown.MarkdownFeatures.Formatting|a.Markdown.MarkdownFeatures.Hyperlinks)||void 0,t=this.ref.slots.dynamic({type:a.Slots.Boolean,reference:this.id,label:(0,a.pgettext)("block:checkboxes","Checkbox"),sequence:this.index,name:e,alias:this.value,required:this.ref.required,exportable:"concatenate"!==this.ref.format&&this.ref.exportable,pipeable:{label:(0,a.pgettext)("block:checkboxes","Checkbox"),content:this.name!==e?{string:e||"",markdown:this.name}:"name",alias:this.ref.alias,legacy:"Checkbox"}});t.labelForTrue=this.labelForTrue||this.ref.labelForTrue||(0,a.pgettext)("block:checkboxes","Checked"),t.labelForFalse=this.labelForFalse||this.ref.labelForFalse||(0,a.pgettext)("block:checkboxes","Not checked")},t.prototype.deleteSlot=function(){this.ref.slots.delete(this.id,"dynamic")},t.prototype.defineEditor=function(){this.editor.option({name:(0,a.pgettext)("block:checkboxes","Name"),form:{title:(0,a.pgettext)("block:checkboxes","Checkbox name"),controls:[new a.Forms.Text("singleline",a.Forms.Text.bind(this,"name","")).action("@",(0,a.insertVariable)(this)).autoFocus().autoSelect().enter(this.editor.close).escape(this.editor.close)]},locked:!0}),this.editor.option({name:(0,a.pgettext)("block:checkboxes","Description"),form:{title:(0,a.pgettext)("block:checkboxes","Description"),controls:[new a.Forms.Text("multiline",a.Forms.Text.bind(this,"description",void 0)).action("@",(0,a.insertVariable)(this))]},activated:(0,a.isString)(this.description)}),this.editor.group((0,a.pgettext)("block:checkboxes","Options")),this.editor.option({name:(0,a.pgettext)("block:checkboxes","Exclusivity"),form:{title:(0,a.pgettext)("block:checkboxes","Exclusivity"),controls:[new a.Forms.Checkbox((0,a.pgettext)("block:checkboxes","Uncheck all other checkboxes when checked"),a.Forms.Checkbox.bind(this,"exclusive",void 0,!0))]},activated:(0,a.isBoolean)(this.exclusive)});var e=(0,a.pgettext)("block:checkboxes","Checked"),t=(0,a.pgettext)("block:checkboxes","Not checked");this.editor.option({name:(0,a.pgettext)("block:checkboxes","Labels"),form:{title:(0,a.pgettext)("block:checkboxes","Labels"),controls:[new a.Forms.Text("singleline",a.Forms.Text.bind(this,"labelForTrue",void 0)).placeholder(e),new a.Forms.Text("singleline",a.Forms.Text.bind(this,"labelForFalse",void 0)).placeholder(t),new a.Forms.Static((0,a.pgettext)("block:checkboxes","These labels will be used in the dataset and override the default values %1 and %2.","**".concat(e,"**"),"**".concat(t,"**"))).markdown()]},activated:(0,a.isString)(this.labelForTrue)||(0,a.isString)(this.labelForFalse)}),this.editor.option({name:(0,a.pgettext)("block:checkboxes","Identifier"),form:{title:(0,a.pgettext)("block:checkboxes","Identifier"),controls:[new a.Forms.Text("singleline",a.Forms.Text.bind(this,"value",void 0)),new a.Forms.Static((0,a.pgettext)("block:checkboxes","If a checkbox identifier is set, this identifier will be used instead of the label."))]},activated:(0,a.isString)(this.value)});var o=this.ref.slots.select("score","feature");this.editor.option({name:(0,a.pgettext)("block:checkboxes","Score"),form:{title:(0,a.pgettext)("block:checkboxes","Score"),controls:[new a.Forms.Numeric(a.Forms.Numeric.bind(this,"score",void 0)).precision((null==o?void 0:o.precision)||0).digits((null==o?void 0:o.digits)||0).decimalSign((null==o?void 0:o.decimal)||"").thousands(!!(null==o?void 0:o.separator),(null==o?void 0:o.separator)||"").prefix((null==o?void 0:o.prefix)||"").prefixPlural((null==o?void 0:o.prefixPlural)||void 0).suffix((null==o?void 0:o.suffix)||"").suffixPlural((null==o?void 0:o.suffixPlural)||void 0)]},activated:!0,locked:!!o,disabled:!o})},l([(0,a.definition)("string"),a.name],t.prototype,"name",void 0),l([(0,a.definition)("string","optional")],t.prototype,"description",void 0),l([(0,a.definition)("string","optional"),a.alias],t.prototype,"value",void 0),l([(0,a.definition)("string","optional"),(0,a.affects)("#refresh")],t.prototype,"labelForTrue",void 0),l([(0,a.definition)("string","optional"),(0,a.affects)("#refresh")],t.prototype,"labelForFalse",void 0),l([(0,a.definition)("number","optional"),a.score],t.prototype,"score",void 0),l([(0,a.definition)("boolean","optional"),(0,a.affects)("#name")],t.prototype,"exclusive",void 0),l([a.created,a.reordered,a.renamed,a.refreshed],t.prototype,"defineSlot",null),l([a.deleted],t.prototype,"deleteSlot",null),l([a.editor],t.prototype,"defineEditor",null),t}(a.Collection.Item);t.Checkbox=r},702:function(e,t,o){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=this&&this.__decorate||function(e,t,o,i){var n,l=arguments.length,a=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(l<3?n(a):l>3?n(t,o,a):n(t,o))||a);return l>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.CheckboxCondition=void 0;var a=o(954),r=o(537),c=o(134),u=o(970),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.checked=!0,t}return n(t,e),Object.defineProperty(t.prototype,"icon",{get:function(){return this.checked?c.default:u.default},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){var e;return(0,a.markdownifyToString)((null===(e=this.checkbox)||void 0===e?void 0:e.name)||"")||this.type.label},enumerable:!1,configurable:!0}),t.prototype.defineEditor=function(){var e;this.editor.form({controls:[new a.Forms.Checkbox((0,a.markdownifyToString)((null===(e=this.checkbox)||void 0===e?void 0:e.name)||"")||(0,a.pgettext)("block:checkboxes","Checkbox is checked"),a.Forms.Checkbox.bind(this,"checked",!0))]})},l([(0,a.affects)("#name"),(0,a.collection)("#checkboxes")],t.prototype,"checkbox",void 0),l([(0,a.affects)("#icon"),a.definition],t.prototype,"checked",void 0),l([a.editor],t.prototype,"defineEditor",null),l([(0,a.tripetto)({type:"condition",legacyBlock:!0,context:"@tripetto/block-checkboxes",identifier:"@tripetto/block-checkboxes",version:"7.1.1",icon:r.default,get label(){return(0,a.pgettext)("block:checkboxes","Checkbox state")}})],t)}(a.ConditionBlock);t.CheckboxCondition=s},929:function(e,t,o){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=this&&this.__decorate||function(e,t,o,i){var n,l=arguments.length,a=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(l<3?n(a):l>3?n(t,o,a):n(t,o))||a);return l>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.CounterCondition=void 0;var a=o(954),r=o(948),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.allowMarkdown=!0,t.mode="equal",t}return n(t,e),Object.defineProperty(t.prototype,"label",{get:function(){return""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){var e=this.slot;if(e instanceof a.Slots.Number){var t=this.parse(e,this.value);switch(this.mode){case"between":return"".concat(t," ≤ @").concat(e.id," ≤ ").concat(this.parse(e,this.to));case"not-between":return"@".concat(e.id," < ").concat(t," ").concat((0,a.pgettext)("block:checkboxes","or")," @").concat(e.id," > ").concat(this.parse(e,this.to));case"not-equal":return"@".concat(e.id," ≠ ").concat(t);case"above":case"below":case"equal":return"@".concat(e.id," ").concat("above"===this.mode?">":"below"===this.mode?"<":"="," ").concat(t)}}return this.type.label},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){var e,t;return(null===(e=this.slot)||void 0===e?void 0:e.label)||(null===(t=this.node)||void 0===t?void 0:t.label)},enumerable:!1,configurable:!0}),t.prototype.parse=function(e,t){var o;return(0,a.isNumberFinite)(t)?e.toString(t,(function(e){return a.L10n.locale.number(e,0,!1)})):(0,a.isString)(t)&&t&&(null===(o=(0,a.lookupVariable)(this,t))||void 0===o?void 0:o.label)?"@".concat(t):"\\_\\_"},t.prototype.defineEditor=function(){var e=this;this.editor.form({title:(0,a.pgettext)("block:checkboxes","Compare mode"),controls:[new a.Forms.Radiobutton([{label:(0,a.pgettext)("block:checkboxes","Counter is equal to"),value:"equal"},{label:(0,a.pgettext)("block:checkboxes","Counter is not equal to"),value:"not-equal"},{label:(0,a.pgettext)("block:checkboxes","Counter is lower than"),value:"below"},{label:(0,a.pgettext)("block:checkboxes","Counter is higher than"),value:"above"},{label:(0,a.pgettext)("block:checkboxes","Counter is between"),value:"between"},{label:(0,a.pgettext)("block:checkboxes","Counter is not between"),value:"not-between"}],a.Forms.Radiobutton.bind(this,"mode","equal")).on((function(e){switch(i.visible("between"===e.value||"not-between"===e.value),e.value){case"equal":o.title=(0,a.pgettext)("block:checkboxes","If counter equals");break;case"not-equal":o.title=(0,a.pgettext)("block:checkboxes","If counter not equals");break;case"below":o.title=(0,a.pgettext)("block:checkboxes","If counter is lower than");break;case"above":o.title=(0,a.pgettext)("block:checkboxes","If counter is higher than");break;case"between":o.title=(0,a.pgettext)("block:checkboxes","If counter is between");break;case"not-between":o.title=(0,a.pgettext)("block:checkboxes","If counter is not between")}}))]});var t=function(t,o){var i,n=e[t],l=new a.Forms.Numeric((0,a.isNumberFinite)(n)?n:0).label((0,a.pgettext)("block:checkboxes","Use fixed number")).autoFocus("value"===t).escape(e.editor.close).enter((function(){return("between"!==e.mode&&"not-between"!==e.mode||"to"===t)&&e.editor.close()})).on((function(o){o.isFormVisible&&o.isObservable&&(e[t]=o.value)})),r=(0,a.populateVariables)(e,(function(e){return e instanceof a.Slots.Number||e instanceof a.Slots.Numeric}),(0,a.isString)(n)?n:void 0,!0,null===(i=e.slot)||void 0===i?void 0:i.id),c=new a.Forms.Dropdown(r,(0,a.isString)(n)?n:"").label((0,a.pgettext)("block:checkboxes","Use value of")).width("full").on((function(o){o.isFormVisible&&o.isObservable&&(e[t]=o.value||"")}));return e.editor.form({title:o,controls:[new a.Forms.Radiobutton([{label:(0,a.pgettext)("block:checkboxes","Number"),value:"number"},{label:(0,a.pgettext)("block:checkboxes","Value"),value:"variable",disabled:0===r.length}],(0,a.isString)(n)?"variable":"number").on((function(e){l.visible("number"===e.value),c.visible("variable"===e.value),l.isObservable&&l.focus()})),l,c]})},o=t("value",(0,a.pgettext)("block:checkboxes","If counter equals")),i=t("to",(0,a.pgettext)("block:checkboxes","And"))},l([a.definition,(0,a.affects)("#name")],t.prototype,"mode",void 0),l([a.definition,(0,a.affects)("#name")],t.prototype,"value",void 0),l([a.definition,(0,a.affects)("#name")],t.prototype,"to",void 0),l([a.editor],t.prototype,"defineEditor",null),l([(0,a.tripetto)({type:"condition",legacyBlock:!0,context:"@tripetto/block-checkboxes",identifier:"".concat("@tripetto/block-checkboxes",":counter"),version:"7.1.1",icon:r.default,get label(){return(0,a.pgettext)("block:checkboxes","Verify counter")}})],t)}(a.ConditionBlock);t.CounterCondition=c},287:function(e,t,o){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=this&&this.__decorate||function(e,t,o,i){var n,l=arguments.length,a=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(l<3?n(a):l>3?n(t,o,a):n(t,o))||a);return l>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.ScoreCondition=void 0;var a=o(954),r=o(939),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.allowMarkdown=!0,t.mode="equal",t}return n(t,e),Object.defineProperty(t.prototype,"label",{get:function(){return""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){var e=this.slot;if(e instanceof a.Slots.Numeric){var t=this.parse(e,this.value);switch(this.mode){case"between":return"".concat(t," ≤ @").concat(e.id," ≤ ").concat(this.parse(e,this.to));case"not-between":return"@".concat(e.id," < ").concat(t," ").concat((0,a.pgettext)("block:checkboxes","or")," @").concat(e.id," > ").concat(this.parse(e,this.to));case"defined":return"@".concat(e.id," ").concat((0,a.pgettext)("block:checkboxes","calculated"));case"undefined":return"@".concat(e.id," ").concat((0,a.pgettext)("block:checkboxes","not calculated"));case"not-equal":return"@".concat(e.id," ≠ ").concat(t);case"above":case"below":case"equal":return"@".concat(e.id," ").concat("above"===this.mode?">":"below"===this.mode?"<":"="," ").concat(t)}}return this.type.label},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){var e,t;return(null===(e=this.slot)||void 0===e?void 0:e.label)||(null===(t=this.node)||void 0===t?void 0:t.label)},enumerable:!1,configurable:!0}),t.prototype.parse=function(e,t){var o;return(0,a.isNumberFinite)(t)?e.toString(t,(function(e,t){return a.L10n.locale.number(e,t,!1)})):(0,a.isString)(t)&&t&&(null===(o=(0,a.lookupVariable)(this,t))||void 0===o?void 0:o.label)?"@".concat(t):"\\_\\_"},t.prototype.defineEditor=function(){var e=this;this.editor.form({title:(0,a.pgettext)("block:checkboxes","Compare mode"),controls:[new a.Forms.Radiobutton([{label:(0,a.pgettext)("block:checkboxes","Score is equal to"),value:"equal"},{label:(0,a.pgettext)("block:checkboxes","Score is not equal to"),value:"not-equal"},{label:(0,a.pgettext)("block:checkboxes","Score is lower than"),value:"below"},{label:(0,a.pgettext)("block:checkboxes","Score is higher than"),value:"above"},{label:(0,a.pgettext)("block:checkboxes","Score is between"),value:"between"},{label:(0,a.pgettext)("block:checkboxes","Score is not between"),value:"not-between"},{label:(0,a.pgettext)("block:checkboxes","Score is calculated"),value:"defined"},{label:(0,a.pgettext)("block:checkboxes","Score is not calculated"),value:"undefined"}],a.Forms.Radiobutton.bind(this,"mode","equal")).on((function(e){switch(o.visible("defined"!==e.value&&"undefined"!==e.value),i.visible("between"===e.value||"not-between"===e.value),e.value){case"equal":o.title=(0,a.pgettext)("block:checkboxes","If score equals");break;case"not-equal":o.title=(0,a.pgettext)("block:checkboxes","If score not equals");break;case"below":o.title=(0,a.pgettext)("block:checkboxes","If score is lower than");break;case"above":o.title=(0,a.pgettext)("block:checkboxes","If score is higher than");break;case"between":o.title=(0,a.pgettext)("block:checkboxes","If score is between");break;case"not-between":o.title=(0,a.pgettext)("block:checkboxes","If score is not between")}}))]});var t=function(t,o,i){var n,l=e[t],r=e.slot,c=new a.Forms.Numeric((0,a.isNumberFinite)(l)?l:0).label((0,a.pgettext)("block:checkboxes","Use fixed number")).precision((null==r?void 0:r.precision)||0).digits((null==r?void 0:r.digits)||0).decimalSign((null==r?void 0:r.decimal)||"").thousands(!!(null==r?void 0:r.separator),(null==r?void 0:r.separator)||"").prefix((null==r?void 0:r.prefix)||"").prefixPlural((null==r?void 0:r.prefixPlural)||void 0).suffix((null==r?void 0:r.suffix)||"").suffixPlural((null==r?void 0:r.suffixPlural)||void 0).autoFocus("value"===t).escape(e.editor.close).enter((function(){return("between"!==e.mode&&"not-between"!==e.mode||"to"===t)&&e.editor.close()})).on((function(o){o.isFormVisible&&o.isObservable&&(e[t]=o.value)})),u=(0,a.populateVariables)(e,(function(e){return e instanceof a.Slots.Number||e instanceof a.Slots.Numeric}),(0,a.isString)(l)?l:void 0,!0,null===(n=e.slot)||void 0===n?void 0:n.id),s=new a.Forms.Dropdown(u,(0,a.isString)(l)?l:"").label((0,a.pgettext)("block:checkboxes","Use value of")).width("full").on((function(o){o.isFormVisible&&o.isObservable&&(e[t]=o.value||"")}));return e.editor.form({title:o,controls:[new a.Forms.Radiobutton([{label:(0,a.pgettext)("block:checkboxes","Number"),value:"number"},{label:(0,a.pgettext)("block:checkboxes","Value"),value:"variable",disabled:0===u.length}],(0,a.isString)(l)?"variable":"number").on((function(e){c.visible("number"===e.value),s.visible("variable"===e.value),c.isObservable&&c.focus()})),c,s]}).visible(i)},o=t("value",(0,a.pgettext)("block:checkboxes","If score equals"),"defined"!==this.mode&&"undefined"!==this.mode),i=t("to",(0,a.pgettext)("block:checkboxes","And"),"between"===this.mode||"not-between"===this.mode)},l([a.definition,(0,a.affects)("#name")],t.prototype,"mode",void 0),l([a.definition,(0,a.affects)("#name")],t.prototype,"value",void 0),l([a.definition,(0,a.affects)("#name")],t.prototype,"to",void 0),l([a.editor],t.prototype,"defineEditor",null),l([(0,a.tripetto)({type:"condition",legacyBlock:!0,context:"@tripetto/block-checkboxes",identifier:"".concat("@tripetto/block-checkboxes",":score"),version:"7.1.1",icon:r.default,get label(){return(0,a.pgettext)("block:checkboxes","Verify score")}})],t)}(a.ConditionBlock);t.ScoreCondition=c},546:function(e,t,o){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=this&&this.__decorate||function(e,t,o,i){var n,l=arguments.length,a=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(l<3?n(a):l>3?n(t,o,a):n(t,o))||a);return l>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.UncheckedCondition=void 0;var a=o(954),r=o(970),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),l([(0,a.tripetto)({type:"condition",legacyBlock:!0,context:"@tripetto/block-checkboxes",identifier:"".concat("@tripetto/block-checkboxes",":unchecked"),version:"7.1.1",icon:r.default,get label(){return(0,a.pgettext)("block:checkboxes","All checkboxes unchecked")}})],t)}(a.ConditionBlock);t.UncheckedCondition=c},110:function(e,t,o){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=this&&this.__decorate||function(e,t,o,i){var n,l=arguments.length,a=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(l<3?n(a):l>3?n(t,o,a):n(t,o))||a);return l>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.Checkboxes=void 0;var a=o(954),r=o(315),c=o(702),u=o(546),s=o(287),d=o(929),p=o(617),b=o(134),g=o(948),f=o(939),M=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.checkboxes=a.Collection.of(r.Checkbox,t),t}return n(t,e),Object.defineProperty(t.prototype,"label",{get:function(){return(0,a.npgettext)("block:checkboxes","%2 (%1 checkbox)","%2 (%1 checkboxes)",this.checkboxes.count,this.type.label)},enumerable:!1,configurable:!0}),t.prototype.defineSlot=function(){this.slots.meta({type:a.Slots.Number,reference:"counter",label:(0,a.pgettext)("block:checkboxes","Counter"),exportable:!1,protected:!0}),"concatenate"===this.format||"both"===this.format?this.slots.feature({type:a.Slots.Text,reference:"concatenation",label:(0,a.pgettext)("block:checkboxes","Text value"),exportable:this.exportable,alias:this.alias,protected:!0}):this.slots.delete("concatenation","feature")},t.prototype.defineEditor=function(){var e=this;this.editor.name(),this.editor.description(),this.editor.explanation();var t=this.editor.collection({collection:this.checkboxes,title:(0,a.pgettext)("block:checkboxes","Checkboxes"),icon:b.default,placeholder:(0,a.pgettext)("block:checkboxes","Unnamed checkbox"),sorting:"manual",autoOpen:!0,allowVariables:!0,allowImport:!0,allowExport:!0,allowDedupe:!0,showAliases:!0,markdown:a.Markdown.MarkdownFeatures.Formatting|a.Markdown.MarkdownFeatures.Hyperlinks,indicator:function(e){return e.exclusive&&(0,a.pgettext)("block:checkboxes","Exclusive").toUpperCase()||void 0},emptyMessage:(0,a.pgettext)("block:checkboxes","Click the + button to add a checkbox...")});this.editor.groups.settings();var o=new a.Forms.Numeric(a.Forms.Numeric.bind(this,"min",void 0)).min(1).max(this.max).visible((0,a.isNumber)(this.min)).indent(32).width(75).on((function(){i.min(e.min||1)})),i=new a.Forms.Numeric(a.Forms.Numeric.bind(this,"max",void 0)).min(this.min||1).visible((0,a.isNumber)(this.max)).indent(32).width(75).on((function(){o.max(e.max)}));this.editor.option({name:(0,a.pgettext)("block:checkboxes","Limits"),form:{title:(0,a.pgettext)("block:checkboxes","Limits"),controls:[new a.Forms.Checkbox((0,a.pgettext)("block:checkboxes","Minimum number of selected checkboxes"),(0,a.isNumber)(this.min)).on((function(e){o.visible(e.isChecked)})),o,new a.Forms.Checkbox((0,a.pgettext)("block:checkboxes","Maximum number of selected checkboxes"),(0,a.isNumber)(this.max)).on((function(e){i.visible(e.isChecked)})),i]},activated:(0,a.isNumber)(this.max)||(0,a.isNumber)(this.min)}),this.editor.option({name:(0,a.pgettext)("block:checkboxes","Randomization"),form:{title:(0,a.pgettext)("block:checkboxes","Randomization"),controls:[new a.Forms.Checkbox((0,a.pgettext)("block:checkboxes","Randomize the checkboxes (using [Fisher-Yates shuffle](%1))","https://en.wikipedia.org/wiki/Fisher%E2%80%93Yates_shuffle"),a.Forms.Checkbox.bind(this,"randomize",void 0,!0)).markdown()]},activated:(0,a.isBoolean)(this.randomize)}),this.editor.groups.options(),this.editor.required(this),this.editor.visibility();var n=(0,a.pgettext)("block:checkboxes","Checked"),l=(0,a.pgettext)("block:checkboxes","Not checked");this.editor.option({name:(0,a.pgettext)("block:checkboxes","Labels"),form:{title:(0,a.pgettext)("block:checkboxes","Labels"),controls:[new a.Forms.Text("singleline",a.Forms.Text.bind(this,"labelForTrue",void 0)).placeholder(n),new a.Forms.Text("singleline",a.Forms.Text.bind(this,"labelForFalse",void 0)).placeholder(l),new a.Forms.Static((0,a.pgettext)("block:checkboxes","These labels will be used in the dataset and override the default values %1 and %2.","**".concat(n,"**"),"**".concat(l,"**"))).markdown()]},activated:(0,a.isString)(this.labelForTrue)||(0,a.isString)(this.labelForFalse)}),this.editor.scores({target:this,collection:t,description:(0,a.pgettext)("block:checkboxes","Generates a score based on the selected checkboxes. Open the settings panel for each checkbox to set the individual score for that checkbox.")});var r=this.editor.alias(this).disabled("concatenate"!==this.format&&"both"!==this.format),c=new a.Forms.Text("singleline",a.Forms.Text.bind(this,"formatSeparatorCustom",void 0)).visible("custom"===this.formatSeparator).sanitize(!1).width(200).label((0,a.pgettext)("block:checkboxes","Use this separator:")),u=new a.Forms.Group([new a.Forms.Dropdown([{label:(0,a.pgettext)("block:checkboxes","Comma separated"),value:"comma"},{label:(0,a.pgettext)("block:checkboxes","Space separated"),value:"space"},{label:(0,a.pgettext)("block:checkboxes","List on multiple lines"),value:"list"},{label:(0,a.pgettext)("block:checkboxes","Bulleted list"),value:"bullets"},{label:(0,a.pgettext)("block:checkboxes","Numbered list"),value:"numbers"},{label:(0,a.pgettext)("block:checkboxes","Language sensitive conjunction (_, _, and _)"),value:"conjunction"},{label:(0,a.pgettext)("block:checkboxes","Language sensitive disjunction (_, _, or _)"),value:"disjunction"},{label:(0,a.pgettext)("block:checkboxes","Custom separator"),value:"custom"}],a.Forms.Radiobutton.bind(this,"formatSeparator",void 0,"comma")).label((0,a.pgettext)("block:checkboxes","How to separate the selected checkboxes:")).on((function(e){c.visible("custom"===e.value)})),c]).visible("concatenate"===this.format||"both"===this.format);this.editor.option({name:(0,a.pgettext)("block:checkboxes","Data format"),form:{title:(0,a.pgettext)("block:checkboxes","Data format"),controls:[new a.Forms.Radiobutton([{label:(0,a.pgettext)("block:checkboxes","Every checkbox as a separate field"),description:(0,a.pgettext)("block:checkboxes","Every checkbox is included in the dataset as a separate value."),value:"fields"},{label:(0,a.pgettext)("block:checkboxes","Text field with a list of all selected checkboxes"),description:(0,a.pgettext)("block:checkboxes","All the selected checkboxes are concatenated to a single string of text separated using a configurable separator."),value:"concatenate"},{label:(0,a.pgettext)("block:checkboxes","Both options above"),description:(0,a.pgettext)("block:checkboxes","Includes every checkbox in the dataset together with the concatenated text."),value:"both"}],a.Forms.Radiobutton.bind(this,"format",void 0,"fields")).label((0,a.pgettext)("block:checkboxes","This setting determines how the data is stored in the dataset:")).on((function(t){u.visible("concatenate"===t.value||"both"===t.value),r.disabled("concatenate"!==e.format&&"both"!==e.format)})),u]},activated:(0,a.isString)(this.format)}),this.editor.exportable(this)},t.prototype.defineConditions=function(){var e=this;this.checkboxes.each((function(t){t.name&&e.conditions.template({condition:c.CheckboxCondition,markdown:t.name,icon:b.default,burst:!0,props:{slot:e.slots.select(t.id),checkbox:t,checked:!0}})})),this.checkboxes.count>0&&this.conditions.template({condition:u.UncheckedCondition,separator:!0});var t=this.slots.select("counter","meta");if(t&&t.label){var o=this.conditions.group(t.label,g.default);(0,a.each)([{mode:"equal",label:(0,a.pgettext)("block:checkboxes","Counter is equal to")},{mode:"not-equal",label:(0,a.pgettext)("block:checkboxes","Counter is not equal to")},{mode:"below",label:(0,a.pgettext)("block:checkboxes","Counter is lower than")},{mode:"above",label:(0,a.pgettext)("block:checkboxes","Counter is higher than")},{mode:"between",label:(0,a.pgettext)("block:checkboxes","Counter is between")},{mode:"not-between",label:(0,a.pgettext)("block:checkboxes","Counter is not between")}],(function(e){o.template({condition:d.CounterCondition,label:e.label,autoOpen:!0,props:{slot:t,mode:e.mode,value:0,to:"between"===e.mode||"not-between"===e.mode?0:void 0}})}))}var i=this.slots.select("score","feature");if(i&&i.label){var n=this.conditions.group(i.label,f.default);(0,a.each)([{mode:"equal",label:(0,a.pgettext)("block:checkboxes","Score is equal to")},{mode:"not-equal",label:(0,a.pgettext)("block:checkboxes","Score is not equal to")},{mode:"below",label:(0,a.pgettext)("block:checkboxes","Score is lower than")},{mode:"above",label:(0,a.pgettext)("block:checkboxes","Score is higher than")},{mode:"between",label:(0,a.pgettext)("block:checkboxes","Score is between")},{mode:"not-between",label:(0,a.pgettext)("block:checkboxes","Score is not between")},{mode:"defined",label:(0,a.pgettext)("block:checkboxes","Score is calculated")},{mode:"undefined",label:(0,a.pgettext)("block:checkboxes","Score is not calculated")}],(function(e){n.template({condition:s.ScoreCondition,label:e.label,autoOpen:"defined"!==e.mode&&"undefined"!==e.mode,props:{slot:i,mode:e.mode,value:0,to:"between"===e.mode||"not-between"===e.mode?0:void 0}})}))}},l([(0,a.definition)("items"),(0,a.affects)("#name")],t.prototype,"checkboxes",void 0),l([(0,a.definition)("boolean","optional"),(0,a.affects)("#required"),(0,a.affects)("#collection","checkboxes")],t.prototype,"required",void 0),l([(0,a.definition)("number","optional")],t.prototype,"min",void 0),l([(0,a.definition)("number","optional")],t.prototype,"max",void 0),l([(0,a.definition)("string","optional"),(0,a.affects)("#label"),(0,a.affects)("#slots"),(0,a.affects)("#collection","checkboxes")],t.prototype,"alias",void 0),l([(0,a.definition)("boolean","optional"),(0,a.affects)("#slots"),(0,a.affects)("#collection","checkboxes")],t.prototype,"exportable",void 0),l([(0,a.definition)("string","optional"),(0,a.affects)("#collection","checkboxes")],t.prototype,"labelForTrue",void 0),l([(0,a.definition)("string","optional"),(0,a.affects)("#collection","checkboxes")],t.prototype,"labelForFalse",void 0),l([(0,a.definition)("boolean","optional")],t.prototype,"randomize",void 0),l([(0,a.definition)("string","optional"),(0,a.affects)("#slots"),(0,a.affects)("#collection","checkboxes")],t.prototype,"format",void 0),l([(0,a.definition)("string","optional")],t.prototype,"formatSeparator",void 0),l([(0,a.definition)("string","optional")],t.prototype,"formatSeparatorCustom",void 0),l([a.slots],t.prototype,"defineSlot",null),l([a.editor],t.prototype,"defineEditor",null),l([a.conditions],t.prototype,"defineConditions",null),l([(0,a.tripetto)({type:"node",legacyBlock:!0,identifier:"@tripetto/block-checkboxes",version:"7.1.1",icon:p.default,get label(){return(0,a.pgettext)("block:checkboxes","Checkboxes")}})],t)}(a.NodeBlock);t.Checkboxes=M},134:function(e,t,o){o.r(t),t.default="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCI+PHBhdGggZD0iTTE3LjUgMjBoLTE2Qy42NzMgMjAgMCAxOS4zMjcgMCAxOC41di0xNkMwIDEuNjczLjY3MyAxIDEuNSAxaDE2Yy44MjcgMCAxLjUuNjczIDEuNSAxLjV2MTZjMCAuODI3LS42NzMgMS41LTEuNSAxLjV6TTEuNSAyYS41LjUgMCAwIDAtLjUuNXYxNmEuNS41IDAgMCAwIC41LjVoMTZhLjUuNSAwIDAgMCAuNS0uNXYtMTZhLjUuNSAwIDAgMC0uNS0uNWgtMTZ6IiBjbGFzcz0idHJpcGV0dG8tZmlsbCIvPjxwYXRoIGQ9Ik03LjUgMTQuNWEuNTAyLjUwMiAwIDAgMS0uMzU0LS4xNDZsLTMtM2EuNS41IDAgMCAxIC43MDctLjcwN2wyLjY0NiAyLjY0NiA2LjY0Ni02LjY0NmEuNS41IDAgMCAxIC43MDcuNzA3bC03IDdhLjQ5OC40OTggMCAwIDEtLjM1NC4xNDZ6IiBjbGFzcz0idHJpcGV0dG8tZmlsbCIvPjwvc3ZnPg=="},537:function(e,t,o){o.r(t),t.default="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCI+PHBhdGggZD0iTTE2LjIzIDMuMzA3Yy0uMzk2LS4yNjgtLjk0OS0uNTA0LTEuNjQzLS43MDJDMTMuMjIxIDIuMjE1IDExLjQxNSAyIDkuNSAycy0zLjcyMi4yMTUtNS4wODcuNjA1Yy0uNjk0LjE5OC0xLjI0Ni40MzQtMS42NDMuNzAyLS42MzcuNDMtLjc3Ljg4Ni0uNzcgMS4xOTNWNWMwIC40MjguMzIxIDEuMTMzLjYzOSAxLjYwOWw0Ljg5MSA3LjMzNmMuMjUxLjM3Ni40NzEgMS4xMDMuNDcxIDEuNTU1djNhLjUuNSAwIDAgMCAuNzI0LjQ0N2wyLTFhLjUuNSAwIDAgMCAuMjc2LS40NDd2LTJjMC0uNDUyLjIyLTEuMTc5LjQ3MS0xLjU1NWw0Ljg5MS03LjMzNmMuMzE3LS40NzYuNjM5LTEuMTgyLjYzOS0xLjYwOXYtLjVjMC0uMzA3LS4xMzQtLjc2My0uNzctMS4xOTN6bS0xMS41NDIuMjZDNS45NjcgMy4yMDIgNy42NzYgMyA5LjUgM3MzLjUzNC4yMDEgNC44MTIuNTY3QzE1LjY5IDMuOTYxIDE2IDQuMzgzIDE2IDQuNXMtLjMxLjU0LTEuNjg4LjkzM0MxMy4wMzMgNS43OTggMTEuMzI0IDYgOS41IDZzLTMuNTM0LS4yMDEtNC44MTItLjU2N0MzLjMxIDUuMDM5IDMgNC42MTcgMyA0LjVzLjMxLS41NCAxLjY4OC0uOTMzem01Ljk1MSA5LjgyNGMtLjM1OC41MzctLjYzOSAxLjQ2NC0uNjM5IDIuMTA5djEuNjkxbC0xIC41VjE1LjVjMC0uNjQ2LS4yODEtMS41NzItLjYzOS0yLjEwOWwtNC44OC03LjMyYy4yNzQuMTE3LjU4NS4yMjYuOTMyLjMyNEM1Ljc3OSA2Ljc4NSA3LjU4NSA3IDkuNSA3czMuNzIyLS4yMTUgNS4wODctLjYwNWMuMzQ2LS4wOTkuNjU4LS4yMDcuOTMyLS4zMjVsLTQuODggNy4zMnoiIGNsYXNzPSJ0cmlwZXR0by1maWxsIi8+PC9zdmc+"},948:function(e,t,o){o.r(t),t.default="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCI+PHBhdGggZD0iTTIgNmEuNTAyLjUwMiAwIDAgMS0uMzU0LS4xNDZsLTEuNS0xLjVhLjUuNSAwIDAgMSAuNzA3LS43MDdsMS4xNDYgMS4xNDZMNi4xNDUuNjQ3YS41LjUgMCAwIDEgLjcwNy43MDdsLTQuNSA0LjVBLjQ5OC40OTggMCAwIDEgMS45OTggNnptMTcuNS0xaC0xMmEuNS41IDAgMCAxIDAtMWgxMmEuNS41IDAgMCAxIDAgMXpNMiAxM2EuNTAyLjUwMiAwIDAgMS0uMzU0LS4xNDZsLTEuNS0xLjVhLjUuNSAwIDAgMSAuNzA3LS43MDdsMS4xNDYgMS4xNDYgNC4xNDYtNC4xNDZhLjUuNSAwIDAgMSAuNzA3LjcwN2wtNC41IDQuNWEuNDk4LjQ5OCAwIDAgMS0uMzU0LjE0NnptMTcuNS0xaC0xMmEuNS41IDAgMCAxIDAtMWgxMmEuNS41IDAgMCAxIDAgMXpNMiAyMGEuNTAyLjUwMiAwIDAgMS0uMzU0LS4xNDZsLTEuNS0xLjVhLjUuNSAwIDAgMSAuNzA3LS43MDdsMS4xNDYgMS4xNDYgNC4xNDYtNC4xNDZhLjUuNSAwIDAgMSAuNzA3LjcwN2wtNC41IDQuNWEuNDk4LjQ5OCAwIDAgMS0uMzU0LjE0NnptMTcuNS0xaC0xMmEuNS41IDAgMCAxIDAtMWgxMmEuNS41IDAgMCAxIDAgMXoiIGNsYXNzPSJ0cmlwZXR0by1maWxsIi8+PC9zdmc+"},617:function(e,t,o){o.r(t),t.default="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCI+PHBhdGggZD0iTTIgNmEuNTAyLjUwMiAwIDAgMS0uMzU0LS4xNDZsLTEuNS0xLjVhLjUuNSAwIDAgMSAuNzA3LS43MDdsMS4xNDYgMS4xNDZMNi4xNDUuNjQ3YS41LjUgMCAwIDEgLjcwNy43MDdsLTQuNSA0LjVBLjQ5OC40OTggMCAwIDEgMS45OTggNnptMTcuNS0xaC0xMmEuNS41IDAgMCAxIDAtMWgxMmEuNS41IDAgMCAxIDAgMXpNMiAxM2EuNTAyLjUwMiAwIDAgMS0uMzU0LS4xNDZsLTEuNS0xLjVhLjUuNSAwIDAgMSAuNzA3LS43MDdsMS4xNDYgMS4xNDYgNC4xNDYtNC4xNDZhLjUuNSAwIDAgMSAuNzA3LjcwN2wtNC41IDQuNWEuNDk4LjQ5OCAwIDAgMS0uMzU0LjE0NnptMTcuNS0xaC0xMmEuNS41IDAgMCAxIDAtMWgxMmEuNS41IDAgMCAxIDAgMXpNMiAyMGEuNTAyLjUwMiAwIDAgMS0uMzU0LS4xNDZsLTEuNS0xLjVhLjUuNSAwIDAgMSAuNzA3LS43MDdsMS4xNDYgMS4xNDYgNC4xNDYtNC4xNDZhLjUuNSAwIDAgMSAuNzA3LjcwN2wtNC41IDQuNWEuNDk4LjQ5OCAwIDAgMS0uMzU0LjE0NnptMTcuNS0xaC0xMmEuNS41IDAgMCAxIDAtMWgxMmEuNS41IDAgMCAxIDAgMXoiIGNsYXNzPSJ0cmlwZXR0by1maWxsIi8+PC9zdmc+"},939:function(e,t,o){o.r(t),t.default="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCI+PHBhdGggZD0iTTE4LjUgOEgxM1YzLjVhLjUuNSAwIDAgMC0uNS0uNWgtNmEuNS41IDAgMCAwLS41LjVWNkguNWEuNS41IDAgMCAwLS41LjV2MTBhLjUuNSAwIDAgMCAuNS41aDE4YS41LjUgMCAwIDAgLjUtLjV2LThhLjUuNSAwIDAgMC0uNS0uNXpNNyA0aDV2MTJIN1Y0ek0xIDdoNXY5SDFWN3ptMTcgOWgtNVY5aDV2N3oiIGNsYXNzPSJ0cmlwZXR0by1maWxsIi8+PHBhdGggZD0iTTkuNSAxMGEuNS41IDAgMCAxLS41LS41di00YS41LjUgMCAwIDEgMSAwdjRhLjUuNSAwIDAgMS0uNS41em0tNSAzaC0yYS41LjUgMCAwIDEtLjUtLjV2LTJhLjUuNSAwIDAgMSAuNS0uNUg0VjlIMi41YS41LjUgMCAwIDEgMC0xaDJhLjUuNSAwIDAgMSAuNS41djJhLjUuNSAwIDAgMS0uNS41SDN2MWgxLjVhLjUuNSAwIDAgMSAwIDF6bTEyLTNoLTJhLjUuNSAwIDAgMCAwIDFIMTZ2MWgtMS41YS41LjUgMCAwIDAgMCAxSDE2djFoLTEuNWEuNS41IDAgMCAwIDAgMWgyYS41LjUgMCAwIDAgLjUtLjV2LTRhLjUuNSAwIDAgMC0uNS0uNXoiIGNsYXNzPSJ0cmlwZXR0by1maWxsIi8+PC9zdmc+"},970:function(e,t,o){o.r(t),t.default="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCI+PHBhdGggZD0iTTE3LjUgMjBoLTE2Qy42NzMgMjAgMCAxOS4zMjcgMCAxOC41di0xNkMwIDEuNjczLjY3MyAxIDEuNSAxaDE2Yy44MjcgMCAxLjUuNjczIDEuNSAxLjV2MTZjMCAuODI3LS42NzMgMS41LTEuNSAxLjV6TTEuNSAyYS41LjUgMCAwIDAtLjUuNXYxNmEuNS41IDAgMCAwIC41LjVoMTZhLjUuNSAwIDAgMCAuNS0uNXYtMTZhLjUuNSAwIDAgMC0uNS0uNWgtMTZ6IiBjbGFzcz0idHJpcGV0dG8tZmlsbCIvPjwvc3ZnPg=="},954:function(e){e.exports=o(975)}},i={};function n(e){var o=i[e];if(void 0!==o)return o.exports;var l=i[e]={exports:{}};return t[e].call(l.exports,l,l.exports,n),l.exports}n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var l=n(110);e.exports=l}()},257:function(e,t,o){!function(){"use strict";var t={583:function(e,t,o){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=this&&this.__decorate||function(e,t,o,i){var n,l=arguments.length,a=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(l<3?n(a):l>3?n(t,o,a):n(t,o))||a);return l>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.DateTimeCondition=void 0;var a=o(954),r=o(110),c=o(537),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.allowMarkdown=!0,t.mode="equal",t}return n(t,e),Object.defineProperty(t.prototype,"label",{get:function(){return""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){var e=this.slot;if(e instanceof a.Slots.Date){var t=this.parse(e,this.value);switch(this.mode){case"between":return"".concat(t," ≤ @").concat(e.id," ≤ ").concat(this.parse(e,this.to));case"not-between":return"@".concat(e.id," < ").concat(t," ").concat((0,a.pgettext)("block:date","or")," @").concat(e.id," > ").concat(this.parse(e,this.to));case"defined":return"@".concat(e.id," ").concat((0,a.pgettext)("block:date","not empty"));case"undefined":return"@".concat(e.id," ").concat((0,a.pgettext)("block:date","empty"));case"before":case"after":case"equal":case"not-equal":return"@".concat(e.id," ").concat("after"===this.mode?">":"before"===this.mode?"<":"not-equal"===this.mode?"≠":"="," ").concat(t)}}return this.type.label},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){var e,t=this.node;return(null==t?void 0:t.block)instanceof r.DateTime&&t.label+(t.block.range?" / "+(null===(e=this.slot)||void 0===e?void 0:e.label):"")||void 0},enumerable:!1,configurable:!0}),t.prototype.parse=function(e,t){var o;return(0,a.isNumberFinite)(t)?e.supportsTime?a.L10n.locale.dateTimeShort(e.toValue(t),!0):a.L10n.locale.dateShort(e.toValue(t),!0):(0,a.isString)(t)?t&&(null===(o=(0,a.lookupVariable)(this,t))||void 0===o?void 0:o.label)?"@".concat(t):"\\_\\_":"`"+(0,a.pgettext)("block:date","Now").toUpperCase()+"`"},t.prototype.defineEditor=function(){var e=this,t=this.slot instanceof a.Slots.Date&&this.slot.supportsTime;this.editor.form({title:(0,a.pgettext)("block:date","Compare mode"),controls:[new a.Forms.Radiobutton([{label:(0,a.pgettext)("block:date","Date is equal to"),value:"equal"},{label:(0,a.pgettext)("block:date","Date is not equal to"),value:"not-equal"},{label:(0,a.pgettext)("block:date","Date is before"),value:"before"},{label:(0,a.pgettext)("block:date","Date is after"),value:"after"},{label:(0,a.pgettext)("block:date","Date is between"),value:"between"},{label:(0,a.pgettext)("block:date","Date is not between"),value:"not-between"},{label:(0,a.pgettext)("block:date","Date is not empty"),value:"defined"},{label:(0,a.pgettext)("block:date","Date is empty"),value:"undefined"}],a.Forms.Radiobutton.bind(this,"mode","equal")).on((function(e){switch(i.visible("defined"!==e.value&&"undefined"!==e.value),n.visible("between"===e.value||"not-between"===e.value),e.value){case"equal":i.title=(0,a.pgettext)("block:date","If date equals");break;case"not-equal":i.title=(0,a.pgettext)("block:date","If date not equals");break;case"before":i.title=(0,a.pgettext)("block:date","If date is before");break;case"after":i.title=(0,a.pgettext)("block:date","If date is after");break;case"between":i.title=(0,a.pgettext)("block:date","If date is between");break;case"not-between":i.title=(0,a.pgettext)("block:date","If date is not between")}}))]});var o=function(o,i,n){var l,c=e[o],u=(0,a.populateVariables)(e,(function(e){return e instanceof a.Slots.Date}),(0,a.isString)(c)?c:void 0,!0,null===(l=e.slot)||void 0===l?void 0:l.id),s=new a.Forms.DateTime((0,a.isNumberFinite)(c)?c:r.DateTime.getToday("to"===o?"end":"begin")).label(t?(0,a.pgettext)("block:date","Use fixed date/time"):(0,a.pgettext)("block:date","Use fixed date")).features(1|(t?8:32)).years((new Date).getFullYear()-150,(new Date).getFullYear()+50).zone("UTC").width("full").required().on((function(t){t.isFormVisible&&t.isObservable&&(e[o]=t.value)})),d=new a.Forms.Dropdown(u,(0,a.isString)(c)?c:"").label((0,a.pgettext)("block:date","Use value of")).width("full").on((function(t){t.isFormVisible&&t.isObservable&&(e[o]=t.value||"")}));return e.editor.form({title:i,controls:[new a.Forms.Radiobutton([{label:t?(0,a.pgettext)("block:date","Current date/time"):(0,a.pgettext)("block:date","Current date"),value:"current"},{label:t?(0,a.pgettext)("block:date","Fixed date/time"):(0,a.pgettext)("block:date","Fixed date"),value:"date"},{label:(0,a.pgettext)("block:date","Value"),value:"variable",disabled:0===u.length}],(0,a.isString)(c)?"variable":(0,a.isNumberFinite)(c)?"date":"current").on((function(t){s.visible("date"===t.value),d.visible("variable"===t.value),"current"===t.value&&(e[o]=void 0)})),s,d]}).visible(n)},i=o("value",(0,a.pgettext)("block:date","If date equals"),"defined"!==this.mode&&"undefined"!==this.mode),n=o("to",(0,a.pgettext)("block:date","And"),"between"===this.mode||"not-between"===this.mode)},l([a.definition,(0,a.affects)("#name")],t.prototype,"mode",void 0),l([a.definition,(0,a.affects)("#name")],t.prototype,"value",void 0),l([a.definition,(0,a.affects)("#name")],t.prototype,"to",void 0),l([a.editor],t.prototype,"defineEditor",null),l([(0,a.tripetto)({type:"condition",legacyBlock:!0,context:"@tripetto/block-date",identifier:"@tripetto/block-date",version:"4.0.3",icon:c.default,get label(){return(0,a.pgettext)("block:date","Verify date")}})],t)}(a.ConditionBlock);t.DateTimeCondition=u},110:function(e,t,o){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=this&&this.__decorate||function(e,t,o,i){var n,l=arguments.length,a=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(l<3?n(a):l>3?n(t,o,a):n(t,o))||a);return l>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.DateTime=void 0;var a=o(954),r=o(583),c=o(617),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}var o;return n(t,e),o=t,Object.defineProperty(t.prototype,"label",{get:function(){return this.range?(0,a.pgettext)("block:date","Date range"):this.time?(0,a.pgettext)("block:date","Date with time"):this.type.label},enumerable:!1,configurable:!0}),t.getToday=function(e){return a.DateTime.UTCToday+("end"===e?86399999:0)},t.prototype.defineSlot=function(){if(this.dateSlot=this.slots.static({type:a.Slots.Date,reference:"date",label:this.range?(0,a.pgettext)("block:date","Date from"):this.time?(0,a.pgettext)("block:date","Date with time"):o.label,required:this.required,alias:this.alias,exportable:this.exportable,exchange:["required","alias","exportable","precision","minimum","maximum"]}),this.dateSlot.precision=this.time?"minutes":"days",this.dateSlot.minimum=this.minimum,this.dateSlot.maximum=this.maximum,this.range){var e=this.slots.static({type:a.Slots.Date,reference:"to",label:(0,a.pgettext)("block:date","Date to"),required:this.required,alias:this.alias,exportable:this.exportable,exchange:["required","alias","exportable","precision","minimum","maximum"],pipe:"to"});e.precision=this.dateSlot.precision,e.minimum=this.dateSlot.minimum,e.maximum=this.dateSlot.maximum}else this.slots.delete("to","static")},t.prototype.defineEditor=function(){var e=this,t=function(e){return 1|(e?8:32)},o=new a.Forms.Text("singleline",a.Forms.Text.bind(this,"placeholder",void 0,"")).placeholder((0,a.pgettext)("block:date","Type placeholder for the range to date field...")).action("@",(0,a.insertVariable)(this)).visible(this.range||!1);this.editor.name(),this.editor.description(),this.editor.placeholder(o),this.editor.explanation(),this.editor.groups.settings(),this.editor.option({name:(0,a.pgettext)("block:date","Time"),form:{title:(0,a.pgettext)("block:date","Time"),controls:[new a.Forms.Checkbox((0,a.pgettext)("block:date","Allow a time to be set"),a.Forms.Checkbox.bind(this,"time",void 0,!0)).on((function(e){i.features(t(e.isFeatureEnabled&&e.isChecked)),n.features(t(e.isFeatureEnabled&&e.isChecked))})),new a.Forms.Static((0,a.pgettext)("block:date","When enabled this will allow the user to set a specific time along with the date."))]},activated:(0,a.isBoolean)(this.time)}),this.editor.option({name:(0,a.pgettext)("block:date","Range"),form:{title:(0,a.pgettext)("block:date","Range"),controls:[new a.Forms.Checkbox((0,a.pgettext)("block:date","Enable date range"),a.Forms.Checkbox.bind(this,"range",void 0,!0)).on((function(){o.visible(e.range||!1)})),new a.Forms.Static((0,a.pgettext)("block:date","When enabled this will display two date input fields. One for the *from* date and another one for the *to* date.")).markdown()]},activated:(0,a.isBoolean)(this.range)});var i=new a.Forms.DateTime((0,a.isNumber)(this.minimum)?this.minimum:void 0).zone("UTC").features(t(this.time)).disabled(!0===this.minimum).years((new Date).getFullYear()-150,(new Date).getFullYear()+50).width("full").label((0,a.pgettext)("block:date","Minimum")).placeholder((0,a.pgettext)("block:date","Not set")).on((function(){i.isFeatureEnabled?!0!==e.minimum&&(e.minimum=i.value):e.minimum=void 0})),n=new a.Forms.DateTime((0,a.isNumber)(this.maximum)?this.maximum:void 0).zone("UTC").features(t(this.time)).disabled(!0===this.maximum).years((new Date).getFullYear()-150,(new Date).getFullYear()+50).width("full").label((0,a.pgettext)("block:date","Maximum")).placeholder((0,a.pgettext)("block:date","Not set")).on((function(){n.isFeatureEnabled?!0!==e.maximum&&(e.maximum=n.value):e.maximum=void 0}));this.editor.option({name:(0,a.pgettext)("block:date","Limits"),form:{title:(0,a.pgettext)("block:date","Limits"),controls:[i,n,new a.Forms.Static((0,a.pgettext)("block:date","Options")),new a.Forms.Checkbox((0,a.pgettext)("block:date","Date must be in the future"),!0===this.minimum).on((function(t){t.isFeatureEnabled&&t.isChecked?e.minimum=!0:!0===e.minimum&&(e.minimum=void 0,i.refresh()),i.disabled(!0===e.minimum)})),new a.Forms.Checkbox((0,a.pgettext)("block:date","Date must be in the past"),!0===this.maximum).on((function(t){t.isFeatureEnabled&&t.isChecked?e.maximum=!0:!0===e.maximum&&(e.maximum=void 0,n.refresh()),n.disabled(!0===e.maximum)}))]},activated:(0,a.isNumber)(this.minimum)||!0===this.minimum||(0,a.isNumber)(this.maximum)||!0===this.maximum}),this.editor.groups.options(),this.editor.required(this),this.editor.visibility(),this.editor.alias(this),this.editor.exportable(this)},t.prototype.defineCondition=function(){var e=this,t=this.slots.select("date"),o=this.slots.select("to"),i=[{mode:"equal",label:(0,a.pgettext)("block:date","Is equal to")},{mode:"not-equal",label:(0,a.pgettext)("block:date","Is not equal to")},{mode:"before",label:(0,a.pgettext)("block:date","Is before")},{mode:"after",label:(0,a.pgettext)("block:date","Is after")},{mode:"between",label:(0,a.pgettext)("block:date","Is between")},{mode:"not-between",label:(0,a.pgettext)("block:date","Is not between")},{mode:"defined",label:(0,a.pgettext)("block:date","Is not empty")},{mode:"undefined",label:(0,a.pgettext)("block:date","Is empty")}];if(t){var n=o?this.conditions.group(t.label||(0,a.pgettext)("block:date","Date from")):this.conditions;(0,a.each)(i,(function(o){n.template({condition:r.DateTimeCondition,label:o.label,autoOpen:"defined"!==o.mode&&"undefined"!==o.mode,props:{slot:t,mode:o.mode,value:e.time?a.DateTime.UTC:a.DateTime.UTCToday,to:"between"===o.mode||"not-between"===o.mode?e.time?a.DateTime.UTC:a.DateTime.UTCToday:void 0}})}))}if(o){var l=this.conditions.group(o.label||(0,a.pgettext)("block:date","Date to"));(0,a.each)(i,(function(e){l.template({condition:r.DateTimeCondition,label:e.label,autoOpen:"defined"!==e.mode&&"undefined"!==e.mode,props:{slot:o,mode:e.mode,value:a.DateTime.UTC,to:"between"===e.mode||"not-between"===e.mode?a.DateTime.UTC:void 0}})}))}},l([(0,a.definition)("boolean","optional"),(0,a.affects)("#label"),(0,a.affects)("#slots")],t.prototype,"time",void 0),l([(0,a.definition)("boolean","optional"),(0,a.affects)("#label"),(0,a.affects)("#slots")],t.prototype,"range",void 0),l([(0,a.definition)("number","optional"),(0,a.affects)("#slots")],t.prototype,"minimum",void 0),l([(0,a.definition)("number","optional"),(0,a.affects)("#slots")],t.prototype,"maximum",void 0),l([(0,a.definition)("boolean","optional"),(0,a.affects)("#slots")],t.prototype,"required",void 0),l([(0,a.definition)("string","optional"),(0,a.affects)("#slots")],t.prototype,"alias",void 0),l([(0,a.definition)("boolean","optional"),(0,a.affects)("#slots")],t.prototype,"exportable",void 0),l([(0,a.definition)("string","optional")],t.prototype,"placeholder",void 0),l([a.slots],t.prototype,"defineSlot",null),l([a.editor],t.prototype,"defineEditor",null),l([a.conditions],t.prototype,"defineCondition",null),o=l([(0,a.tripetto)({type:"node",legacyBlock:!0,identifier:"@tripetto/block-date",version:"4.0.3",icon:c.default,get label(){return(0,a.pgettext)("block:date","Date")}})],t)}(a.NodeBlock);t.DateTime=u},537:function(e,t,o){o.r(t),t.default="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCI+PHBhdGggZD0iTTE4LjUgMkgxNnYtLjVhLjUuNSAwIDAgMC0xIDBWMkg1di0uNWEuNS41IDAgMCAwLTEgMFYySDEuNUMuNjczIDIgMCAyLjY3MyAwIDMuNXYxNGMwIC44MjcuNjczIDEuNSAxLjUgMS41aDE3Yy44MjcgMCAxLjUtLjY3MyAxLjUtMS41di0xNGMwLS44MjctLjY3My0xLjUtMS41LTEuNXptLTE3IDFINHYxLjVhLjUuNSAwIDAgMCAxIDBWM2gxMHYxLjVhLjUuNSAwIDAgMCAxIDBWM2gyLjVhLjUuNSAwIDAgMSAuNS41VjZIMVYzLjVhLjUuNSAwIDAgMSAuNS0uNXptMTcgMTVoLTE3YS41LjUgMCAwIDEtLjUtLjVWN2gxOHYxMC41YS41LjUgMCAwIDEtLjUuNXoiIGNsYXNzPSJ0cmlwZXR0by1maWxsIi8+PHBhdGggZD0iTTguNSAxNS41YS41MDIuNTAyIDAgMCAxLS4zNTQtLjE0NmwtMi0yYS41LjUgMCAwIDEgLjcwNy0uNzA3bDEuNjQ2IDEuNjQ2IDQuNjQ2LTQuNjQ2YS41LjUgMCAwIDEgLjcwNy43MDdsLTUgNWEuNDk4LjQ5OCAwIDAgMS0uMzU0LjE0NnoiIGNsYXNzPSJ0cmlwZXR0by1maWxsIi8+PC9zdmc+"},617:function(e,t,o){o.r(t),t.default="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCI+PHBhdGggZD0iTTE4LjUgMkgxNnYtLjVhLjUuNSAwIDAgMC0xIDBWMkg1di0uNWEuNS41IDAgMCAwLTEgMFYySDEuNUMuNjczIDIgMCAyLjY3MyAwIDMuNXYxNGMwIC44MjcuNjczIDEuNSAxLjUgMS41aDE3Yy44MjcgMCAxLjUtLjY3MyAxLjUtMS41di0xNGMwLS44MjctLjY3My0xLjUtMS41LTEuNXptLTE3IDFINHYxLjVhLjUuNSAwIDAgMCAxIDBWM2gxMHYxLjVhLjUuNSAwIDAgMCAxIDBWM2gyLjVhLjUuNSAwIDAgMSAuNS41VjZIMVYzLjVhLjUuNSAwIDAgMSAuNS0uNXptMTcgMTVoLTE3YS41LjUgMCAwIDEtLjUtLjVWN2gxOHYxMC41YS41LjUgMCAwIDEtLjUuNXoiIGNsYXNzPSJ0cmlwZXR0by1maWxsIi8+PHBhdGggZD0iTTcuNSAxMGgtMWEuNS41IDAgMCAxIDAtMWgxYS41LjUgMCAwIDEgMCAxem0zIDBoLTFhLjUuNSAwIDAgMSAwLTFoMWEuNS41IDAgMCAxIDAgMXptMyAwaC0xYS41LjUgMCAwIDEgMC0xaDFhLjUuNSAwIDAgMSAwIDF6bTMgMGgtMWEuNS41IDAgMCAxIDAtMWgxYS41LjUgMCAwIDEgMCAxem0tMTIgMmgtMWEuNS41IDAgMCAxIDAtMWgxYS41LjUgMCAwIDEgMCAxem0zIDBoLTFhLjUuNSAwIDAgMSAwLTFoMWEuNS41IDAgMCAxIDAgMXptMyAwaC0xYS41LjUgMCAwIDEgMC0xaDFhLjUuNSAwIDAgMSAwIDF6bTMgMGgtMWEuNS41IDAgMCAxIDAtMWgxYS41LjUgMCAwIDEgMCAxem0zIDBoLTFhLjUuNSAwIDAgMSAwLTFoMWEuNS41IDAgMCAxIDAgMXptLTEyIDJoLTFhLjUuNSAwIDAgMSAwLTFoMWEuNS41IDAgMCAxIDAgMXptMyAwaC0xYS41LjUgMCAwIDEgMC0xaDFhLjUuNSAwIDAgMSAwIDF6bTMgMGgtMWEuNS41IDAgMCAxIDAtMWgxYS41LjUgMCAwIDEgMCAxem0zIDBoLTFhLjUuNSAwIDAgMSAwLTFoMWEuNS41IDAgMCAxIDAgMXptMyAwaC0xYS41LjUgMCAwIDEgMC0xaDFhLjUuNSAwIDAgMSAwIDF6bS0xMiAyaC0xYS41LjUgMCAwIDEgMC0xaDFhLjUuNSAwIDAgMSAwIDF6bTMgMGgtMWEuNS41IDAgMCAxIDAtMWgxYS41LjUgMCAwIDEgMCAxem0zIDBoLTFhLjUuNSAwIDAgMSAwLTFoMWEuNS41IDAgMCAxIDAgMXptMyAwaC0xYS41LjUgMCAwIDEgMC0xaDFhLjUuNSAwIDAgMSAwIDF6bTMgMGgtMWEuNS41IDAgMCAxIDAtMWgxYS41LjUgMCAwIDEgMCAxeiIgY2xhc3M9InRyaXBldHRvLWZpbGwiLz48L3N2Zz4="},954:function(e){e.exports=o(975)}},i={};function n(e){var o=i[e];if(void 0!==o)return o.exports;var l=i[e]={exports:{}};return t[e].call(l.exports,l,l.exports,n),l.exports}n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var l=n(110);e.exports=l}()},579:function(e,t,o){!function(){"use strict";var t={110:function(e,t,o){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=this&&this.__decorate||function(e,t,o,i){var n,l=arguments.length,a=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(l<3?n(a):l>3?n(t,o,a):n(t,o))||a);return l>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.DeviceCondition=void 0;var a=o(954),r=o(617),c=o(548),u=o(120),s=o(672),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.deviceType="desktop",t}return n(t,e),Object.defineProperty(t.prototype,"name",{get:function(){switch(this.deviceType){case"phone":return(0,a.pgettext)("block:device","Phone");case"tablet":return(0,a.pgettext)("block:device","Tablet");case"desktop":return(0,a.pgettext)("block:device","Desktop")}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"icon",{get:function(){switch(this.deviceType){case"phone":return c.default;case"tablet":return u.default;case"desktop":return s.default}},enumerable:!1,configurable:!0}),t.prototype.defineEditor=function(){this.editor.form({title:(0,a.pgettext)("block:device","Branch on device type"),controls:[new a.Forms.Radiobutton([{value:"desktop",label:(0,a.pgettext)("block:device","Desktop"),description:(0,a.pgettext)("block:device","Large screen device (probably a laptop or desktop).")},{value:"tablet",label:(0,a.pgettext)("block:device","Tablet"),description:(0,a.pgettext)("block:device","Medium screen device.")},{value:"phone",label:(0,a.pgettext)("block:device","Phone"),description:(0,a.pgettext)("block:device","Small screen device.")}],a.Forms.Dropdown.bind(this,"deviceType","desktop"))]})},l([a.definition,(0,a.affects)("#name")],t.prototype,"deviceType",void 0),l([a.editor],t.prototype,"defineEditor",null),l([(0,a.tripetto)({type:"condition",legacyBlock:!0,context:"*",identifier:"@tripetto/block-device",version:"5.0.2",icon:r.default,autoOpen:!0,get label(){return(0,a.pgettext)("block:device","Device")}})],t)}(a.ConditionBlock);t.DeviceCondition=d},672:function(e,t,o){o.r(t),t.default="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCI+PHBhdGggZD0iTTMuNSAxNGgxM2MuODI3IDAgMS41LS42NzMgMS41LTEuNXYtOGMwLS44MjctLjY3My0xLjUtMS41LTEuNWgtMTNDMi42NzMgMyAyIDMuNjczIDIgNC41djhjMCAuODI3LjY3MyAxLjUgMS41IDEuNXpNMyA0LjVhLjUuNSAwIDAgMSAuNS0uNWgxM2EuNS41IDAgMCAxIC41LjV2OGEuNS41IDAgMCAxLS41LjVoLTEzYS41LjUgMCAwIDEtLjUtLjV2LTh6TTE5LjUgMTVILjVhLjUuNSAwIDAgMC0uNS41djFjMCAuODI3LjY3MyAxLjUgMS41IDEuNWgxN2MuODI3IDAgMS41LS42NzMgMS41LTEuNXYtMWEuNS41IDAgMCAwLS41LS41em0tMSAyaC0xN2EuNS41IDAgMCAxLS41LS41VjE2aDE4di41YS41LjUgMCAwIDEtLjUuNXoiIGNsYXNzPSJ0cmlwZXR0by1maWxsIi8+PC9zdmc+"},617:function(e,t,o){o.r(t),t.default="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCI+PHBhdGggZD0iTTExLjUgMTRoLThjLS44MjcgMC0xLjUtLjY3My0xLjUtMS41di04QzIgMy42NzMgMi42NzMgMyAzLjUgM2gxM2MuODI3IDAgMS41LjY3MyAxLjUgMS41djFhLjUuNSAwIDAgMS0xIDB2LTFhLjUuNSAwIDAgMC0uNS0uNWgtMTNhLjUuNSAwIDAgMC0uNS41djhhLjUuNSAwIDAgMCAuNS41aDhhLjUuNSAwIDAgMSAwIDF6bTAgNGgtMTBDLjY3MyAxOCAwIDE3LjMyNyAwIDE2LjV2LTFhLjUuNSAwIDAgMSAuNS0uNWgxMWEuNS41IDAgMCAxIDAgMUgxdi41YS41LjUgMCAwIDAgLjUuNWgxMGEuNS41IDAgMCAxIDAgMXoiIGNsYXNzPSJ0cmlwZXR0by1maWxsIi8+PHBhdGggZD0iTTE4LjUgMThoLTRjLS44MjcgMC0xLjUtLjY3My0xLjUtMS41di04YzAtLjgyNy42NzMtMS41IDEuNS0xLjVoNGMuODI3IDAgMS41LjY3MyAxLjUgMS41djhjMCAuODI3LS42NzMgMS41LTEuNSAxLjV6bS00LTEwYS41LjUgMCAwIDAtLjUuNXY4YS41LjUgMCAwIDAgLjUuNWg0YS41LjUgMCAwIDAgLjUtLjV2LThhLjUuNSAwIDAgMC0uNS0uNWgtNHoiIGNsYXNzPSJ0cmlwZXR0by1maWxsIi8+PHBhdGggZD0iTTE2LjUgMTZhLjQ5OC40OTggMCAwIDEtLjUtLjUuNDk4LjQ5OCAwIDAgMSAuNS0uNS40OTguNDk4IDAgMCAxIC41LjUuNDk4LjQ5OCAwIDAgMS0uNS41eiIgY2xhc3M9InRyaXBldHRvLWZpbGwiLz48L3N2Zz4="},548:function(e,t,o){o.r(t),t.default="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCI+PHBhdGggZD0iTTEwLjUgMThoLTFhLjUuNSAwIDAgMSAwLTFoMWEuNS41IDAgMCAxIDAgMXoiIGNsYXNzPSJ0cmlwZXR0by1maWxsIi8+PHBhdGggZD0iTTE0LjUgMjBoLTljLS44MjcgMC0xLjUtLjY3My0xLjUtMS41di0xN0M0IC42NzMgNC42NzMgMCA1LjUgMGg5Yy44MjcgMCAxLjUuNjczIDEuNSAxLjV2MTdjMCAuODI3LS42NzMgMS41LTEuNSAxLjV6bS05LTE5YS41LjUgMCAwIDAtLjUuNXYxN2EuNS41IDAgMCAwIC41LjVoOWEuNS41IDAgMCAwIC41LS41di0xN2EuNS41IDAgMCAwLS41LS41aC05eiIgY2xhc3M9InRyaXBldHRvLWZpbGwiLz48cGF0aCBkPSJNMTMuNSAxNmgtN2EuNS41IDAgMCAxLS41LS41di0xM2EuNS41IDAgMCAxIC41LS41aDdhLjUuNSAwIDAgMSAuNS41djEzYS41LjUgMCAwIDEtLjUuNXpNNyAxNWg2VjNIN3YxMnoiIGNsYXNzPSJ0cmlwZXR0by1maWxsIi8+PC9zdmc+"},120:function(e,t,o){o.r(t),t.default="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCI+PHBhdGggZD0iTTE1LjUgMjBoLTEyYy0uODI3IDAtMS41LS42NzMtMS41LTEuNXYtMTdDMiAuNjczIDIuNjczIDAgMy41IDBoMTJjLjgyNyAwIDEuNS42NzMgMS41IDEuNXYxN2MwIC44MjctLjY3MyAxLjUtMS41IDEuNXpNMy41IDFhLjUuNSAwIDAgMC0uNS41djE3YS41LjUgMCAwIDAgLjUuNWgxMmEuNS41IDAgMCAwIC41LS41di0xN2EuNS41IDAgMCAwLS41LS41aC0xMnoiIGNsYXNzPSJ0cmlwZXR0by1maWxsIi8+PHBhdGggZD0iTTEwIDIuNWEuNS41IDAgMSAxLTEgMCAuNS41IDAgMCAxIDEgMHpNOS41IDE4Yy0uODI3IDAtMS41LS42NzMtMS41LTEuNVM4LjY3MyAxNSA5LjUgMTVzMS41LjY3MyAxLjUgMS41LS42NzMgMS41LTEuNSAxLjV6bTAtMmEuNS41IDAgMSAwIDAgMSAuNS41IDAgMCAwIDAtMXoiIGNsYXNzPSJ0cmlwZXR0by1maWxsIi8+PC9zdmc+"},954:function(e){e.exports=o(975)}},i={};function n(e){var o=i[e];if(void 0!==o)return o.exports;var l=i[e]={exports:{}};return t[e].call(l.exports,l,l.exports,n),l.exports}n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var l=n(110);e.exports=l}()},236:function(e,t,o){!function(){"use strict";var t={473:function(e,t,o){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=this&&this.__decorate||function(e,t,o,i){var n,l=arguments.length,a=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(l<3?n(a):l>3?n(t,o,a):n(t,o))||a);return l>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.DropdownCondition=void 0;var a=o(954),r=o(110),c=o(617),u=o(645),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return(this.option?this.option.name:(0,a.pgettext)("block:dropdown","Nothing selected"))||this.type.label},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"icon",{get:function(){return this.option?c.default:u.default},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.node&&this.node.block instanceof r.Dropdown&&this.node.block.options||void 0},enumerable:!1,configurable:!0}),t.prototype.defineEditor=function(){if(this.node&&this.options){var e=[];this.options.each((function(t){(0,a.isFilledString)(t.name)&&e.push({label:(0,a.markdownifyToString)(t.name,a.Markdown.MarkdownFeatures.None),value:t})})),e.push({label:(0,a.pgettext)("block:dropdown","Nothing selected"),value:void 0}),this.editor.form({title:this.node.label,controls:[new a.Forms.Dropdown(e,a.Forms.Dropdown.bind(this,"option",void 0))]})}},l([(0,a.affects)("#name"),(0,a.affects)("#condition"),(0,a.collection)("#options")],t.prototype,"option",void 0),l([a.editor],t.prototype,"defineEditor",null),l([(0,a.tripetto)({type:"condition",legacyBlock:!0,context:"@tripetto/block-dropdown",identifier:"@tripetto/block-dropdown",version:"7.0.0",icon:c.default,get label(){return(0,a.pgettext)("block:dropdown","Dropdown option")}})],t)}(a.ConditionBlock);t.DropdownCondition=s},287:function(e,t,o){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=this&&this.__decorate||function(e,t,o,i){var n,l=arguments.length,a=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(l<3?n(a):l>3?n(t,o,a):n(t,o))||a);return l>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.ScoreCondition=void 0;var a=o(954),r=o(939),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.allowMarkdown=!0,t.mode="equal",t}return n(t,e),Object.defineProperty(t.prototype,"label",{get:function(){return""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){var e=this.slot;if(e instanceof a.Slots.Numeric){var t=this.parse(e,this.value);switch(this.mode){case"between":return"".concat(t," ≤ @").concat(e.id," ≤ ").concat(this.parse(e,this.to));case"not-between":return"@".concat(e.id," < ").concat(t," ").concat((0,a.pgettext)("block:dropdown","or")," @").concat(e.id," > ").concat(this.parse(e,this.to));case"defined":return"@".concat(e.id," ").concat((0,a.pgettext)("block:dropdown","calculated"));case"undefined":return"@".concat(e.id," ").concat((0,a.pgettext)("block:dropdown","not calculated"));case"not-equal":return"@".concat(e.id," ≠ ").concat(t);case"above":case"below":case"equal":return"@".concat(e.id," ").concat("above"===this.mode?">":"below"===this.mode?"<":"="," ").concat(t)}}return this.type.label},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){var e,t;return(null===(e=this.slot)||void 0===e?void 0:e.label)||(null===(t=this.node)||void 0===t?void 0:t.label)},enumerable:!1,configurable:!0}),t.prototype.parse=function(e,t){var o;return(0,a.isNumberFinite)(t)?e.toString(t,(function(e,t){return a.L10n.locale.number(e,t,!1)})):(0,a.isString)(t)&&t&&(null===(o=(0,a.lookupVariable)(this,t))||void 0===o?void 0:o.label)?"@".concat(t):"\\_\\_"},t.prototype.defineEditor=function(){var e=this;this.editor.form({title:(0,a.pgettext)("block:dropdown","Compare mode"),controls:[new a.Forms.Radiobutton([{label:(0,a.pgettext)("block:dropdown","Score is equal to"),value:"equal"},{label:(0,a.pgettext)("block:dropdown","Score is not equal to"),value:"not-equal"},{label:(0,a.pgettext)("block:dropdown","Score is lower than"),value:"below"},{label:(0,a.pgettext)("block:dropdown","Score is higher than"),value:"above"},{label:(0,a.pgettext)("block:dropdown","Score is between"),value:"between"},{label:(0,a.pgettext)("block:dropdown","Score is not between"),value:"not-between"},{label:(0,a.pgettext)("block:dropdown","Score is calculated"),value:"defined"},{label:(0,a.pgettext)("block:dropdown","Score is not calculated"),value:"undefined"}],a.Forms.Radiobutton.bind(this,"mode","equal")).on((function(e){switch(o.visible("defined"!==e.value&&"undefined"!==e.value),i.visible("between"===e.value||"not-between"===e.value),e.value){case"equal":o.title=(0,a.pgettext)("block:dropdown","If score equals");break;case"not-equal":o.title=(0,a.pgettext)("block:dropdown","If score not equals");break;case"below":o.title=(0,a.pgettext)("block:dropdown","If score is lower than");break;case"above":o.title=(0,a.pgettext)("block:dropdown","If score is higher than");break;case"between":o.title=(0,a.pgettext)("block:dropdown","If score is between");break;case"not-between":o.title=(0,a.pgettext)("block:dropdown","If score is not between")}}))]});var t=function(t,o,i){var n,l=e[t],r=e.slot,c=new a.Forms.Numeric((0,a.isNumberFinite)(l)?l:0).label((0,a.pgettext)("block:dropdown","Use fixed number")).precision((null==r?void 0:r.precision)||0).digits((null==r?void 0:r.digits)||0).decimalSign((null==r?void 0:r.decimal)||"").thousands(!!(null==r?void 0:r.separator),(null==r?void 0:r.separator)||"").prefix((null==r?void 0:r.prefix)||"").prefixPlural((null==r?void 0:r.prefixPlural)||void 0).suffix((null==r?void 0:r.suffix)||"").suffixPlural((null==r?void 0:r.suffixPlural)||void 0).autoFocus("value"===t).escape(e.editor.close).enter((function(){return("between"!==e.mode&&"not-between"!==e.mode||"to"===t)&&e.editor.close()})).on((function(o){o.isFormVisible&&o.isObservable&&(e[t]=o.value)})),u=(0,a.populateVariables)(e,(function(e){return e instanceof a.Slots.Number||e instanceof a.Slots.Numeric}),(0,a.isString)(l)?l:void 0,!0,null===(n=e.slot)||void 0===n?void 0:n.id),s=new a.Forms.Dropdown(u,(0,a.isString)(l)?l:"").label((0,a.pgettext)("block:dropdown","Use value of")).width("full").on((function(o){o.isFormVisible&&o.isObservable&&(e[t]=o.value||"")}));return e.editor.form({title:o,controls:[new a.Forms.Radiobutton([{label:(0,a.pgettext)("block:dropdown","Number"),value:"number"},{label:(0,a.pgettext)("block:dropdown","Value"),value:"variable",disabled:0===u.length}],(0,a.isString)(l)?"variable":"number").on((function(e){c.visible("number"===e.value),s.visible("variable"===e.value),c.isObservable&&c.focus()})),c,s]}).visible(i)},o=t("value",(0,a.pgettext)("block:dropdown","If score equals"),"defined"!==this.mode&&"undefined"!==this.mode),i=t("to",(0,a.pgettext)("block:dropdown","And"),"between"===this.mode||"not-between"===this.mode)},l([a.definition,(0,a.affects)("#name")],t.prototype,"mode",void 0),l([a.definition,(0,a.affects)("#name")],t.prototype,"value",void 0),l([a.definition,(0,a.affects)("#name")],t.prototype,"to",void 0),l([a.editor],t.prototype,"defineEditor",null),l([(0,a.tripetto)({type:"condition",legacyBlock:!0,context:"@tripetto/block-dropdown",identifier:"".concat("@tripetto/block-dropdown",":score"),version:"7.0.0",icon:r.default,get label(){return(0,a.pgettext)("block:dropdown","Verify score")}})],t)}(a.ConditionBlock);t.ScoreCondition=c},110:function(e,t,o){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=this&&this.__decorate||function(e,t,o,i){var n,l=arguments.length,a=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(l<3?n(a):l>3?n(t,o,a):n(t,o))||a);return l>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.Dropdown=void 0;var a=o(954),r=o(422),c=o(473),u=o(287),s=o(617),d=o(645),p=o(939),b=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.options=a.Collection.of(r.DropdownOption,t),t}return n(t,e),Object.defineProperty(t.prototype,"label",{get:function(){return(0,a.npgettext)("block:dropdown","%2 (%1 option)","%2 (%1 options)",this.options.count,this.type.label)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"calculator",{get:function(){return{option:{allowCastToNumber:!0}}},enumerable:!1,configurable:!0}),t.prototype.defineSlots=function(){this.dropdownSlot=this.slots.static({type:a.Slots.String,reference:"option",label:(0,a.pgettext)("block:dropdown","Selected option"),exchange:["required","alias","exportable"]})},t.prototype.defineEditor=function(){this.editor.groups.general(),this.editor.name(),this.editor.description(),this.editor.placeholder(),this.editor.explanation();var e=this.editor.collection({collection:this.options,title:(0,a.pgettext)("block:dropdown","Dropdown options"),placeholder:(0,a.pgettext)("block:dropdown","Unnamed option"),autoOpen:!0,allowVariables:!0,allowImport:!0,allowExport:!0,allowDedupe:!0,showAliases:!0,sorting:"manual",emptyMessage:(0,a.pgettext)("block:dropdown","Click the + button to add an option...")});this.editor.groups.settings(),this.editor.option({name:(0,a.pgettext)("block:dropdown","Randomization"),form:{title:(0,a.pgettext)("block:dropdown","Randomization"),controls:[new a.Forms.Checkbox((0,a.pgettext)("block:dropdown","Randomize the options (using [Fisher-Yates shuffle](%1))","https://en.wikipedia.org/wiki/Fisher%E2%80%93Yates_shuffle"),a.Forms.Checkbox.bind(this,"randomize",void 0,!0)).markdown()]},activated:(0,a.isBoolean)(this.randomize)}),this.editor.groups.options(),this.editor.required(this.dropdownSlot),this.editor.visibility(),this.editor.scores({target:this,collection:e,description:(0,a.pgettext)("block:dropdown","Generates a score based on the selected option. Open the settings panel for each option to set the score.")}),this.editor.alias(this.dropdownSlot),this.editor.exportable(this.dropdownSlot)},t.prototype.defineConditions=function(){var e=this;this.options.each((function(t){t.name&&e.conditions.template({condition:c.DropdownCondition,label:t.name,burst:"branch",props:{slot:e.dropdownSlot,option:t}})})),this.conditions.template({condition:c.DropdownCondition,label:(0,a.pgettext)("block:dropdown","Nothing selected"),icon:d.default,separator:!0,props:{slot:this.dropdownSlot,option:void 0}});var t=this.slots.select("score","feature");if(t&&t.label){var o=this.conditions.group(t.label,p.default);(0,a.each)([{mode:"equal",label:(0,a.pgettext)("block:dropdown","Score is equal to")},{mode:"not-equal",label:(0,a.pgettext)("block:dropdown","Score is not equal to")},{mode:"below",label:(0,a.pgettext)("block:dropdown","Score is lower than")},{mode:"above",label:(0,a.pgettext)("block:dropdown","Score is higher than")},{mode:"between",label:(0,a.pgettext)("block:dropdown","Score is between")},{mode:"not-between",label:(0,a.pgettext)("block:dropdown","Score is not between")},{mode:"defined",label:(0,a.pgettext)("block:dropdown","Score is calculated")},{mode:"undefined",label:(0,a.pgettext)("block:dropdown","Score is not calculated")}],(function(e){o.template({condition:u.ScoreCondition,label:e.label,autoOpen:"defined"!==e.mode&&"undefined"!==e.mode,props:{slot:t,mode:e.mode,value:0,to:"between"===e.mode||"not-between"===e.mode?0:void 0}})}))}},l([(0,a.definition)("items"),(0,a.affects)("#label"),(0,a.supplies)("#slot","option")],t.prototype,"options",void 0),l([(0,a.definition)("boolean","optional")],t.prototype,"randomize",void 0),l([(0,a.metadata)("calculator")],t.prototype,"calculator",null),l([a.slots],t.prototype,"defineSlots",null),l([a.editor],t.prototype,"defineEditor",null),l([a.conditions],t.prototype,"defineConditions",null),l([(0,a.tripetto)({type:"node",legacyBlock:!0,identifier:"@tripetto/block-dropdown",version:"7.0.0",icon:s.default,get label(){return(0,a.pgettext)("block:dropdown","Dropdown (single-select)")}})],t)}(a.NodeBlock);t.Dropdown=b},422:function(e,t,o){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=this&&this.__decorate||function(e,t,o,i){var n,l=arguments.length,a=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(l<3?n(a):l>3?n(t,o,a):n(t,o))||a);return l>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.DropdownOption=void 0;var a=o(954),r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.name="",t}return n(t,e),t.prototype.defineEditor=function(){this.editor.option({name:(0,a.pgettext)("block:dropdown","Name"),form:{title:(0,a.pgettext)("block:dropdown","Option name"),controls:[new a.Forms.Text("singleline",a.Forms.Text.bind(this,"name","")).action("@",(0,a.insertVariable)(this,"exclude")).autoFocus().autoSelect().enter(this.editor.close).escape(this.editor.close)]},locked:!0}),this.editor.group((0,a.pgettext)("block:dropdown","Options")),this.editor.option({name:(0,a.pgettext)("block:dropdown","Identifier"),form:{title:(0,a.pgettext)("block:dropdown","Identifier"),controls:[new a.Forms.Text("singleline",a.Forms.Text.bind(this,"value",void 0)),new a.Forms.Static((0,a.pgettext)("block:dropdown","If an option identifier is set, this identifier will be used as selected option value instead of the option label."))]},activated:(0,a.isString)(this.value)});var e=this.ref.slots.select("score","feature");this.editor.option({name:(0,a.pgettext)("block:dropdown","Score"),form:{title:(0,a.pgettext)("block:dropdown","Score"),controls:[new a.Forms.Numeric(a.Forms.Numeric.bind(this,"score",void 0)).precision((null==e?void 0:e.precision)||0).digits((null==e?void 0:e.digits)||0).decimalSign((null==e?void 0:e.decimal)||"").thousands(!!(null==e?void 0:e.separator),(null==e?void 0:e.separator)||"").prefix((null==e?void 0:e.prefix)||"").prefixPlural((null==e?void 0:e.prefixPlural)||void 0).suffix((null==e?void 0:e.suffix)||"").suffixPlural((null==e?void 0:e.suffixPlural)||void 0)]},activated:!0,locked:!!e,disabled:!e})},l([(0,a.definition)("string"),a.name],t.prototype,"name",void 0),l([(0,a.definition)("string","optional"),a.alias],t.prototype,"value",void 0),l([(0,a.definition)("number","optional"),a.score],t.prototype,"score",void 0),l([a.editor],t.prototype,"defineEditor",null),t}(a.Collection.Item);t.DropdownOption=r},617:function(e,t,o){o.r(t),t.default="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCI+PHBhdGggZD0iTTE0LjUgNS41YS41MDIuNTAyIDAgMCAxLS4zNTQtLjE0NmwtMi0yYS41LjUgMCAwIDEgLjcwNy0uNzA3bDEuNjQ2IDEuNjQ2IDEuNjQ2LTEuNjQ2YS41LjUgMCAwIDEgLjcwNy43MDdsLTIgMmEuNDk4LjQ5OCAwIDAgMS0uMzU0LjE0NnoiIGNsYXNzPSJ0cmlwZXR0by1maWxsIi8+PHBhdGggZD0iTTE4LjUgMGgtMTdDLjY3MyAwIDAgLjY3MyAwIDEuNXY1QzAgNy4zMjcuNjczIDggMS41IDhINHYxMC41YzAgLjgyNy42NzMgMS41IDEuNSAxLjVoMTNjLjgyNyAwIDEuNS0uNjczIDEuNS0xLjV2LTE3YzAtLjgyNy0uNjczLTEuNS0xLjUtMS41ek0xIDYuNXYtNWEuNS41IDAgMCAxIC41LS41aDE3YS41LjUgMCAwIDEgLjUuNXY1YS41LjUgMCAwIDEtLjUuNWgtMTdhLjUuNSAwIDAgMS0uNS0uNXpNMTguNSAxOWgtMTNhLjUuNSAwIDAgMS0uNS0uNVY4aDEzLjVjLjE3NSAwIC4zNDMtLjAzMS41LS4wODZWMTguNWEuNS41IDAgMCAxLS41LjV6IiBjbGFzcz0idHJpcGV0dG8tZmlsbCIvPjxwYXRoIGQ9Ik0xNi41IDExaC05YS41LjUgMCAwIDEgMC0xaDlhLjUuNSAwIDAgMSAwIDF6bTAgM2gtOWEuNS41IDAgMCAxIDAtMWg5YS41LjUgMCAwIDEgMCAxem0wIDNoLTlhLjUuNSAwIDAgMSAwLTFoOWEuNS41IDAgMCAxIDAgMXoiIGNsYXNzPSJ0cmlwZXR0by1maWxsIi8+PC9zdmc+"},645:function(e,t,o){o.r(t),t.default="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCI+PHBhdGggZD0ibTEwLjcwNyAxMC41IDUuNjQ2LTUuNjQ2YS41LjUgMCAwIDAtLjcwNy0uNzA3TDEwIDkuNzkzIDQuMzU0IDQuMTQ3YS41LjUgMCAwIDAtLjcwNy43MDdMOS4yOTMgMTAuNWwtNS42NDYgNS42NDZhLjUuNSAwIDAgMCAuNzA4LjcwN2w1LjY0Ni01LjY0NiA1LjY0NiA1LjY0NmEuNDk4LjQ5OCAwIDAgMCAuNzA4IDAgLjUuNSAwIDAgMCAwLS43MDdMMTAuNzA5IDEwLjV6IiBjbGFzcz0idHJpcGV0dG8tZmlsbCIvPjwvc3ZnPg=="},939:function(e,t,o){o.r(t),t.default="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCI+PHBhdGggZD0iTTE4LjUgOEgxM1YzLjVhLjUuNSAwIDAgMC0uNS0uNWgtNmEuNS41IDAgMCAwLS41LjVWNkguNWEuNS41IDAgMCAwLS41LjV2MTBhLjUuNSAwIDAgMCAuNS41aDE4YS41LjUgMCAwIDAgLjUtLjV2LThhLjUuNSAwIDAgMC0uNS0uNXpNNyA0aDV2MTJIN1Y0ek0xIDdoNXY5SDFWN3ptMTcgOWgtNVY5aDV2N3oiIGNsYXNzPSJ0cmlwZXR0by1maWxsIi8+PHBhdGggZD0iTTkuNSAxMGEuNS41IDAgMCAxLS41LS41di00YS41LjUgMCAwIDEgMSAwdjRhLjUuNSAwIDAgMS0uNS41em0tNSAzaC0yYS41LjUgMCAwIDEtLjUtLjV2LTJhLjUuNSAwIDAgMSAuNS0uNUg0VjlIMi41YS41LjUgMCAwIDEgMC0xaDJhLjUuNSAwIDAgMSAuNS41djJhLjUuNSAwIDAgMS0uNS41SDN2MWgxLjVhLjUuNSAwIDAgMSAwIDF6bTEyLTNoLTJhLjUuNSAwIDAgMCAwIDFIMTZ2MWgtMS41YS41LjUgMCAwIDAgMCAxSDE2djFoLTEuNWEuNS41IDAgMCAwIDAgMWgyYS41LjUgMCAwIDAgLjUtLjV2LTRhLjUuNSAwIDAgMC0uNS0uNXoiIGNsYXNzPSJ0cmlwZXR0by1maWxsIi8+PC9zdmc+"},954:function(e){e.exports=o(975)}},i={};function n(e){var o=i[e];if(void 0!==o)return o.exports;var l=i[e]={exports:{}};return t[e].call(l.exports,l,l.exports,n),l.exports}n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var l=n(110);e.exports=l}()},63:function(e,t,o){!function(){"use strict";var t={583:function(e,t,o){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=this&&this.__decorate||function(e,t,o,i){var n,l=arguments.length,a=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(l<3?n(a):l>3?n(t,o,a):n(t,o))||a);return l>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.EmailCondition=void 0;var a=o(954),r=o(617),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.allowMarkdown=!0,t.mode="address",t}return n(t,e),Object.defineProperty(t.prototype,"label",{get:function(){return""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){var e,t;if(this.slot instanceof a.Slots.String){var o=((0,a.isVariable)(this.match)?(null===(e=(0,a.lookupVariable)(this,this.match))||void 0===e?void 0:e.label)&&"@".concat(this.match):this.match&&((t=(0,a.makeMarkdownSafe)(this.match))&&("domain"===this.mode||"not-domain"===this.mode)&&"_@".concat(t,"_")||t))||"\\_\\_";switch(this.mode){case"domain":return"@".concat(this.slot.id," ").concat((0,a.pgettext)("block:email","from domain")," ").concat(o);case"not-domain":return"@".concat(this.slot.id," ").concat((0,a.pgettext)("block:email","not from domain")," ").concat(o);case"address":return"@".concat(this.slot.id," = ").concat(o);case"not-address":return"@".concat(this.slot.id," ≠ ").concat(o);case"defined":return"@".concat(this.slot.id," ").concat((0,a.pgettext)("block:email","not empty"));case"undefined":return"@".concat(this.slot.id," ").concat((0,a.pgettext)("block:email","empty"))}}return this.type.label},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){var e;return null===(e=this.node)||void 0===e?void 0:e.label},enumerable:!1,configurable:!0}),t.prototype.defineEditor=function(){var e,t=this;this.editor.form({title:(0,a.pgettext)("block:email","Compare mode"),controls:[new a.Forms.Radiobutton([{label:(0,a.pgettext)("block:email","Email address matches"),value:"address"},{label:(0,a.pgettext)("block:email","Email address does not match"),value:"not-address"},{label:(0,a.pgettext)("block:email","Email address matches domain"),value:"domain"},{label:(0,a.pgettext)("block:email","Email address does not match domain"),value:"not-domain"},{label:(0,a.pgettext)("block:email","Email address is not empty"),value:"defined"},{label:(0,a.pgettext)("block:email","Email address is empty"),value:"undefined"}],a.Forms.Radiobutton.bind(this,"mode","address")).on((function(e){switch(r.visible("defined"!==e.value&&"undefined"!==e.value),e.value){case"address":r.title=(0,a.pgettext)("block:email","If email address matches");break;case"not-address":r.title=(0,a.pgettext)("block:email","If email address does not match");break;case"domain":r.title=(0,a.pgettext)("block:email","If email address matches domain");break;case"not-domain":r.title=(0,a.pgettext)("block:email","If email address does not match domain")}n.isInteractable&&n.focus()}))]});var o=this.match&&(0,a.isVariable)(this.match)||!1,i=(0,a.populateVariables)(this,(function(e){return e instanceof a.Slots.String||e instanceof a.Slots.Text}),o?this.match:void 0,!1,null===(e=this.slot)||void 0===e?void 0:e.id),n=new a.Forms.Text("singleline",o?"":this.match).label((0,a.pgettext)("block:email","Use fixed text")).action("@",(0,a.insertVariable)(this,"exclude")).autoFocus().enter(this.editor.close).escape(this.editor.close).on((function(e){e.isFormVisible&&e.isObservable&&(t.match=e.value)})),l=new a.Forms.Dropdown(i,o?this.match:"").label((0,a.pgettext)("block:email","Use value of")).width("full").on((function(e){e.isFormVisible&&e.isObservable&&(t.match=e.value||void 0)})),r=this.editor.form({title:(0,a.pgettext)("block:email","If email address matches"),controls:[new a.Forms.Radiobutton([{label:(0,a.pgettext)("block:email","Text"),value:"text"},{label:(0,a.pgettext)("block:email","Value"),value:"variable",disabled:0===i.length}],o?"variable":"text").on((function(e){n.visible("text"===e.value),l.visible("variable"===e.value),n.isInteractable&&n.focus()})),n,l]}).visible("defined"!==this.mode&&"undefined"!==this.mode)},l([a.definition,(0,a.affects)("#name")],t.prototype,"mode",void 0),l([a.definition,(0,a.affects)("#name")],t.prototype,"match",void 0),l([a.editor],t.prototype,"defineEditor",null),l([(0,a.tripetto)({type:"condition",legacyBlock:!0,context:"@tripetto/block-email",identifier:"@tripetto/block-email",version:"6.0.3",icon:r.default,get label(){return(0,a.pgettext)("block:email","Match email address")}})],t)}(a.ConditionBlock);t.EmailCondition=c},110:function(e,t,o){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=this&&this.__decorate||function(e,t,o,i){var n,l=arguments.length,a=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(l<3?n(a):l>3?n(t,o,a):n(t,o))||a);return l>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.Email=void 0;var a=o(954),r=o(583),c=o(617),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}var o;return n(t,e),o=t,t.prototype.defineSlot=function(){this.emailSlot=this.slots.static({type:a.Slots.String,reference:"email",label:o.label,exchange:["required","alias","exportable"]})},t.prototype.defineEditor=function(){this.editor.name(),this.editor.description(),this.editor.placeholder(),this.editor.explanation(),this.editor.groups.options(),this.editor.required(this.emailSlot),this.editor.visibility(),this.editor.alias(this.emailSlot),this.editor.exportable(this.emailSlot)},t.prototype.defineCondition=function(){var e=this;(0,a.each)([{mode:"address",label:(0,a.pgettext)("block:email","Email address match")},{mode:"not-address",label:(0,a.pgettext)("block:email","Email address mismatch")},{mode:"domain",label:(0,a.pgettext)("block:email","Email address on domain")},{mode:"not-domain",label:(0,a.pgettext)("block:email","Email address not on domain")},{mode:"defined",label:(0,a.pgettext)("block:email","Email address is not empty")},{mode:"undefined",label:(0,a.pgettext)("block:email","Email address is empty")}],(function(t){e.conditions.template({condition:r.EmailCondition,label:t.label,autoOpen:"defined"!==t.mode&&"undefined"!==t.mode,props:{slot:e.emailSlot,mode:t.mode}})}))},l([a.slots],t.prototype,"defineSlot",null),l([a.editor],t.prototype,"defineEditor",null),l([a.conditions],t.prototype,"defineCondition",null),o=l([(0,a.tripetto)({type:"node",legacyBlock:!0,identifier:"@tripetto/block-email",version:"6.0.3",icon:c.default,get label(){return(0,a.pgettext)("block:email","Email address")}})],t)}(a.NodeBlock);t.Email=u},617:function(e,t,o){o.r(t),t.default="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCI+PHBhdGggZD0iTTE3LjA3MSAyLjkyOUMxNS4xODIgMS4wNCAxMi42NzEgMCAxMCAwUzQuODE4IDEuMDQgMi45MjkgMi45MjlDMS4wNCA0LjgxOCAwIDcuMzI5IDAgMTBzMS4wNCA1LjE4MiAyLjkyOSA3LjA3MUE5LjkzNCA5LjkzNCAwIDAgMCAxMCAyMGE5Ljg5NCA5Ljg5NCAwIDAgMCA0LjQ2NS0xLjA1IDEwLjA4MyAxMC4wODMgMCAwIDAgMy40My0yLjgxMi41LjUgMCAxIDAtLjc4OS0uNjE1QTguOTUgOC45NSAwIDAgMSAxMCAxOC45OTljLTQuOTYzIDAtOS00LjAzNy05LTlzNC4wMzctOSA5LTkgOSA0LjAzNyA5IDljMCAxLjc2Ni0xLjAyOCAzLTIuNSAzYTIuNTAzIDIuNTAzIDAgMCAxLTIuNS0yLjV2LTRhLjUuNSAwIDAgMC0xIDB2Ljg1N2EzLjk5IDMuOTkgMCAwIDAtMy0xLjM1N2MtMi4yMDYgMC00IDEuNzk0LTQgNHMxLjc5NCA0IDQgNGMxLjQzIDAgMi42ODctLjc1NSAzLjM5NS0xLjg4N2EzLjUwNCAzLjUwNCAwIDAgMCAzLjEwNSAxLjg4N2MuOTY4IDAgMS44NTMtLjM5MyAyLjQ5NC0xLjEwNy42NTgtLjczNCAxLjAwNi0xLjczNCAxLjAwNi0yLjg5M2E5LjkzNCA5LjkzNCAwIDAgMC0yLjkyOS03LjA3MXpNMTAgMTNjLTEuNjU0IDAtMy0xLjM0Ni0zLTNzMS4zNDYtMyAzLTMgMyAxLjM0NiAzIDMtMS4zNDYgMy0zIDN6IiBjbGFzcz0idHJpcGV0dG8tZmlsbCIvPjwvc3ZnPg=="},954:function(e){e.exports=o(975)}},i={};function n(e){var o=i[e];if(void 0!==o)return o.exports;var l=i[e]={exports:{}};return t[e].call(l.exports,l,l.exports,n),l.exports}n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var l=n(110);e.exports=l}()},57:function(e,t,o){!function(){"use strict";var t={110:function(e,t,o){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=this&&this.__decorate||function(e,t,o,i){var n,l=arguments.length,a=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(l<3?n(a):l>3?n(t,o,a):n(t,o))||a);return l>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.Error=void 0;var a=o(954),r=o(617),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.defineEditor=function(){var e=(0,a.getHelpTopic)("block:error");this.editor.form({title:(0,a.pgettext)("block:error","Explanation"),controls:[new a.Forms.Static((0,a.pgettext)("block:error","Raises an error, prevents completion of the form and displays an optional message to the user%1.",e?" ([".concat((0,a.pgettext)("block:error","learn more"),"](").concat(e,"))"):"")).markdown()]}),this.editor.name(!1,!0,(0,a.pgettext)("block:error","Error message")),this.editor.description(),this.editor.groups.options(),this.editor.visibility()},l([a.editor],t.prototype,"defineEditor",null),l([(0,a.tripetto)({type:"node",legacyBlock:!0,identifier:"@tripetto/block-error",version:"5.0.4",kind:"headless",icon:r.default,get label(){return(0,a.pgettext)("block:error","Raise error")}})],t)}(a.NodeBlock);t.Error=c},617:function(e,t,o){o.r(t),t.default="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCI+PHBhdGggZD0iTTE4LjUgMTlILjVhLjUuNSAwIDAgMS0uNDM2LS43NDZsOS0xNmEuNTAxLjUwMSAwIDAgMSAuODcyIDBsOSAxNkEuNTAzLjUwMyAwIDAgMSAxOC41IDE5ek0xLjM1NSAxOGgxNi4yOUw5LjUgMy41MiAxLjM1NSAxOHoiIGNsYXNzPSJ0cmlwZXR0by1maWxsIi8+PHBhdGggZD0iTTkuNSAxNGEuNS41IDAgMCAxLS41LS41di01YS41LjUgMCAwIDEgMSAwdjVhLjUuNSAwIDAgMS0uNS41em0wIDNhLjUuNSAwIDAgMS0uNS0uNXYtMWEuNS41IDAgMCAxIDEgMHYxYS41LjUgMCAwIDEtLjUuNXoiIGNsYXNzPSJ0cmlwZXR0by1maWxsIi8+PC9zdmc+"},954:function(e){e.exports=o(975)}},i={};function n(e){var o=i[e];if(void 0!==o)return o.exports;var l=i[e]={exports:{}};return t[e].call(l.exports,l,l.exports,n),l.exports}n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var l=n(110);e.exports=l}()},38:function(e,t,o){!function(){"use strict";var t={110:function(e,t,o){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=this&&this.__decorate||function(e,t,o,i){var n,l=arguments.length,a=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(l<3?n(a):l>3?n(t,o,a):n(t,o))||a);return l>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.EvaluateCondition=void 0;var a=o(954),r=o(617),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.allowMarkdown=!0,t}var o;return n(t,e),o=t,Object.defineProperty(t.prototype,"isString",{get:function(){return this.slot instanceof a.Slots.String||this.slot instanceof a.Slots.Text||!(this.slot||!this.variable)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isNumber",{get:function(){return this.slot instanceof a.Slots.Number||this.slot instanceof a.Slots.Numeric},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isDate",{get:function(){return this.slot instanceof a.Slots.Date},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"supportsTime",{get:function(){return this.slot instanceof a.Slots.Date&&this.slot.supportsTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isBoolean",{get:function(){return this.slot instanceof a.Slots.Boolean},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"label",{get:function(){return""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){var e,t,o,i=this;if(this.variable&&(0,a.lookupVariable)(this,this.variable)){if("defined"===this.mode)return"@".concat(this.variable," ").concat((0,a.pgettext)("block:evaluate","not empty"));if("undefined"===this.mode)return"@".concat(this.variable," ").concat((0,a.pgettext)("block:evaluate","empty"));if(this.isString){var n=((0,a.isString)(this.value)&&(0,a.isVariable)(this.value)?(null===(e=(0,a.lookupVariable)(this,this.value))||void 0===e?void 0:e.label)&&"@".concat(this.value):(0,a.isFilledString)(this.value)&&((o=(0,a.makeMarkdownSafe)(a.Str.replace(this.value,"\n","↵")))&&("contains"===i.mode||"not-contains"===i.mode||"starts"===i.mode||"ends"===i.mode)&&"_".concat(o,"_")||o))||"\\_\\_";switch(this.mode){case"equal":case"not-equal":return"@".concat(this.variable," ").concat("not-equal"===this.mode?"≠":"="," ").concat(n);case"contains":case"not-contains":case"starts":case"ends":return"@".concat(this.variable," ").concat("not-contains"===this.mode?(0,a.pgettext)("block:evaluate","does not contain"):"starts"===this.mode?(0,a.pgettext)("block:evaluate","starts with"):"ends"===this.mode?(0,a.pgettext)("block:evaluate","ends with"):(0,a.pgettext)("block:evaluate","contains")," ").concat(n)}}if(this.isNumber){var l=function(e,t){var o;return(0,a.isNumberFinite)(t)?e instanceof a.Slots.Numeric?e.toString(t,(function(e,t){return a.L10n.locale.number(e,t,!1)})):e.toString(t,(function(e){return a.L10n.locale.number(e,0,!1)})):(0,a.isString)(t)&&t&&(null===(o=(0,a.lookupVariable)(i,t))||void 0===o?void 0:o.label)?"@"+t:"\\_\\_"},r=l(c=this.slot,this.value);switch(this.mode){case"between":return"".concat(r," ≤ @").concat(this.variable," ≤ ").concat(l(c,this.to));case"not-between":return"@".concat(this.variable," < ").concat(r," ").concat((0,a.pgettext)("block:evaluate","or")," @").concat(this.variable," > ").concat(l(c,this.to));case"not-equal":return"@".concat(this.variable," ≠ ").concat(r);case"above":case"below":case"equal":return"@".concat(this.variable," ").concat("above"===this.mode?">":"below"===this.mode?"<":"="," ").concat(r)}}if(this.isDate)switch(l=function(e,t){var o;return(0,a.isNumberFinite)(t)?e.supportsTime?a.L10n.locale.dateTimeShort(e.toValue(t),!0):a.L10n.locale.dateShort(e.toValue(t),!0):(0,a.isString)(t)?t&&(null===(o=(0,a.lookupVariable)(i,t))||void 0===o?void 0:o.label)?"@".concat(t):"\\_\\_":"`"+(0,a.pgettext)("block:evaluate","Now").toUpperCase()+"`"},r=l(c=this.slot,this.value),this.mode){case"between":return"".concat(r," ≤ @").concat(c.id," ≤ ").concat(l(c,this.to));case"not-between":return"@".concat(c.id," < ").concat(r," ").concat((0,a.pgettext)("block:evaluate","or")," @").concat(c.id," > ").concat(l(c,this.to));case"before":case"after":case"equal":case"not-equal":return"@".concat(c.id," ").concat("after"===this.mode?">":"before"===this.mode?"<":"not-equal"===this.mode?"≠":"="," ").concat(r)}if(this.isBoolean){var c=this.slot;switch(this.mode){case"true":return"@".concat(this.variable," = ").concat((0,a.makeMarkdownSafe)(c.labelForTrue||"")||(0,a.pgettext)("block:evaluate","True"));case"false":return"@".concat(this.variable," = ").concat((0,a.makeMarkdownSafe)(c.labelForFalse||"")||(0,a.pgettext)("block:evaluate","False"));case"equal":case"not-equal":return"@".concat(this.variable," ").concat("not-equal"===this.mode?"≠":"="," ").concat((0,a.isString)(this.value)&&(0,a.isVariable)(this.value)&&(null===(t=(0,a.lookupVariable)(this,this.value))||void 0===t?void 0:t.label)?"@".concat(this.value):"\\_\\_")}}}return this.type.label},enumerable:!1,configurable:!0}),t.getToday=function(e){return a.DateTime.UTCToday+("end"===e?86399999:0)},t.prototype.stringEditor=function(){var e=this,t=this.editor.form({title:(0,a.pgettext)("block:evaluate","Compare mode"),controls:[new a.Forms.Radiobutton([{label:(0,a.pgettext)("block:evaluate","Value matches"),value:"equal"},{label:(0,a.pgettext)("block:evaluate","Value does not match"),value:"not-equal"},{label:(0,a.pgettext)("block:evaluate","Value contains"),value:"contains"},{label:(0,a.pgettext)("block:evaluate","Value does not contain"),value:"not-contains"},{label:(0,a.pgettext)("block:evaluate","Value starts with"),value:"starts"},{label:(0,a.pgettext)("block:evaluate","Value ends with"),value:"ends"},{label:(0,a.pgettext)("block:evaluate","Value is not empty"),value:"defined"},{label:(0,a.pgettext)("block:evaluate","Value is empty"),value:"undefined"}],this.mode||"equal").on((function(t){switch(e.isString&&t.isObservable&&(e.mode=t.value),p.visible(e.isString&&"defined"!==t.value&&"undefined"!==t.value),t.value){case"equal":p.title=(0,a.pgettext)("block:evaluate","If value matches");break;case"not-equal":p.title=(0,a.pgettext)("block:evaluate","If value does not match");break;case"contains":p.title=(0,a.pgettext)("block:evaluate","If value contains");break;case"not-contains":p.title=(0,a.pgettext)("block:evaluate","If value does not contain");break;case"starts":p.title=(0,a.pgettext)("block:evaluate","If value starts with");break;case"ends":p.title=(0,a.pgettext)("block:evaluate","If value ends with")}l.isObservable&&l.isInteractable&&l.focus(),r.isObservable&&r.isInteractable&&r.focus()}))]}).visible(this.isString),o=!1,i=(0,a.isString)(this.value)&&(0,a.isVariable)(this.value)||!1,n=(0,a.populateVariables)(this,void 0,i?this.value:void 0),l=new a.Forms.Text("singleline",!i&&(0,a.isString)(this.value)?this.value:"").label((0,a.pgettext)("block:evaluate","Use fixed text")).action("@",(0,a.insertVariable)(this)).autoFocus().enter(this.editor.close).escape(this.editor.close).on((function(t){t.isFormVisible&&t.isVisible&&(e.value=r.value=t.value),s.disabled(!!(t.isFormVisible&&t.isVisible&&t.suggestion&&o))})),r=new a.Forms.Text("multiline",!i&&(0,a.isString)(this.value)?this.value:"").label((0,a.pgettext)("block:evaluate","Use fixed text")).action("@",(0,a.insertVariable)(this)).autoFocus().enter(this.editor.close).escape(this.editor.close).on((function(t){t.isFormVisible&&t.isVisible&&(e.value=l.value=t.value)})),c=new a.Forms.Dropdown(n,i?this.value:"").label((0,a.pgettext)("block:evaluate","Use value of")).width("full").on((function(t){t.isFormVisible&&t.isObservable&&e.variable!==t.value&&(e.value=t.value||void 0)})),u=new a.Forms.Radiobutton([{label:(0,a.pgettext)("block:evaluate","Text"),value:"text"},{label:(0,a.pgettext)("block:evaluate","Value"),value:"variable",disabled:0===n.length}],i?"variable":"text").on((function(e){l.visible(!l.isDisabled&&"text"===e.value||!1),r.visible(!r.isDisabled&&"text"===e.value||!1),c.visible("variable"===e.value),l.isObservable&&l.isInteractable&&l.focus(),r.isObservable&&r.isInteractable&&r.focus()})),s=new a.Forms.Checkbox((0,a.pgettext)("block:evaluate","Ignore case"),a.Forms.Checkbox.bind(this,"ignoreCase",void 0,!0)),d=function(){var t,i=e.slot&&(0,a.lookupVariable)(e,e.slot.id);if(o=!1,i&&i.slot&&i.block instanceof a.NodeBlock){var n=a.Collection.find(i);n&&(o=n.sole,t=(0,a.map)(n.collection.all,(function(e){return(0,a.markdownifyToString)(e.getNameOfItem())})))}l.suggestions(t),l.disabled(!t),r.disabled(!!t),u.refresh()};d();var p=this.editor.form({title:(0,a.pgettext)("block:evaluate","If value matches"),controls:[u,l,r,c,s]}).visible(this.isString&&"defined"!==this.mode&&"undefined"!==this.mode);return{update:function(o,i){t.visible(e.isString),o!==i&&(o&&c.optionDisabled(o,!1),i&&c.optionDisabled(i,!0)),d()}}},t.prototype.numberEditor=function(){var e=this,t=[],o=this.editor.form({title:(0,a.pgettext)("block:evaluate","Compare mode"),controls:[new a.Forms.Radiobutton([{label:(0,a.pgettext)("block:evaluate","Number is equal to"),value:"equal"},{label:(0,a.pgettext)("block:evaluate","Number is not equal to"),value:"not-equal"},{label:(0,a.pgettext)("block:evaluate","Number is lower than"),value:"below"},{label:(0,a.pgettext)("block:evaluate","Number is higher than"),value:"above"},{label:(0,a.pgettext)("block:evaluate","Number is between"),value:"between"},{label:(0,a.pgettext)("block:evaluate","Number is not between"),value:"not-between"},{label:(0,a.pgettext)("block:evaluate","Number is not empty"),value:"defined"},{label:(0,a.pgettext)("block:evaluate","Number is empty"),value:"undefined"}],this.mode||"equal").on((function(t){switch(e.isNumber&&t.isObservable&&(e.mode=t.value),l.visible(e.isNumber&&"defined"!==t.value&&"undefined"!==t.value),u.visible(e.isNumber&&("between"===t.value||"not-between"===t.value)),t.value){case"equal":l.title=(0,a.pgettext)("block:evaluate","If number equals");break;case"not-equal":l.title=(0,a.pgettext)("block:evaluate","If number not equals");break;case"below":l.title=(0,a.pgettext)("block:evaluate","If number is lower than");break;case"above":l.title=(0,a.pgettext)("block:evaluate","If number is higher than");break;case"between":l.title=(0,a.pgettext)("block:evaluate","If number is between");break;case"not-between":l.title=(0,a.pgettext)("block:evaluate","If number is not between")}}))]}).visible(this.isNumber),i=function(o,i,n){var l=e[o],r=e.slot instanceof a.Slots.Numeric?e.slot:void 0,c=new a.Forms.Numeric((0,a.isNumberFinite)(l)?l:0).label((0,a.pgettext)("block:evaluate","Use fixed number")).precision((null==r?void 0:r.precision)||0).digits((null==r?void 0:r.digits)||0).decimalSign((null==r?void 0:r.decimal)||"").thousands(!!(null==r?void 0:r.separator),(null==r?void 0:r.separator)||"").prefix((null==r?void 0:r.prefix)||"").prefixPlural((null==r?void 0:r.prefixPlural)||void 0).suffix((null==r?void 0:r.suffix)||"").suffixPlural((null==r?void 0:r.suffixPlural)||void 0).min(null==r?void 0:r.minimum).max(null==r?void 0:r.maximum).autoFocus("value"===o).escape(e.editor.close).enter((function(){return("between"!==e.mode&&"not-between"!==e.mode||"to"===o)&&e.editor.close()})).on((function(t){t.isFormVisible&&t.isObservable&&(e[o]=t.value)})),u=(0,a.isString)(l)&&(0,a.isVariable)(l)||!1,s=(0,a.populateVariables)(e,(function(e){return e instanceof a.Slots.Number||e instanceof a.Slots.Numeric}),u?l:void 0),d=new a.Forms.Dropdown(s,u?l:"").label((0,a.pgettext)("block:evaluate","Use value of")).width("full").on((function(t){t.isFormVisible&&t.isObservable&&e.variable!==t.value&&(e[o]=t.value||"")}));return t.push(d),[e.editor.form({title:i,controls:[new a.Forms.Radiobutton([{label:(0,a.pgettext)("block:evaluate","Number"),value:"number"},{label:(0,a.pgettext)("block:evaluate","Value"),value:"variable",disabled:0===s.length}],u?"variable":"number").on((function(e){c.visible("number"===e.value),d.visible("variable"===e.value),c.isObservable&&c.focus()})),c,d]}).visible(n),c]},n=i("value",(0,a.pgettext)("block:evaluate","If number equals"),this.isNumber&&"defined"!==this.mode&&"undefined"!==this.mode),l=n[0],r=n[1],c=i("to",(0,a.pgettext)("block:evaluate","And"),this.isNumber&&("between"===this.mode||"not-between"===this.mode)),u=c[0],s=c[1];return{update:function(i,n){var l=function(t){t.precision(e.slot instanceof a.Slots.Numeric&&e.slot.precision||0),t.digits(e.slot instanceof a.Slots.Numeric&&e.slot.digits||0),t.decimalSign(e.slot instanceof a.Slots.Numeric&&e.slot.decimal||""),t.thousands(!!(e.slot instanceof a.Slots.Numeric&&e.slot.separator),e.slot instanceof a.Slots.Numeric&&e.slot.separator||""),t.min(e.slot instanceof a.Slots.Numeric&&e.slot.minimum||void 0),t.max(e.slot instanceof a.Slots.Numeric&&e.slot.maximum||void 0),t.prefix(e.slot instanceof a.Slots.Numeric&&e.slot.prefix||""),t.prefixPlural(e.slot instanceof a.Slots.Numeric&&e.slot.prefixPlural||void 0),t.suffix(e.slot instanceof a.Slots.Numeric&&e.slot.suffix||""),t.suffixPlural(e.slot instanceof a.Slots.Numeric&&e.slot.suffixPlural||void 0)};l(r),l(s),o.visible(e.isNumber),i!==n&&(i&&(0,a.each)(t,(function(e){e.optionDisabled(i,!1)})),n&&(0,a.each)(t,(function(e){e.optionDisabled(n,!0)})))}}},t.prototype.booleanEditor=function(){var e=this,t=new a.Forms.Radiobutton([{label:this.slot instanceof a.Slots.Boolean&&this.slot.labelForTrue||(0,a.pgettext)("block:evaluate","Is true"),value:"true"},{label:this.slot instanceof a.Slots.Boolean&&this.slot.labelForFalse||(0,a.pgettext)("block:evaluate","Is false"),value:"false"},{label:(0,a.pgettext)("block:evaluate","Equals another variable"),value:"equal"},{label:(0,a.pgettext)("block:evaluate","Not equals another variable"),value:"not-equal"},{label:(0,a.pgettext)("block:evaluate","Is not empty"),value:"defined"},{label:(0,a.pgettext)("block:evaluate","Is empty"),value:"undefined"}],this.mode||"true").on((function(t){switch(e.isBoolean&&t.isObservable&&(e.mode=t.value),e.isBoolean&&"equal"!==t.value&&"not-equal"!==t.value&&(e.value=void 0),r.visible(e.isBoolean&&("equal"===t.value||"not-equal"===t.value)),t.value){case"equal":r.title=(0,a.pgettext)("block:evaluate","If value matches");break;case"not-equal":r.title=(0,a.pgettext)("block:evaluate","If value does not match")}})),o=this.editor.form({title:(0,a.pgettext)("block:evaluate","Compare mode"),controls:[t]}).visible(this.isBoolean),i=(0,a.isString)(this.value)&&(0,a.isVariable)(this.value)||!1,n=(0,a.populateVariables)(this,(function(e,t){return!t&&e instanceof a.Slots.Boolean}),i?this.value:void 0),l=new a.Forms.Dropdown(n,i?this.value:"").width("full").on((function(t){t.isFormVisible&&t.isObservable&&e.variable!==t.value&&(e.value=t.value||void 0)})),r=this.editor.form({title:(0,a.pgettext)("block:evaluate","If value matches"),controls:[l]}).visible(this.isBoolean&&("equal"===this.mode||"not-equal"===this.mode));return{update:function(i,n){o.visible(e.isBoolean),i!==n&&(i&&l.optionDisabled(i,!1),n&&l.optionDisabled(n,!0)),t.buttonLabel("true",e.slot instanceof a.Slots.Boolean&&e.slot.labelForTrue||(0,a.pgettext)("block:evaluate","Is true")),t.buttonLabel("false",e.slot instanceof a.Slots.Boolean&&e.slot.labelForFalse||(0,a.pgettext)("block:evaluate","Is false"))}}},t.prototype.dateEditor=function(){var e=this,t=[],i=new a.Forms.Radiobutton([{label:(0,a.pgettext)("block:evaluate","Date is equal to"),value:"equal"},{label:(0,a.pgettext)("block:evaluate","Date is not equal to"),value:"not-equal"},{label:(0,a.pgettext)("block:evaluate","Date is before"),value:"before"},{label:(0,a.pgettext)("block:evaluate","Date is after"),value:"after"},{label:(0,a.pgettext)("block:evaluate","Date is between"),value:"between"},{label:(0,a.pgettext)("block:evaluate","Date is not between"),value:"not-between"},{label:(0,a.pgettext)("block:evaluate","Date is not empty"),value:"defined"},{label:(0,a.pgettext)("block:evaluate","Date is empty"),value:"undefined"}],this.mode||"equal").on((function(t){switch(e.isDate&&t.isObservable&&(e.mode=t.value),r.visible(e.isDate&&!e.supportsTime&&"defined"!==t.value&&"undefined"!==t.value),c.visible(e.isDate&&e.supportsTime&&"defined"!==t.value&&"undefined"!==t.value),u.visible(e.isDate&&!e.supportsTime&&("between"===t.value||"not-between"===t.value)),s.visible(e.isDate&&e.supportsTime&&("between"===t.value||"not-between"===t.value)),t.value){case"equal":r.title=(0,a.pgettext)("block:evaluate","If date equals"),c.title=(0,a.pgettext)("block:evaluate","If date/time equals");break;case"not-equal":r.title=(0,a.pgettext)("block:evaluate","If date not equals"),c.title=(0,a.pgettext)("block:evaluate","If date/time not equals");break;case"before":r.title=(0,a.pgettext)("block:evaluate","If date is before"),c.title=(0,a.pgettext)("block:evaluate","If date/time is before");break;case"after":r.title=(0,a.pgettext)("block:evaluate","If date is after"),c.title=(0,a.pgettext)("block:evaluate","If date/time equals");break;case"between":r.title=(0,a.pgettext)("block:evaluate","If date is between"),c.title=(0,a.pgettext)("block:evaluate","If date/time is between");break;case"not-between":r.title=(0,a.pgettext)("block:evaluate","If date is not between"),c.title=(0,a.pgettext)("block:evaluate","If date/time is not between")}})),n=this.editor.form({title:(0,a.pgettext)("block:evaluate","Compare mode"),controls:[i]}).visible(this.isDate),l=function(i,n,l,r){var c=e[i],u=(0,a.isString)(c)&&(0,a.isVariable)(c)||!1,s=(0,a.populateVariables)(e,(function(e){return e instanceof a.Slots.Date}),u?c:void 0),d=new a.Forms.DateTime((0,a.isNumberFinite)(c)?c:o.getToday("to"===i?"end":"begin")).label(l?(0,a.pgettext)("block:evaluate","Use fixed date/time"):(0,a.pgettext)("block:evaluate","Use fixed date")).features(1|(l?8:32)).years((new Date).getFullYear()-150,(new Date).getFullYear()+50).zone("UTC").width("full").required().on((function(t){t.isFormVisible&&t.isObservable&&(e[i]=t.value)})),p=new a.Forms.Dropdown(s,u?c:"").label((0,a.pgettext)("block:evaluate","Use value of")).width("full").on((function(t){t.isFormVisible&&t.isObservable&&e.variable!==t.value&&(e[i]=t.value||"")}));return t.push(p),e.editor.form({title:n,controls:[new a.Forms.Radiobutton([{label:l?(0,a.pgettext)("block:evaluate","Current date/time"):(0,a.pgettext)("block:evaluate","Current date"),value:"current"},{label:l?(0,a.pgettext)("block:evaluate","Fixed date/time"):(0,a.pgettext)("block:evaluate","Fixed date"),value:"date"},{label:(0,a.pgettext)("block:evaluate","Value"),value:"variable",disabled:0===s.length}],u?"variable":(0,a.isNumberFinite)(c)?"date":"current").on((function(t){d.visible("date"===t.value),p.visible("variable"===t.value),t.isFormVisible&&t.isObservable&&"current"===t.value&&(e[i]=void 0)})),d,p]}).visible(r)},r=l("value",(0,a.pgettext)("block:evaluate","If date equals"),!1,this.isDate&&!this.supportsTime&&"defined"!==this.mode&&"undefined"!==this.mode),c=l("value",(0,a.pgettext)("block:evaluate","If date/time equals"),!0,this.isDate&&this.supportsTime&&"defined"!==this.mode&&"undefined"!==this.mode),u=l("to",(0,a.pgettext)("block:evaluate","And"),!1,this.isDate&&!this.supportsTime&&("between"===this.mode||"not-between"===this.mode)),s=l("to",(0,a.pgettext)("block:evaluate","And"),!0,this.isDate&&this.supportsTime&&("between"===this.mode||"not-between"===this.mode));return{update:function(o,l){n.visible(e.isDate),i.refresh(),o!==l&&(o&&(0,a.each)(t,(function(e){e.optionDisabled(o,!1)})),l&&(0,a.each)(t,(function(e){e.optionDisabled(l,!0)})))}}},t.prototype.defineEditor=function(){var e=this;this.editor.form({title:(0,a.pgettext)("block:evaluate","Input"),controls:[new a.Forms.Dropdown((0,a.populateVariables)(this,(function(e){return e instanceof a.Slots.String||e instanceof a.Slots.Text||e instanceof a.Slots.Number||e instanceof a.Slots.Numeric||e instanceof a.Slots.Boolean||e instanceof a.Slots.Date}),this.variable),this.variable).placeholder((0,a.pgettext)("block:evaluate","Select the input variable to use...")).on((function(l){var r,c=e.variable;e.variable=l.value||void 0,e.slot=l.value&&(null===(r=(0,a.lookupVariable)(e,l.value))||void 0===r?void 0:r.slot)||void 0,t.update(c,e.variable),o.update(c,e.variable),i.update(c,e.variable),n.update(c,e.variable),e.variable||(e.value=void 0),(!e.variable||e.isString||e.isBoolean)&&(e.to=void 0),(!e.variable||e.isNumber||e.isDate||e.isBoolean)&&(e.ignoreCase=void 0)})).autoFocus()]});var t=this.stringEditor(),o=this.numberEditor(),i=this.booleanEditor(),n=this.dateEditor();t.update(void 0,this.variable),o.update(void 0,this.variable),i.update(void 0,this.variable),n.update(void 0,this.variable)},l([a.definition,(0,a.affects)("#name")],t.prototype,"variable",void 0),l([a.definition,(0,a.affects)("#name")],t.prototype,"mode",void 0),l([a.definition,(0,a.affects)("#name")],t.prototype,"value",void 0),l([a.definition,(0,a.affects)("#name")],t.prototype,"to",void 0),l([a.definition],t.prototype,"ignoreCase",void 0),l([a.editor],t.prototype,"defineEditor",null),o=l([(0,a.tripetto)({type:"condition",legacyBlock:!0,context:"*",identifier:"@tripetto/block-evaluate",version:"4.0.2",icon:r.default,autoOpen:!0,get label(){return(0,a.pgettext)("block:evaluate","Evaluate")}})],t)}(a.ConditionBlock);t.EvaluateCondition=c},617:function(e,t,o){o.r(t),t.default="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCI+PHBhdGggZD0ibTE4Ljk4NSAxMy4zNzktMy0xMkEuNTAxLjUwMSAwIDAgMCAxNS41IDFIMy41MTFhLjUzMS41MzEgMCAwIDAtLjE4NS4wMzEuNS41IDAgMCAwLS4zMTQuMzU3TC4wMTQgMTMuMzc4YS40OTUuNDk1IDAgMCAwIC4wMDEuMjQySC4wMTRjLjAxNi4wNjMuMTY5LjYzNC42NzEgMS4yMDguNDY3LjUzNCAxLjMzNSAxLjE3MSAyLjgxNCAxLjE3MXMyLjM0Ni0uNjM3IDIuODE0LTEuMTcxYy41MDItLjU3NC42NTYtMS4xNDUuNjcxLTEuMjA4aC0uMDAxYS40OTUuNDk1IDAgMCAwIC4wMDEtLjI0Mkw0LjEzOSAxLjk5OWgxMC43MTlsLTIuODQ1IDExLjM3OWEuNDk1LjQ5NSAwIDAgMCAuMDAxLjI0MmgtLjAwMWMuMDE2LjA2My4xNjkuNjM0LjY3MSAxLjIwOC40NjcuNTM0IDEuMzM1IDEuMTcxIDIuODE0IDEuMTcxczIuMzQ2LS42MzcgMi44MTQtMS4xNzFjLjUwMi0uNTc0LjY1Ni0xLjE0NS42NzEtMS4yMDhoLS4wMDFhLjQ5NS40OTUgMCAwIDAgLjAwMS0uMjQyek0zLjUgMTVjLTEuMjE0IDAtMS44NjUtLjU0Mi0yLjE5OC0xaDQuMzk3Yy0uMzMzLjQ1OC0uOTg0IDEtMi4xOTggMXptMi4zNi0ySDEuMTQxbDIuMzYtOS40MzhMNS44NjEgMTN6bTkuNjQtOS40MzhMMTcuODYgMTNoLTQuNzE5bDIuMzYtOS40Mzh6TTE1LjUgMTVjLTEuMjE0IDAtMS44NjUtLjU0Mi0yLjE5OC0xaDQuMzk3Yy0uMzMzLjQ1OC0uOTg0IDEtMi4xOTggMXoiIGNsYXNzPSJ0cmlwZXR0by1maWxsIi8+PHBhdGggZD0iTTE1LjUgMThoLTUuNDZsLjk1OS0xMi40NjJhLjUwMi41MDIgMCAwIDAtLjAyNC0uMTk2bC0xLTNhLjUuNSAwIDAgMC0uOTQ4IDBsLTEgM2EuNTAyLjUwMiAwIDAgMC0uMDI0LjE5Nkw4Ljk2MiAxOGgtNS40NmEuNS41IDAgMCAwIDAgMWgxMmEuNS41IDAgMCAwIDAtMXptLTYtMTMuOTE5LjQ5NCAxLjQ4MUw5LjUgMTEuOThsLS40OTQtNi40MTguNDk0LTEuNDgxeiIgY2xhc3M9InRyaXBldHRvLWZpbGwiLz48L3N2Zz4="},954:function(e){e.exports=o(975)}},i={};function n(e){var o=i[e];if(void 0!==o)return o.exports;var l=i[e]={exports:{}};return t[e].call(l.exports,l,l.exports,n),l.exports}n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var l=n(110);e.exports=l}()},135:function(e,t,o){!function(){"use strict";var t={583:function(e,t,o){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=this&&this.__decorate||function(e,t,o,i){var n,l=arguments.length,a=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(l<3?n(a):l>3?n(t,o,a):n(t,o))||a);return l>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.FileUploadCondition=void 0;var a=o(954),r=o(617),c=o(2),u=o(635),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isUploaded=!0,t}return n(t,e),Object.defineProperty(t.prototype,"icon",{get:function(){return this.isUploaded?c.default:u.default},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.isUploaded?(0,a.pgettext)("block:file-upload","File uploaded"):(0,a.pgettext)("block:file-upload","No file uploaded")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){var e;return null===(e=this.node)||void 0===e?void 0:e.label},enumerable:!1,configurable:!0}),l([a.definition,(0,a.affects)("#name")],t.prototype,"isUploaded",void 0),l([(0,a.tripetto)({type:"condition",legacyBlock:!0,context:"@tripetto/block-file-upload",identifier:"@tripetto/block-file-upload",version:"5.1.0",icon:r.default,get label(){return(0,a.pgettext)("block:file-upload","File upload state")}})],t)}(a.ConditionBlock);t.FileUploadCondition=s},110:function(e,t,o){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=this&&this.__decorate||function(e,t,o,i){var n,l=arguments.length,a=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(l<3?n(a):l>3?n(t,o,a):n(t,o))||a);return l>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.FileUpload=void 0;var a=o(954),r=o(583),c=o(617),u=o(2),s=o(635),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.defineSlots=function(){this.fileSlot=this.slots.static({type:a.Slots.String,reference:"file",label:(0,a.pgettext)("block:file-upload","File upload"),protected:!0,exchange:["required","alias"]})},t.prototype.defineEditor=function(){this.editor.name(),this.editor.description(),this.editor.explanation(),this.editor.groups.settings(),this.editor.option({name:(0,a.pgettext)("block:file-upload","File size"),form:{title:(0,a.pgettext)("block:file-upload","Maximum file size"),controls:[new a.Forms.Numeric(a.Forms.Numeric.bind(this,"limit",void 0,1)).min(1).suffix(" Mb")]},activated:(0,a.isNumberFinite)(this.limit)}),this.editor.option({name:(0,a.pgettext)("block:file-upload","File type"),form:{title:(0,a.pgettext)("block:file-upload","Allowed file types"),controls:[new a.Forms.Text("singleline",a.Forms.Text.bind(this,"extensions",void 0)).placeholder((0,a.pgettext)("block:file-upload","Comma separated list, e.g. .png, .jpg"))]},activated:(0,a.isString)(this.extensions)}),this.editor.groups.options(),this.editor.required(this.fileSlot),this.editor.visibility(),this.editor.alias(this.fileSlot)},t.prototype.defineConditions=function(){var e=this;(0,a.each)([{label:(0,a.pgettext)("block:file-upload","File uploaded"),icon:u.default,isUploaded:!0},{label:(0,a.pgettext)("block:file-upload","No file uploaded"),icon:s.default,isUploaded:!1}],(function(t){e.conditions.template({condition:r.FileUploadCondition,label:t.label,icon:t.icon,burst:!0,props:{slot:e.fileSlot,isUploaded:t.isUploaded}})}))},l([a.definition],t.prototype,"limit",void 0),l([a.definition],t.prototype,"extensions",void 0),l([a.slots],t.prototype,"defineSlots",null),l([a.editor],t.prototype,"defineEditor",null),l([a.conditions],t.prototype,"defineConditions",null),l([(0,a.tripetto)({type:"node",legacyBlock:!0,identifier:"@tripetto/block-file-upload",version:"5.1.0",icon:c.default,alias:"file-upload",get label(){return(0,a.pgettext)("block:file-upload","File upload")}})],t)}(a.NodeBlock);t.FileUpload=d},635:function(e,t,o){o.r(t),t.default="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCI+PHBhdGggZD0iTTE2IDE2aC00LjVhLjUuNSAwIDAgMSAwLTFIMTZjMS42NTQgMCAzLTEuMzQ2IDMtM2EzLjAwNCAzLjAwNCAwIDAgMC00LTIuODMuNS41IDAgMCAxLS41MzMtLjgxMkEyLjAwMiAyLjAwMiAwIDAgMCAxMyA0Ljk5OWEyLjAwMSAyLjAwMSAwIDAgMC0xLjk5NiAxLjg3NS41LjUgMCAwIDEtLjkwOC4yNTZBNS4wMTIgNS4wMTIgMCAwIDAgNiA0Ljk5OWMtMi43NTcgMC01IDIuMjQzLTUgNSAwIDEuMDM3LjMxNCAyLjAzMS45MDkgMi44NzVhLjUuNSAwIDEgMS0uODE4LjU3NkE1Ljk2MiA1Ljk2MiAwIDAgMSAwIDkuOTk5YzAtMy4zMDggMi42OTItNiA2LTZhNi4wMSA2LjAxIDAgMCAxIDQuMjYxIDEuNzc2QTMuMDA3IDMuMDA3IDAgMCAxIDEzIDMuOTk5YTMuMDA0IDMuMDA0IDAgMCAxIDIuODI4IDQuMDA0QTQuMDA0IDQuMDA0IDAgMCAxIDIwIDExLjk5OWMwIDIuMjA2LTEuNzk0IDQtNCA0eiIgY2xhc3M9InRyaXBldHRvLWZpbGwiLz48cGF0aCBkPSJtNy4yMDcgMTMgMi4xNDYtMi4xNDZhLjUuNSAwIDAgMC0uNzA3LS43MDdMNi41IDEyLjI5M2wtMi4xNDYtMi4xNDZhLjUuNSAwIDAgMC0uNzA3LjcwN0w1Ljc5MyAxM2wtMi4xNDYgMi4xNDZhLjUuNSAwIDAgMCAuNzA4LjcwN2wyLjE0Ni0yLjE0NiAyLjE0NiAyLjE0NmEuNDk4LjQ5OCAwIDAgMCAuNzA4IDAgLjUuNSAwIDAgMCAwLS43MDdMNy4yMDkgMTN6IiBjbGFzcz0idHJpcGV0dG8tZmlsbCIvPjwvc3ZnPg=="},2:function(e,t,o){o.r(t),t.default="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCI+PHBhdGggZD0iTTE2IDE2SDYuNWEuNS41IDAgMCAxIDAtMUgxNmMxLjY1NCAwIDMtMS4zNDYgMy0zYTMuMDA0IDMuMDA0IDAgMCAwLTQtMi44My41LjUgMCAwIDEtLjUzMy0uODEyQTIuMDAyIDIuMDAyIDAgMCAwIDEzIDQuOTk5YTIuMDAxIDIuMDAxIDAgMCAwLTEuOTk2IDEuODc1LjUuNSAwIDAgMS0uOTA4LjI1NkE1LjAxMiA1LjAxMiAwIDAgMCA2IDQuOTk5YTUuMDA2IDUuMDA2IDAgMCAwLTQuOTggNS40NTUuNS41IDAgMCAxLS45OTYuMDlBNi4wMDcgNi4wMDcgMCAwIDEgNiAzLjk5OWE2LjAxIDYuMDEgMCAwIDEgNC4yNjEgMS43NzZBMy4wMDcgMy4wMDcgMCAwIDEgMTMgMy45OTlhMy4wMDQgMy4wMDQgMCAwIDEgMi44MjggNC4wMDRBNC4wMDQgNC4wMDQgMCAwIDEgMjAgMTEuOTk5YzAgMi4yMDYtMS43OTQgNC00IDR6IiBjbGFzcz0idHJpcGV0dG8tZmlsbCIvPjxwYXRoIGQ9Ik0zLjUgMTUuNWEuNTAyLjUwMiAwIDAgMS0uMzU0LS4xNDZsLTItMmEuNS41IDAgMCAxIC43MDctLjcwN2wxLjY0NiAxLjY0NiA0LjY0Ni00LjY0NmEuNS41IDAgMCAxIC43MDcuNzA3bC01IDVhLjQ5OC40OTggMCAwIDEtLjM1NC4xNDZ6IiBjbGFzcz0idHJpcGV0dG8tZmlsbCIvPjwvc3ZnPg=="},617:function(e,t,o){o.r(t),t.default="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCI+PHBhdGggZD0ibTEyLjg1MyAxMS42NDctMi0yYS41LjUgMCAwIDAtLjcwNyAwbC0yIDJhLjUuNSAwIDAgMCAuNzA3LjcwN2wxLjE0Ni0xLjE0NnY0LjI5M2EuNS41IDAgMCAwIDEgMHYtNC4yOTNsMS4xNDcgMS4xNDZhLjQ5Ny40OTcgMCAwIDAgLjcwNi0uMDAxLjUuNSAwIDAgMCAwLS43MDd6IiBjbGFzcz0idHJpcGV0dG8tZmlsbCIvPjxwYXRoIGQ9Ik0xNi4wMDYgMTZIMTIuNWEuNS41IDAgMCAxIDAtMWgzLjUwNkEyLjk5NyAyLjk5NyAwIDAgMCAxOSAxMi4wMDZhMi45OTcgMi45OTcgMCAwIDAtNC4wMi0yLjgxNC41LjUgMCAwIDEtLjUzNC0uODE0Yy4zNTctLjM3Ni41NTQtLjg2NS41NTQtMS4zNzkgMC0xLjEwMy0uODk3LTItMi0yLS42NDIgMC0xLjIyOS4yOTctMS42MS44MTQtLjIzLjMxMi0uMzY1LjY3OC0uMzg4IDEuMDU3YS41LjUgMCAwIDEtLjkwOC4yNTdBNS4wMDggNS4wMDggMCAwIDAgNiA0Ljk5OWMtMi43NTcgMC01IDIuMjQzLTUgNXMyLjI0MyA1IDUgNWgyLjVhLjUuNSAwIDAgMSAwIDFINmMtMy4zMDggMC02LTIuNjkyLTYtNnMyLjY5Mi02IDYtNmMxLjYwMiAwIDMuMTM3LjY0MyA0LjI2IDEuNzc1QTMuMDE0IDMuMDE0IDAgMCAxIDEzIDMuOTk5YTMuMDA0IDMuMDA0IDAgMCAxIDIuODIyIDQuMDE3QTMuOTk5IDMuOTk5IDAgMCAxIDIwIDEyLjAwNiAzLjk5OSAzLjk5OSAwIDAgMSAxNi4wMDYgMTZ6IiBjbGFzcz0idHJpcGV0dG8tZmlsbCIvPjwvc3ZnPg=="},954:function(e){e.exports=o(975)}},i={};function n(e){var o=i[e];if(void 0!==o)return o.exports;var l=i[e]={exports:{}};return t[e].call(l.exports,l,l.exports,n),l.exports}n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var l=n(110);e.exports=l}()},572:function(e,t,o){!function(){"use strict";var t={737:function(e,t,o){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=this&&this.__decorate||function(e,t,o,i){var n,l=arguments.length,a=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(l<3?n(a):l>3?n(t,o,a):n(t,o))||a);return l>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.HiddenFieldDateCondition=void 0;var a=o(954),r=o(503),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.allowMarkdown=!0,t.mode="equal",t}var o;return n(t,e),o=t,Object.defineProperty(t.prototype,"label",{get:function(){return""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){var e=this.slot;if(e instanceof a.Slots.Date){var t=this.parse(e,this.value);switch(this.mode){case"between":return"".concat(t," ≤ @").concat(e.id," ≤ ").concat(this.parse(e,this.to));case"not-between":return"@".concat(e.id," < ").concat(t," ").concat((0,a.pgettext)("block:hidden-field","or")," @").concat(e.id," > ").concat(this.parse(e,this.to));case"before":case"after":case"equal":case"not-equal":return"@".concat(e.id," ").concat("after"===this.mode?">":"before"===this.mode?"<":"not-equal"===this.mode?"≠":"="," ").concat(t)}}return this.type.label},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){var e;return null===(e=this.node)||void 0===e?void 0:e.label},enumerable:!1,configurable:!0}),t.getToday=function(e){return a.DateTime.UTCToday+("end"===e?86399999:0)},t.prototype.parse=function(e,t){var o;return(0,a.isNumberFinite)(t)?a.L10n.locale.dateTimeShort(e.toValue(t),!0):(0,a.isString)(t)&&t&&(null===(o=(0,a.lookupVariable)(this,t))||void 0===o?void 0:o.label)?"@".concat(t):"\\_\\_"},t.prototype.defineEditor=function(){var e=this;this.editor.form({title:(0,a.pgettext)("block:hidden-field","Compare mode"),controls:[new a.Forms.Radiobutton([{label:(0,a.pgettext)("block:hidden-field","Date is equal to"),value:"equal"},{label:(0,a.pgettext)("block:hidden-field","Date is not equal to"),value:"not-equal"},{label:(0,a.pgettext)("block:hidden-field","Date is before"),value:"before"},{label:(0,a.pgettext)("block:hidden-field","Date is after"),value:"after"},{label:(0,a.pgettext)("block:hidden-field","Date is between"),value:"between"},{label:(0,a.pgettext)("block:hidden-field","Date is not between"),value:"not-between"}],a.Forms.Radiobutton.bind(this,"mode","equal")).on((function(e){switch(n.visible("between"===e.value||"not-between"===e.value),e.value){case"equal":i.title=(0,a.pgettext)("block:hidden-field","If date equals");break;case"not-equal":i.title=(0,a.pgettext)("block:hidden-field","If date not equals");break;case"before":i.title=(0,a.pgettext)("block:hidden-field","If date is before");break;case"after":i.title=(0,a.pgettext)("block:hidden-field","If date is after");break;case"between":i.title=(0,a.pgettext)("block:hidden-field","If date is between");break;case"not-between":i.title=(0,a.pgettext)("block:hidden-field","If date is not between")}}))]});var t=function(t,i,n){var l,r=e[t],c=(0,a.populateVariables)(e,(function(e){return e instanceof a.Slots.Date}),(0,a.isString)(r)?r:void 0,!0,null===(l=e.slot)||void 0===l?void 0:l.id),u=new a.Forms.DateTime((0,a.isNumberFinite)(r)?r:o.getToday("to"===t?"end":"begin")).label((0,a.pgettext)("block:hidden-field","Use fixed date/time")).features(9).years((new Date).getFullYear()-150,(new Date).getFullYear()+50).zone("UTC").width("full").required().on((function(o){o.isFormVisible&&o.isObservable&&(e[t]=o.value)})),s=new a.Forms.Dropdown(c,(0,a.isString)(r)?r:"").label((0,a.pgettext)("block:hidden-field","Use value of")).width("full").on((function(o){o.isFormVisible&&o.isObservable&&(e[t]=o.value||"")}));return e.editor.form({title:i,controls:[new a.Forms.Radiobutton([{label:(0,a.pgettext)("block:hidden-field","Fixed date/time"),value:"date"},{label:(0,a.pgettext)("block:hidden-field","Value"),value:"variable",disabled:0===c.length}],(0,a.isString)(r)?"variable":"date").on((function(e){u.visible("date"===e.value),s.visible("variable"===e.value)})),u,s]}).visible(n)},i=t("value",(0,a.pgettext)("block:hidden-field","If date equals"),!0),n=t("to",(0,a.pgettext)("block:hidden-field","And"),"between"===this.mode||"not-between"===this.mode)},l([a.definition,(0,a.affects)("#name")],t.prototype,"mode",void 0),l([a.definition,(0,a.affects)("#name")],t.prototype,"value",void 0),l([a.definition,(0,a.affects)("#name")],t.prototype,"to",void 0),l([a.editor],t.prototype,"defineEditor",null),o=l([(0,a.tripetto)({type:"condition",legacyBlock:!0,context:"@tripetto/block-hidden-field",identifier:"".concat("@tripetto/block-hidden-field",":date"),version:"6.2.3",icon:r.default,autoOpen:!0,get label(){return(0,a.pgettext)("block:hidden-field","Verify date")}})],t)}(a.ConditionBlock);t.HiddenFieldDateCondition=c},217:function(e,t,o){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=this&&this.__decorate||function(e,t,o,i){var n,l=arguments.length,a=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(l<3?n(a):l>3?n(t,o,a):n(t,o))||a);return l>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.HiddenFieldNumberCondition=void 0;var a=o(954),r=o(56),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.allowMarkdown=!0,t.mode="equal",t}return n(t,e),Object.defineProperty(t.prototype,"label",{get:function(){return""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){var e=this.slot;if(e instanceof a.Slots.Number){var t=this.parse(e,this.value);switch(this.mode){case"between":return"".concat(t," ≤ @").concat(e.id," ≤ ").concat(this.parse(e,this.to));case"not-between":return"@".concat(e.id," < ").concat(t," ").concat((0,a.pgettext)("block:hidden-field","or")," @").concat(e.id," > ").concat(this.parse(e,this.to));case"not-equal":return"@".concat(e.id," ≠ ").concat(t);case"above":case"below":case"equal":return"@".concat(e.id," ").concat("above"===this.mode?">":"below"===this.mode?"<":"="," ").concat(t)}}return this.type.label},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){var e;return null===(e=this.node)||void 0===e?void 0:e.label},enumerable:!1,configurable:!0}),t.prototype.parse=function(e,t){var o;return(0,a.isNumberFinite)(t)?e.toString(t,(function(e){return a.L10n.locale.number(e)})):(0,a.isString)(t)&&t&&(null===(o=(0,a.lookupVariable)(this,t))||void 0===o?void 0:o.label)?"@"+t:"\\_\\_"},t.prototype.defineEditor=function(){var e=this;this.editor.form({title:(0,a.pgettext)("block:hidden-field","Compare mode"),controls:[new a.Forms.Radiobutton([{label:(0,a.pgettext)("block:hidden-field","Number is equal to"),value:"equal"},{label:(0,a.pgettext)("block:hidden-field","Number is not equal to"),value:"not-equal"},{label:(0,a.pgettext)("block:hidden-field","Number is lower than"),value:"below"},{label:(0,a.pgettext)("block:hidden-field","Number is higher than"),value:"above"},{label:(0,a.pgettext)("block:hidden-field","Number is between"),value:"between"},{label:(0,a.pgettext)("block:hidden-field","Number is not between"),value:"not-between"}],a.Forms.Radiobutton.bind(this,"mode","equal")).on((function(e){switch(i.visible("between"===e.value||"not-between"===e.value),e.value){case"equal":o.title=(0,a.pgettext)("block:hidden-field","If number equals");break;case"not-equal":o.title=(0,a.pgettext)("block:hidden-field","If number not equals");break;case"below":o.title=(0,a.pgettext)("block:hidden-field","If number is lower than");break;case"above":o.title=(0,a.pgettext)("block:hidden-field","If number is higher than");break;case"between":o.title=(0,a.pgettext)("block:hidden-field","If number is between");break;case"not-between":o.title=(0,a.pgettext)("block:hidden-field","If number is not between")}}))]});var t=function(t,o,i){var n,l=e[t],r=new a.Forms.Numeric((0,a.isNumberFinite)(l)?l:0).label((0,a.pgettext)("block:hidden-field","Use fixed number")).autoFocus("value"===t).escape(e.editor.close).enter((function(){return("between"!==e.mode&&"not-between"!==e.mode||"to"===t)&&e.editor.close()})).on((function(o){o.isFormVisible&&o.isObservable&&(e[t]=o.value)})),c=(0,a.populateVariables)(e,(function(e){return e instanceof a.Slots.Number||e instanceof a.Slots.Numeric}),(0,a.isString)(l)?l:void 0,!1,null===(n=e.slot)||void 0===n?void 0:n.id),u=new a.Forms.Dropdown(c,(0,a.isString)(l)?l:"").label((0,a.pgettext)("block:hidden-field","Use value of")).width("full").on((function(o){o.isFormVisible&&o.isObservable&&(e[t]=o.value||"")}));return e.editor.form({title:o,controls:[new a.Forms.Radiobutton([{label:(0,a.pgettext)("block:hidden-field","Number"),value:"number"},{label:(0,a.pgettext)("block:hidden-field","Value"),value:"variable",disabled:0===c.length}],(0,a.isString)(l)?"variable":"number").on((function(e){r.visible("number"===e.value),u.visible("variable"===e.value),r.isObservable&&r.focus()})),r,u]}).visible(i)},o=t("value",(0,a.pgettext)("block:hidden-field","If number equals"),!0),i=t("to",(0,a.pgettext)("block:hidden-field","And"),"between"===this.mode||"not-between"===this.mode)},l([a.definition,(0,a.affects)("#name")],t.prototype,"mode",void 0),l([a.definition,(0,a.affects)("#name")],t.prototype,"value",void 0),l([a.definition,(0,a.affects)("#name")],t.prototype,"to",void 0),l([a.editor],t.prototype,"defineEditor",null),l([(0,a.tripetto)({type:"condition",legacyBlock:!0,context:"@tripetto/block-hidden-field",identifier:"".concat("@tripetto/block-hidden-field",":number"),alias:"".concat("@tripetto/block-hidden-field","-number"),version:"6.2.3",icon:r.default,autoOpen:!0,get label(){return(0,a.pgettext)("block:hidden-field","Compare value")}})],t)}(a.ConditionBlock);t.HiddenFieldNumberCondition=c},345:function(e,t,o){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=this&&this.__decorate||function(e,t,o,i){var n,l=arguments.length,a=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(l<3?n(a):l>3?n(t,o,a):n(t,o))||a);return l>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.HiddenFieldOrientationCondition=void 0;var a=o(954),r=o(609),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.allowMarkdown=!0,t.orientation="landscape",t}return n(t,e),Object.defineProperty(t.prototype,"label",{get:function(){return""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.slot?"@".concat(this.slot.id," = ").concat("landscape"===this.orientation?(0,a.pgettext)("block:hidden-field","Landscape"):(0,a.pgettext)("block:hidden-field","Portrait")):this.type.label},enumerable:!1,configurable:!0}),t.prototype.defineEditor=function(){this.editor.form({controls:[new a.Forms.Radiobutton([{label:(0,a.pgettext)("block:hidden-field","Landscape"),value:"landscape"},{label:(0,a.pgettext)("block:hidden-field","Portrait"),value:"portrait"}],a.Forms.Radiobutton.bind(this,"orientation","landscape"))]})},l([a.definition,(0,a.affects)("#name")],t.prototype,"orientation",void 0),l([a.editor],t.prototype,"defineEditor",null),l([(0,a.tripetto)({type:"condition",legacyBlock:!0,context:"@tripetto/block-hidden-field",identifier:"".concat("@tripetto/block-hidden-field",":orientation"),alias:"".concat("@tripetto/block-hidden-field","-orientation"),version:"6.2.3",icon:r.default,get label(){return(0,a.pgettext)("block:hidden-field","Orientation")}})],t)}(a.ConditionBlock);t.HiddenFieldOrientationCondition=c},634:function(e,t,o){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=this&&this.__decorate||function(e,t,o,i){var n,l=arguments.length,a=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(l<3?n(a):l>3?n(t,o,a):n(t,o))||a);return l>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.HiddenFieldStringCondition=void 0;var a=o(954),r=o(310),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.allowMarkdown=!0,t.mode="equals",t}return n(t,e),Object.defineProperty(t.prototype,"label",{get:function(){return""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){var e,t,o=this;if(this.slot instanceof a.Slots.String){var i=((0,a.isVariable)(this.value)?(null===(e=(0,a.lookupVariable)(this,this.value))||void 0===e?void 0:e.label)&&"@".concat(this.value):this.value&&((t=(0,a.makeMarkdownSafe)(a.Str.replace(this.value,"\n","↵")))&&("contains"===o.mode||"not-contains"===o.mode||"starts"===o.mode||"ends"===o.mode)&&"_".concat(t,"_")||t))||"\\_\\_";switch(this.mode){case"equals":case"not-equals":return"@".concat(this.slot.id," ").concat("not-equals"===this.mode?"≠":"="," ").concat(i);case"contains":case"not-contains":case"starts":case"ends":return"@".concat(this.slot.id," ").concat("not-contains"===this.mode?(0,a.pgettext)("block:hidden-field","does not contain"):"starts"===this.mode?(0,a.pgettext)("block:hidden-field","starts with"):"ends"===this.mode?(0,a.pgettext)("block:hidden-field","ends with"):(0,a.pgettext)("block:hidden-field","contains")," ").concat(i);case"defined":return"@".concat(this.slot.id," ").concat((0,a.pgettext)("block:hidden-field","not empty"));case"undefined":return"@".concat(this.slot.id," ").concat((0,a.pgettext)("block:hidden-field","empty"));case"regex":return"@".concat(this.slot.id," ").concat((0,a.pgettext)("block:hidden-field","regular expression"))}}return this.type.label},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){var e;return null===(e=this.node)||void 0===e?void 0:e.label},enumerable:!1,configurable:!0}),t.prototype.defineEditor=function(){var e,t=this;this.editor.form({title:(0,a.pgettext)("block:hidden-field","Compare mode"),controls:[new a.Forms.Radiobutton([{label:(0,a.pgettext)("block:hidden-field","Value matches"),value:"equals"},{label:(0,a.pgettext)("block:hidden-field","Value does not match"),value:"not-equals"},{label:(0,a.pgettext)("block:hidden-field","Value contains"),value:"contains"},{label:(0,a.pgettext)("block:hidden-field","Value does not contain"),value:"not-contains"},{label:(0,a.pgettext)("block:hidden-field","Value starts with"),value:"starts"},{label:(0,a.pgettext)("block:hidden-field","Value ends with"),value:"ends"},{label:(0,a.pgettext)("block:hidden-field","Value is not empty"),value:"defined"},{label:(0,a.pgettext)("block:hidden-field","Value is empty"),value:"undefined"},{label:(0,a.pgettext)("block:hidden-field","Value satisfies regular expression"),value:"regex"}],a.Forms.Radiobutton.bind(this,"mode","equals")).on((function(e){switch(r.visible("defined"!==e.value&&"undefined"!==e.value&&"regex"!==e.value),c.visible("regex"===e.value),e.value){case"equals":r.title=(0,a.pgettext)("block:hidden-field","If value matches");break;case"not-equals":r.title=(0,a.pgettext)("block:hidden-field","If value does not match");break;case"contains":r.title=(0,a.pgettext)("block:hidden-field","If value contains");break;case"not-contains":r.title=(0,a.pgettext)("block:hidden-field","If value does not contain");break;case"starts":r.title=(0,a.pgettext)("block:hidden-field","If value starts with");break;case"ends":r.title=(0,a.pgettext)("block:hidden-field","If value ends with")}n.isInteractable&&n.focus()}))]});var o=this.value&&(0,a.isVariable)(this.value)||!1,i=(0,a.populateVariables)(this,void 0,o?this.value:void 0,!1,null===(e=this.slot)||void 0===e?void 0:e.id),n=new a.Forms.Text("multiline",o?"":this.value).label((0,a.pgettext)("block:hidden-field","Use fixed text")).action("@",(0,a.insertVariable)(this,"exclude")).autoFocus().escape(this.editor.close).on((function(e){e.isFormVisible&&e.isVisible&&(t.value=e.value)})),l=new a.Forms.Dropdown(i,o?this.value:"").label((0,a.pgettext)("block:hidden-field","Use value of")).width("full").on((function(e){e.isFormVisible&&e.isObservable&&(t.value=e.value||void 0)})),r=this.editor.form({title:(0,a.pgettext)("block:hidden-field","If value matches"),controls:[new a.Forms.Radiobutton([{label:(0,a.pgettext)("block:hidden-field","Text"),value:"text"},{label:(0,a.pgettext)("block:hidden-field","Value"),value:"variable",disabled:0===i.length}],o?"variable":"text").on((function(e){n.visible("text"===e.value),l.visible("variable"===e.value),n.isInteractable&&n.focus()})),n,l,new a.Forms.Checkbox((0,a.pgettext)("block:hidden-field","Ignore case"),a.Forms.Checkbox.bind(this,"ignoreCase",void 0,!0))]}).visible("defined"!==this.mode&&"undefined"!==this.mode&&"regex"!==this.mode),c=this.editor.form({title:(0,a.pgettext)("block:hidden-field","If value satisfies regular expression"),controls:[new a.Forms.Text("singleline",a.Forms.Text.bind(this,"regex",void 0,"")).placeholder((0,a.pgettext)("block:hidden-field","Regex literal (for example /ab+c/)")).autoFocus().autoValidate((function(e){if(!e.value)return"unknown";try{var t=e.value.indexOf("/"),o=e.value.lastIndexOf("/");return 0===t&&o>t&&function(e,t){try{return new RegExp(e.substring(1,t),e.substr(t+1))instanceof RegExp}catch(e){return!1}}(e.value,o)?"pass":"fail"}catch(e){return"fail"}})),new a.Forms.Checkbox((0,a.pgettext)("block:hidden-field","Invert regular expression"),a.Forms.Checkbox.bind(this,"invert",void 0,!1))]}).visible("regex"===this.mode)},l([a.definition,(0,a.affects)("#name")],t.prototype,"mode",void 0),l([a.definition,(0,a.affects)("#name")],t.prototype,"value",void 0),l([a.definition],t.prototype,"ignoreCase",void 0),l([a.definition],t.prototype,"regex",void 0),l([a.definition],t.prototype,"invert",void 0),l([a.editor],t.prototype,"defineEditor",null),l([(0,a.tripetto)({type:"condition",legacyBlock:!0,context:"@tripetto/block-hidden-field",identifier:"".concat("@tripetto/block-hidden-field",":string"),alias:"".concat("@tripetto/block-hidden-field","-string"),version:"6.2.3",icon:r.default,autoOpen:!0,get label(){return(0,a.pgettext)("block:hidden-field","Compare value")}})],t)}(a.ConditionBlock);t.HiddenFieldStringCondition=c},353:function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0}),t.getTypeDescription=t.getTypeName=void 0;var i=o(954),n=o(110);t.getTypeName=function(e){switch(e){case"value":return(0,i.pgettext)("block:hidden-field","Fixed value");case"uuid":return(0,i.pgettext)("block:hidden-field","Random value");case"timestamp":return(0,i.pgettext)("block:hidden-field","Timestamp");case"variable":return(0,i.pgettext)("block:hidden-field","Global JavaScript variable");case"language":return(0,i.pgettext)("block:hidden-field","User language");case"querystring":return(0,i.pgettext)("block:hidden-field","Query string");case"cookie":return(0,i.pgettext)("block:hidden-field","Cookie");case"localStorage":return(0,i.pgettext)("block:hidden-field","Local storage");case"sessionStorage":return(0,i.pgettext)("block:hidden-field","Session storage");case"user-agent":return(0,i.pgettext)("block:hidden-field","User-Agent string");case"title":return(0,i.pgettext)("block:hidden-field","Page title");case"url":return(0,i.pgettext)("block:hidden-field","Page URL");case"referrer":return(0,i.pgettext)("block:hidden-field","Page referrer");case"screenOrientation":return(0,i.pgettext)("block:hidden-field","Screen orientation");case"screenWidth":return(0,i.pgettext)("block:hidden-field","Screen width");case"screenHeight":return(0,i.pgettext)("block:hidden-field","Screen height");case"devicePixelRatio":return(0,i.pgettext)("block:hidden-field","Screen pixel ratio");default:if(0===e.indexOf("custom-variable:")&&n.HiddenField.customVariables){var t=(0,i.findFirst)(n.HiddenField.customVariables.variables,(function(t){return t.name===e.replace("custom-variable:","")}));if(t&&t.description)return t.description}return(0,i.pgettext)("block:hidden-field","Unknown")}},t.getTypeDescription=function(e){switch(e){case"value":return(0,i.pgettext)("block:hidden-field","Defines a fixed value for the hidden field.");case"uuid":return(0,i.pgettext)("block:hidden-field","Retrieves a random string value.");case"timestamp":return(0,i.pgettext)("block:hidden-field","Retrieves the current date and time.");case"variable":return(0,i.pgettext)("block:hidden-field","Retrieves a JavaScript global variable (only string values are supported).");case"language":return(0,i.pgettext)("block:hidden-field","Retrieves the preferred language of the user.");case"querystring":return(0,i.pgettext)("block:hidden-field","Retrieves the complete query string or a specific query string parameter value.");case"cookie":return(0,i.pgettext)("block:hidden-field","Read one or all cookies associated with the document.");case"localStorage":return(0,i.pgettext)("block:hidden-field","Retrieves an item from the browser local storage (localStorage).");case"sessionStorage":return(0,i.pgettext)("block:hidden-field","Retrieves an item from the browser session storage (sessionStorage).");case"user-agent":return(0,i.pgettext)("block:hidden-field","Retrieves the browser User-Agent string.");case"title":return(0,i.pgettext)("block:hidden-field","Retrieves the title of the page.");case"url":return(0,i.pgettext)("block:hidden-field","Retrieves the URL of the page.");case"referrer":return(0,i.pgettext)("block:hidden-field","Retrieves the URL of the page that linked to this page.");case"screenOrientation":return(0,i.pgettext)("block:hidden-field","Retrieves the current orientation of the screen (landscape or portrait).");case"screenWidth":return(0,i.pgettext)("block:hidden-field","Retrieves the width of the screen in pixels.");case"screenHeight":return(0,i.pgettext)("block:hidden-field","Retrieves the height of the screen in pixels.");case"devicePixelRatio":return(0,i.pgettext)("block:hidden-field","Retrieves the ratio of the resolution in physical pixels to the resolution in CSS pixels for the current display device.");default:if(0===e.indexOf("custom-variable:")&&n.HiddenField.customVariables){var t=(0,i.findFirst)(n.HiddenField.customVariables.variables,(function(t){return t.name===e.replace("custom-variable:","")}));if(t&&t.description)return(0,i.pgettext)("block:hidden-field","Retrieves the value of *%1*.",t.description)}return(0,i.pgettext)("block:hidden-field","Invalid type.")}}},110:function(e,t,o){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=this&&this.__decorate||function(e,t,o,i){var n,l=arguments.length,a=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(l<3?n(a):l>3?n(t,o,a):n(t,o))||a);return l>3&&a&&Object.defineProperty(t,o,a),a},a=this&&this.__spreadArray||function(e,t,o){if(o||2===arguments.length)for(var i,n=0,l=t.length;n<l;n++)!i&&n in t||(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.HiddenField=void 0;var r=o(954),c=o(634),u=o(217),s=o(345),d=o(737),p=o(353),b=o(617),g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.allowMarkdown=!1,t.fieldType="value",t}var o;return n(t,e),o=t,Object.defineProperty(t.prototype,"label",{get:function(){var e=this.type.label+" / "+(0,p.getTypeName)(this.fieldType);return this.fieldQueryStringParameter&&(e+=" / "+this.fieldQueryStringParameter),this.fieldCookie&&(e+=" / "+this.fieldCookie),this.fieldLocalStorage&&(e+=" / "+this.fieldLocalStorage),this.fieldSessionStorage&&(e+=" / "+this.fieldSessionStorage),this.fieldVariable&&(e+=" / "+this.fieldVariable),e},enumerable:!1,configurable:!0}),t.prototype.defineSlot=function(){var e=this.slots.select("value","static");switch(this.fieldType){case"devicePixelRatio":case"screenWidth":case"screenHeight":this.fieldSlot=this.slots.static({type:r.Slots.Number,reference:"value",label:this.label,required:this.required,alias:this.alias,exportable:this.exportable,protected:!0,exchange:["required","alias","exportable"]});break;case"timestamp":this.fieldSlot=this.slots.static({type:r.Slots.Date,reference:"value",label:this.label,required:this.required,alias:this.alias,exportable:this.exportable,protected:!0,exchange:["required","alias","exportable"]});break;default:this.fieldSlot=this.slots.static({type:r.Slots.String,reference:"value",label:this.label,required:this.required,alias:this.alias,exportable:this.exportable,protected:!e||e.protected,exchange:["required","alias","exportable"]})}},t.prototype.defineEditor=function(){var e=this,t=new r.Forms.Static((0,p.getTypeDescription)(this.fieldType)).markdown(),i=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,r.map)(e,(function(e){return{label:(0,p.getTypeName)(e),value:e}}))},n=(0,r.getHelpTopic)("block:hidden-field");this.editor.form({title:(0,r.pgettext)("block:hidden-field","Explanation"),controls:[new r.Forms.Static((0,r.pgettext)("block:hidden-field","Generate a hidden field with a certain value and use that value in your form%1.",n?" ([".concat((0,r.pgettext)("block:hidden-field","learn more"),"](").concat(n,"))"):"")).markdown()]}),this.editor.name(!1,!1,(0,r.pgettext)("block:hidden-field","Name"),!1),this.editor.option({name:(0,r.pgettext)("block:hidden-field","Type"),form:{title:(0,r.pgettext)("block:hidden-field","Type of field"),controls:[new r.Forms.Dropdown(a(a(a(a(a(a(a(a(a([],o.customVariables?a([{optGroup:o.customVariables.name}],(0,r.map)(o.customVariables.variables,(function(e){return{label:e.description,value:"custom-variable:".concat(e.name)}})),!0):[],!0),[{optGroup:(0,r.pgettext)("block:hidden-field","Basic fields")}],!1),i("value","timestamp","uuid","variable"),!0),[{optGroup:(0,r.pgettext)("block:hidden-field","Browser information")}],!1),i("language","querystring","cookie","localStorage","sessionStorage","user-agent"),!0),[{optGroup:(0,r.pgettext)("block:hidden-field","Page information")}],!1),i("title","url","referrer"),!0),[{optGroup:(0,r.pgettext)("block:hidden-field","Screen information")}],!1),i("screenOrientation","screenWidth","screenHeight","devicePixelRatio"),!0),r.Forms.Radiobutton.bind(this,"fieldType","value")).on((function(o){t.label((0,p.getTypeDescription)(e.fieldType)),c.visible("value"===o.value),c.activated("value"===o.value),u.visible("querystring"===o.value),u.activated("querystring"===o.value&&(0,r.isString)(e.fieldQueryStringParameter)),s.visible("cookie"===o.value),s.activated("cookie"===o.value&&(0,r.isString)(e.fieldCookie)),d.visible("localStorage"===o.value),d.activated("localStorage"===o.value),b.visible("sessionStorage"===o.value),b.activated("sessionStorage"===o.value),g.visible("variable"===o.value),g.activated("variable"===o.value)}))]},activated:!0,locked:!0}),this.editor.form({title:(0,r.pgettext)("block:hidden-field","Function"),controls:[t]});var l=function(t,o,i,n,l,a){return void 0===a&&(a=n),e.editor.option({name:t,form:{title:o,controls:[new r.Forms.Text("singleline",r.Forms.Text.bind(e,i,void 0))]},activated:n,locked:l}).visible(a)},c=this.editor.option({name:(0,r.pgettext)("block:hidden-field","Value"),form:{title:(0,r.pgettext)("block:hidden-field","Fixed value"),controls:[new r.Forms.Text("multiline",r.Forms.Text.bind(this,"fieldValue",void 0)).action("@",(0,r.insertVariable)(this,"validated"))]},activated:"value"===this.fieldType,locked:!0}),u=l((0,r.pgettext)("block:hidden-field","Parameter"),(0,r.pgettext)("block:hidden-field","Query string parameter"),"fieldQueryStringParameter","querystring"===this.fieldType&&(0,r.isString)(this.fieldQueryStringParameter),!1,"querystring"===this.fieldType),s=l((0,r.pgettext)("block:hidden-field","Cookie"),(0,r.pgettext)("block:hidden-field","Cookie identifier"),"fieldCookie","cookie"===this.fieldType&&(0,r.isString)(this.fieldCookie),!1,"cookie"===this.fieldType),d=l((0,r.pgettext)("block:hidden-field","Item"),(0,r.pgettext)("block:hidden-field","Name of item from local storage"),"fieldLocalStorage","localStorage"===this.fieldType,!0),b=l((0,r.pgettext)("block:hidden-field","Item"),(0,r.pgettext)("block:hidden-field","Name of item from session storage"),"fieldSessionStorage","sessionStorage"===this.fieldType,!0),g=l((0,r.pgettext)("block:hidden-field","Variable"),(0,r.pgettext)("block:hidden-field","Name of variable"),"fieldVariable","variable"===this.fieldType,!0);this.editor.groups.options(),this.editor.required(this,(0,r.pgettext)("block:hidden-field","Hidden field value is required")),this.editor.visibility(),this.editor.alias(this),this.editor.exportable(this)},t.prototype.defineCondition=function(){var e=this;switch(this.fieldType){case"screenOrientation":(0,r.each)([{mode:"landscape",label:(0,r.pgettext)("block:hidden-field","Landscape")},{mode:"portrait",label:(0,r.pgettext)("block:hidden-field","Portrait")}],(function(t){e.conditions.template({condition:s.HiddenFieldOrientationCondition,label:t.label,props:{slot:e.fieldSlot,orientation:t.mode}})}));break;case"screenWidth":case"screenHeight":case"devicePixelRatio":(0,r.each)([{mode:"equal",label:(0,r.pgettext)("block:hidden-field","Number is equal to")},{mode:"not-equal",label:(0,r.pgettext)("block:hidden-field","Number is not equal to")},{mode:"below",label:(0,r.pgettext)("block:hidden-field","Number is lower than")},{mode:"above",label:(0,r.pgettext)("block:hidden-field","Number is higher than")},{mode:"between",label:(0,r.pgettext)("block:hidden-field","Number is between")},{mode:"not-between",label:(0,r.pgettext)("block:hidden-field","Number is not between")}],(function(t){e.conditions.template({condition:u.HiddenFieldNumberCondition,label:t.label,props:{slot:e.fieldSlot,mode:t.mode}})}));break;case"timestamp":(0,r.each)([{mode:"equal",label:(0,r.pgettext)("block:hidden-field","Date is equal to")},{mode:"not-equal",label:(0,r.pgettext)("block:hidden-field","Date is not equal to")},{mode:"before",label:(0,r.pgettext)("block:hidden-field","Date is before")},{mode:"after",label:(0,r.pgettext)("block:hidden-field","Date is after")},{mode:"between",label:(0,r.pgettext)("block:hidden-field","Date is between")},{mode:"not-between",label:(0,r.pgettext)("block:hidden-field","Date is not between")}],(function(t){e.conditions.template({condition:d.HiddenFieldDateCondition,label:t.label,props:{slot:e.fieldSlot,mode:t.mode}})}));break;default:(0,r.each)([{mode:"equals",label:(0,r.pgettext)("block:hidden-field","Value matches")},{mode:"not-equals",label:(0,r.pgettext)("block:hidden-field","Value does not match")},{mode:"contains",label:(0,r.pgettext)("block:hidden-field","Value contains")},{mode:"not-contains",label:(0,r.pgettext)("block:hidden-field","Value does not contain")},{mode:"starts",label:(0,r.pgettext)("block:hidden-field","Value starts with")},{mode:"ends",label:(0,r.pgettext)("block:hidden-field","Value ends with")},{mode:"defined",label:(0,r.pgettext)("block:hidden-field","Value is not empty")},{mode:"undefined",label:(0,r.pgettext)("block:hidden-field","Value is empty")},{mode:"regex",label:(0,r.pgettext)("block:hidden-field","Regular expression")}],(function(t){e.conditions.template({condition:c.HiddenFieldStringCondition,label:t.label,props:{slot:e.fieldSlot,mode:t.mode}})}))}},l([r.definition,(0,r.affects)("#name"),(0,r.affects)("#slots")],t.prototype,"fieldType",void 0),l([r.definition,(0,r.affects)("#name")],t.prototype,"fieldValue",void 0),l([r.definition,(0,r.affects)("#name")],t.prototype,"fieldQueryStringParameter",void 0),l([r.definition,(0,r.affects)("#name")],t.prototype,"fieldCookie",void 0),l([r.definition,(0,r.affects)("#name")],t.prototype,"fieldLocalStorage",void 0),l([r.definition,(0,r.affects)("#name")],t.prototype,"fieldSessionStorage",void 0),l([r.definition,(0,r.affects)("#name")],t.prototype,"fieldVariable",void 0),l([(0,r.definition)("boolean","optional"),(0,r.affects)("#slots")],t.prototype,"required",void 0),l([(0,r.definition)("string","optional"),(0,r.affects)("#slots")],t.prototype,"alias",void 0),l([(0,r.definition)("boolean","optional"),(0,r.affects)("#slots")],t.prototype,"exportable",void 0),l([r.slots],t.prototype,"defineSlot",null),l([r.editor],t.prototype,"defineEditor",null),l([r.conditions],t.prototype,"defineCondition",null),o=l([(0,r.tripetto)({type:"node",legacyBlock:!0,identifier:"@tripetto/block-hidden-field",version:"6.2.3",icon:b.default,get label(){return(0,r.pgettext)("block:hidden-field","Hidden field")},kind:"headless"})],t)}(r.NodeBlock);t.HiddenField=g},503:function(e,t,o){o.r(t),t.default="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCI+PHBhdGggZD0iTTE4LjUgMkgxNnYtLjVhLjUuNSAwIDAgMC0xIDBWMkg1di0uNWEuNS41IDAgMCAwLTEgMFYySDEuNUMuNjczIDIgMCAyLjY3MyAwIDMuNXYxNGMwIC44MjcuNjczIDEuNSAxLjUgMS41aDE3Yy44MjcgMCAxLjUtLjY3MyAxLjUtMS41di0xNGMwLS44MjctLjY3My0xLjUtMS41LTEuNXptLTE3IDFINHYxLjVhLjUuNSAwIDAgMCAxIDBWM2gxMHYxLjVhLjUuNSAwIDAgMCAxIDBWM2gyLjVhLjUuNSAwIDAgMSAuNS41VjZIMVYzLjVhLjUuNSAwIDAgMSAuNS0uNXptMTcgMTVoLTE3YS41LjUgMCAwIDEtLjUtLjVWN2gxOHYxMC41YS41LjUgMCAwIDEtLjUuNXoiIGNsYXNzPSJ0cmlwZXR0by1maWxsIi8+PHBhdGggZD0iTTguNSAxNS41YS41MDIuNTAyIDAgMCAxLS4zNTQtLjE0NmwtMi0yYS41LjUgMCAwIDEgLjcwNy0uNzA3bDEuNjQ2IDEuNjQ2IDQuNjQ2LTQuNjQ2YS41LjUgMCAwIDEgLjcwNy43MDdsLTUgNWEuNDk4LjQ5OCAwIDAgMS0uMzU0LjE0NnoiIGNsYXNzPSJ0cmlwZXR0by1maWxsIi8+PC9zdmc+"},56:function(e,t,o){o.r(t),t.default="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbDpzcGFjZT0icHJlc2VydmUiIHdpZHRoPSI1ODAiIGhlaWdodD0iNTgwIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiIgdGV4dC1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiIgaW1hZ2UtcmVuZGVyaW5nPSJvcHRpbWl6ZVF1YWxpdHkiIHZpZXdCb3g9IjAgMCA1ODAwIDU4MDAiPjxwYXRoIGNsYXNzPSJ0cmlwZXR0by1maWxsIiBkPSJNNzAwIDE1MDBoNDQwMGMyMjAgMCA0MDAgMTgwIDQwMCA0MDB2MjAwMGMwIDIyMC0xODAgNDAwLTQwMCA0MDBINzAwYy0yMjAgMC00MDAtMTgwLTQwMC00MDBWMTkwMGMwLTIyMCAxODAtNDAwIDQwMC00MDB6bTMxMDAgMjAwdjI0MDBoMTMwMGMxMTAgMCAyMDAtOTAgMjAwLTIwMFYxOTAwYzAtMTEwLTkwLTIwMC0yMDAtMjAwSDM4MDB6bS0yMDAgMjQwMFYxNzAwSDcwMGMtMTEwIDAtMjAwIDkwLTIwMCAyMDB2MjAwMGMwIDExMCA5MCAyMDAgMjAwIDIwMGgyOTAwem0xMzAwLTE0MDBjMC0xMjEtNzktMjAwLTIwMC0yMDBoLTIwMGMtMTIxIDAtMjAwIDc5LTIwMCAyMDB2NDAwYzAgMTIxIDc5IDIwMCAyMDAgMjAwaDIwMGMxMjEgMCAyMDAtNzkgMjAwLTIwMHYtNDAwem0yMDAgMHY0MDBjMCAyMzEtMTY5IDQwMC00MDAgNDAwaC0yMDBjLTIzMSAwLTQwMC0xNjktNDAwLTQwMHYtNDAwYzAtMjMxIDE2OS00MDAgNDAwLTQwMGgyMDBjMjMxIDAgNDAwIDE2OSA0MDAgNDAwem0tMjAwMCAwYzAtMTIxLTc5LTIwMC0yMDAtMjAwaC0yMDBjLTEyMSAwLTIwMCA3OS0yMDAgMjAwdjQwMGMwIDEyMSA3OSAyMDAgMjAwIDIwMGgyMDBjMTIxIDAgMjAwLTc5IDIwMC0yMDB2LTQwMHptMjAwIDB2NDAwYzAgMjMxLTE2OSA0MDAtNDAwIDQwMGgtMjAwYy0yMzEgMC00MDAtMTY5LTQwMC00MDB2LTQwMGMwLTIzMSAxNjktNDAwIDQwMC00MDBoMjAwYzIzMSAwIDQwMCAxNjkgNDAwIDQwMHptLTE2MDAgMGMwLTEyMS03OS0yMDAtMjAwLTIwMGgtMjAwYy0xMjEgMC0yMDAgNzktMjAwIDIwMHY0MDBjMCAxMjEgNzkgMjAwIDIwMCAyMDBoMjAwYzEyMSAwIDIwMC03OSAyMDAtMjAwdi00MDB6bTIwMCAwdjQwMGMwIDIzMS0xNjkgNDAwLTQwMCA0MDBoLTIwMGMtMjMxIDAtNDAwLTE2OS00MDAtNDAwdi00MDBjMC0yMzEgMTY5LTQwMCA0MDAtNDAwaDIwMGMyMzEgMCA0MDAgMTY5IDQwMCA0MDB6Ii8+PC9zdmc+"},609:function(e,t,o){o.r(t),t.default="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCI+PHBhdGggZD0iTTEwLjUgMThoLTFhLjUuNSAwIDAgMSAwLTFoMWEuNS41IDAgMCAxIDAgMXoiIGNsYXNzPSJ0cmlwZXR0by1maWxsIi8+PHBhdGggZD0iTTE0LjUgMjBoLTljLS44MjcgMC0xLjUtLjY3My0xLjUtMS41di0xN0M0IC42NzMgNC42NzMgMCA1LjUgMGg5Yy44MjcgMCAxLjUuNjczIDEuNSAxLjV2MTdjMCAuODI3LS42NzMgMS41LTEuNSAxLjV6bS05LTE5YS41LjUgMCAwIDAtLjUuNXYxN2EuNS41IDAgMCAwIC41LjVoOWEuNS41IDAgMCAwIC41LS41di0xN2EuNS41IDAgMCAwLS41LS41aC05eiIgY2xhc3M9InRyaXBldHRvLWZpbGwiLz48cGF0aCBkPSJNMTMuNSAxNmgtN2EuNS41IDAgMCAxLS41LS41di0xM2EuNS41IDAgMCAxIC41LS41aDdhLjUuNSAwIDAgMSAuNS41djEzYS41LjUgMCAwIDEtLjUuNXpNNyAxNWg2VjNIN3YxMnoiIGNsYXNzPSJ0cmlwZXR0by1maWxsIi8+PC9zdmc+"},310:function(e,t,o){o.r(t),t.default="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCI+PHBhdGggZD0iTTE3LjUgNWgtMTVhLjUuNSAwIDAgMSAwLTFoMTVhLjUuNSAwIDAgMSAwIDF6bS00IDNoLTExYS41LjUgMCAwIDEgMC0xaDExYS41LjUgMCAwIDEgMCAxem00IDNoLTE1YS41LjUgMCAwIDEgMC0xaDE1YS41LjUgMCAwIDEgMCAxem0tNCAzaC0xMWEuNS41IDAgMCAxIDAtMWgxMWEuNS41IDAgMCAxIDAgMXptNCAzaC0xNWEuNS41IDAgMCAxIDAtMWgxNWEuNS41IDAgMCAxIDAgMXoiIGNsYXNzPSJ0cmlwZXR0by1maWxsIi8+PC9zdmc+"},617:function(e,t,o){o.r(t),t.default="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCI+PHBhdGggZD0iTTE5Ljg3MiAxMC4xNjZjLS4wNDctLjA1My0xLjE4Mi0xLjMwNS0yLjk1Ni0yLjU3MmExNy42MSAxNy42MSAwIDAgMC0xLjgwMS0xLjEzNGwxLjcyNS0xLjU5MmEuNS41IDAgMSAwLS42NzktLjczNWwtMi4wMDMgMS44NDljLS4xMjQtLjA1Ni0uMjQ4LS4xMS0uMzcyLS4xNjJDMTIuNDgxIDUuMjc2IDExLjIwNyA1IDEwIDVzLTIuNDgxLjI3Ni0zLjc4Ni44MmMtMS4wMy40MjktMi4wODMgMS4wMjYtMy4xMyAxLjc3M0MxLjMxIDguODYuMTc1IDEwLjExMy4xMjggMTAuMTY1YS41LjUgMCAwIDAgMCAuNjY5Yy4wNDcuMDUzIDEuMTgyIDEuMzA1IDIuOTU2IDIuNTcyLjYuNDI5IDEuMjAyLjgwNyAxLjgwMSAxLjEzNEwzLjE2IDE2LjEzMmEuNS41IDAgMSAwIC42NzkuNzM1bDIuMDAzLTEuODQ5Yy4xMjQuMDU2LjI0OC4xMS4zNzIuMTYyIDEuMzA1LjU0NCAyLjU3OS44MiAzLjc4Ni44MnMyLjQ4MS0uMjc2IDMuNzg2LS44MmMxLjAzLS40MjkgMi4wODMtMS4wMjYgMy4xMy0xLjc3MyAxLjc3NC0xLjI2NyAyLjkwOS0yLjUyIDIuOTU2LTIuNTcyYS41LjUgMCAwIDAgMC0uNjY5ek0xNCA5LjVjMCAyLjIwNi0xLjc5NCA0LTQgNGEzLjk3NiAzLjk3NiAwIDAgMS0xLjk1Ny0uNTEzbDUuNTkyLTUuMTYyYy4yMzguNTE3LjM2NiAxLjA4Ni4zNjYgMS42NzR6bS0xLjQyNi0zLjA2MmMuMTkxLjE2MS4zNjQuMzM3LjUyLjUyNWwtNS44NjcgNS40MTZBMy45ODggMy45ODggMCAwIDEgNiA5LjQ5OWMwLTEuMTg4LjUxOS0yLjI5OCAxLjQyNi0zLjA2Mi44MjItLjI2OCAxLjY5MS0uNDM4IDIuNTc0LS40MzhzMS43NTIuMTcgMi41NzQuNDM4em0tOC44OTEgNi4xNjhBMjAuMDE0IDIwLjAxNCAwIDAgMSAxLjE5NCAxMC41YTIwLjEwMiAyMC4xMDIgMCAwIDEgMi40ODktMi4xMDYgMTYuMTkgMTYuMTkgMCAwIDEgMS44NS0xLjE0NUE0Ljk4OCA0Ljk4OCAwIDAgMCA1IDkuNWMwIDEuMzkxLjU3MSAyLjY1MSAxLjQ5MSAzLjU1OGwtLjgyNS43NjJhMTYuMjMzIDE2LjIzMyAwIDAgMS0xLjk4My0xLjIxNHptMTIuNjM0IDBDMTQuNzg0IDEzLjY5OCAxMi40NDQgMTUgMTAgMTVjLTEuMTY2IDAtMi4zMDktLjI5Ny0zLjM1Mi0uNzI2bC42My0uNTgyYy43ODQuNTEgMS43MTguODA4IDIuNzIxLjgwOGE1LjAwNiA1LjAwNiAwIDAgMCA0LjQ2Ny03LjI1MWMuNjk0LjM2NSAxLjMyLjc2OCAxLjg1IDEuMTQ1YTIwLjAxNCAyMC4wMTQgMCAwIDEgMi40ODkgMi4xMDYgMjAuMTAyIDIwLjEwMiAwIDAgMS0yLjQ4OSAyLjEwNnoiIGNsYXNzPSJ0cmlwZXR0by1maWxsIi8+PC9zdmc+"},954:function(e){e.exports=o(975)}},i={};function n(e){var o=i[e];if(void 0!==o)return o.exports;var l=i[e]={exports:{}};return t[e].call(l.exports,l,l.exports,n),l.exports}n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var l=n(110);e.exports=l}()},873:function(e,t,o){!function(){"use strict";var t={583:function(e,t,o){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=this&&this.__decorate||function(e,t,o,i){var n,l=arguments.length,a=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(l<3?n(a):l>3?n(t,o,a):n(t,o))||a);return l>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.MailerCondition=void 0;var a=o(954),r=o(617),c=o(740),u=o(410),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.willMail=!0,t}return n(t,e),Object.defineProperty(t.prototype,"icon",{get:function(){return this.willMail?c.default:u.default},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.willMail?(0,a.pgettext)("block:mailer","Mail will be sent"):(0,a.pgettext)("block:mailer","No mail will be sent")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){var e;return null===(e=this.node)||void 0===e?void 0:e.label},enumerable:!1,configurable:!0}),l([a.definition,(0,a.affects)("#name")],t.prototype,"willMail",void 0),l([(0,a.tripetto)({type:"condition",legacyBlock:!0,context:"@tripetto/block-mailer",identifier:"@tripetto/block-mailer",version:"6.0.3",icon:r.default,get label(){return(0,a.pgettext)("block:mailer","Mail status")}})],t)}(a.ConditionBlock);t.MailerCondition=s},110:function(e,t,o){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=this&&this.__decorate||function(e,t,o,i){var n,l=arguments.length,a=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(l<3?n(a):l>3?n(t,o,a):n(t,o))||a);return l>3&&a&&Object.defineProperty(t,o,a),a},a=this&&this.__spreadArray||function(e,t,o){if(o||2===arguments.length)for(var i,n=0,l=t.length;n<l;n++)!i&&n in t||(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.Mailer=void 0;var r=o(954),c=o(583),u=o(617),s=o(740),d=o(410),p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.allowMarkdown=!1,t.recipient="",t}return n(t,e),t.prototype.defineSlot=function(){this.recipientSlot=this.slots.static({type:r.Slots.String,reference:"recipient",label:(0,r.pgettext)("block:mailer","Recipient"),alias:this.alias,exportable:this.recipientExportable,actionable:!0}),this.slots.static({type:r.Slots.String,reference:"subject",label:(0,r.pgettext)("block:mailer","Subject"),alias:this.alias,exportable:this.subjectExportable,actionable:!0}),this.slots.static({type:r.Slots.Text,reference:"message",label:(0,r.pgettext)("block:mailer","Message"),alias:this.alias,exportable:this.messageExportable,actionable:!0}),this.sender?this.slots.static({type:r.Slots.String,reference:"sender",label:(0,r.pgettext)("block:mailer","Sender"),alias:this.alias,exportable:this.senderExportable,actionable:!0}):this.slots.delete("sender"),this.includeData?this.slots.static({type:r.Slots.Boolean,reference:"data",label:"Data",pipeable:!1,exportable:!1,actionable:!0}):this.slots.delete("data")},t.prototype.defineEditor=function(){var e,t=(0,r.filter)((0,r.populateSlots)(this,{blocks:["@tripetto/block-email","@tripetto/block-hidden-field"],mode:"validated"}),(function(e){return!!e.id})),o=new r.Forms.Email(r.Forms.Email.bind(this,"recipientFixed",void 0,"")).placeholder((0,r.pgettext)("block:mailer","Type recipient email address here...")).autoValidate().require().visible("fixed"===this.recipient),i=new r.Forms.Email(r.Forms.Email.bind(this,"senderFixed",void 0,"")).placeholder((0,r.pgettext)("block:mailer","Type sender email address here...")).autoValidate().require().visible("fixed"===this.sender),n=(0,r.getHelpTopic)("block:mailer"),l=(0,r.getHelpTopic)("block:mailer:sender");this.editor.option({name:(0,r.pgettext)("block:mailer","Recipient"),form:{title:(0,r.pgettext)("block:mailer","Recipient"),controls:[new r.Forms.Static((0,r.pgettext)("block:mailer","This block sends an email to the specified recipient. You can use any email block to define the recipient, as long as the block is inserted before this block. Supply a fixed recipient when the block should always mail to the same email address%1.",n?" ([".concat((0,r.pgettext)("block:mailer","learn more"),"](").concat(n,"))"):"")).markdown(),new r.Forms.Dropdown(a(a([],t.length>0?a(a([{optGroup:(0,r.pgettext)("block:mailer","Available email addresses")}],(0,r.map)(t,(function(e){return{label:e.label,value:e.id||""}})),!0),[{optGroup:(0,r.pgettext)("block:mailer","Other")}],!1):[],!0),[{label:(0,r.pgettext)("block:mailer","Fixed recipient address"),value:"fixed"}],!1),r.Forms.Dropdown.bind(this,"recipient","")).on((function(e){o.visible("fixed"===e.value)})),o]},activated:!0,locked:!0}),this.editor.name(!1,!1,(0,r.pgettext)("block:mailer","Subject"),"validated"),this.editor.description(!0,(0,r.pgettext)("block:mailer","Message"),"validated"),this.editor.groups.settings(),this.editor.option({name:(0,r.pgettext)("block:mailer","Sender"),form:{title:(0,r.pgettext)("block:mailer","Sender"),controls:[new r.Forms.Static((0,r.pgettext)("block:mailer","You can specify a sender address. This address will be used to set the reply-to header of the email%1.",l?" ([".concat((0,r.pgettext)("block:mailer","learn more"),"](").concat(l,"))"):"")).markdown(),new r.Forms.Dropdown(a(a([],t.length>0?a(a([{optGroup:(0,r.pgettext)("block:mailer","Available email addresses")}],(0,r.map)(t,(function(e){return{label:e.label,value:e.id||""}})),!0),[{optGroup:(0,r.pgettext)("block:mailer","Other")}],!1):[],!0),[{label:(0,r.pgettext)("block:mailer","Fixed sender address"),value:"fixed"}],!1),r.Forms.Dropdown.bind(this,"sender",void 0,"")).on((function(e){i.visible("fixed"===e.value)})),i]},activated:(0,r.isString)(this.sender)}).onToggle((function(e){var t;u.card instanceof r.Forms.Form&&(null===(t=u.card.control(3))||void 0===t||t.visible(e.isActivated))})),this.editor.option({name:(0,r.pgettext)("block:mailer","Form data"),form:{title:(0,r.pgettext)("block:mailer","Append form data"),controls:[new r.Forms.Checkbox((0,r.pgettext)("block:mailer","Append all form data to the message"),r.Forms.Checkbox.bind(this,"includeData",void 0,!0)),new r.Forms.Static((0,r.pgettext)("block:mailer","This will append _all_ the exportable data of the form to the message. Useful, for example, if you want to send a copy of the form data to the respondent. If you just want to include certain form data, use the `@` sign in the message field.")).markdown()]},activated:(0,r.isBoolean)(this.includeData)}),this.editor.groups.options(),this.editor.visibility(),this.editor.alias(this);var c=this.editor.form({controls:[new r.Forms.Notification((0,r.pgettext)("block:mailer","By default the data generated by this block (recipient address, subject, message and optionally sender address) will not be stored in the dataset. To change this behavior, please use the *exportability* feature."),"info").markdown()]}).visible(!(0,r.isBoolean)(this.recipientExportable)),u=this.editor.exportable({ref:this,props:[{name:"recipientExportable",label:(0,r.pgettext)("block:mailer","Include recipient address in the dataset")},{name:"subjectExportable",label:(0,r.pgettext)("block:mailer","Include subject in the dataset")},{name:"messageExportable",label:(0,r.pgettext)("block:mailer","Include message in the dataset")},{name:"senderExportable",label:(0,r.pgettext)("block:mailer","Include sender address in the dataset")}]},!1).onToggle((function(e){return c.visible(!e.isActivated)}));u.card instanceof r.Forms.Form&&(null===(e=u.card.control(3))||void 0===e||e.visible((0,r.isString)(this.sender)))},t.prototype.defineConditions=function(){var e=this;(0,r.each)([{label:(0,r.pgettext)("block:mailer","Mail will be sent"),icon:s.default,willMail:!0},{label:(0,r.pgettext)("block:mailer","No mail will be sent"),icon:d.default,willMail:!1}],(function(t){e.conditions.template({condition:c.MailerCondition,label:t.label,icon:t.icon,burst:!0,props:{slot:e.recipientSlot,willMail:t.willMail}})}))},l([r.definition],t.prototype,"recipient",void 0),l([r.definition],t.prototype,"recipientFixed",void 0),l([r.definition,(0,r.affects)("#slots")],t.prototype,"sender",void 0),l([r.definition],t.prototype,"senderFixed",void 0),l([r.definition,(0,r.affects)("#slots")],t.prototype,"alias",void 0),l([r.definition,(0,r.affects)("#slots")],t.prototype,"includeData",void 0),l([r.definition,(0,r.affects)("#slots")],t.prototype,"recipientExportable",void 0),l([r.definition,(0,r.affects)("#slots")],t.prototype,"senderExportable",void 0),l([r.definition,(0,r.affects)("#slots")],t.prototype,"subjectExportable",void 0),l([r.definition,(0,r.affects)("#slots")],t.prototype,"messageExportable",void 0),l([r.slots],t.prototype,"defineSlot",null),l([r.editor],t.prototype,"defineEditor",null),l([r.conditions],t.prototype,"defineConditions",null),l([(0,r.tripetto)({type:"node",legacyBlock:!0,identifier:"@tripetto/block-mailer",version:"6.0.3",icon:u.default,get label(){return(0,r.pgettext)("block:mailer","Send email")},kind:"headless"})],t)}(r.NodeBlock);t.Mailer=p},740:function(e,t,o){o.r(t),t.default="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCI+PHBhdGggZD0iTTEwLjUgMGgtNGEuNS41IDAgMCAwLS41LjV2NS41ODZjLS41ODIuMjA2LTEgLjc2Mi0xIDEuNDE0QzUgOC4zMjcgNS42NzMgOSA2LjUgOVM4IDguMzI3IDggNy41YzAtLjY1Mi0uNDE4LTEuMjA4LTEtMS40MTRWM2gzLjVhLjUuNSAwIDAgMCAuNS0uNXYtMmEuNS41IDAgMCAwLS41LS41em0tNCA4YS41LjUgMCAxIDEgMC0xIC41LjUgMCAwIDEgMCAxek0xMCAySDdWMWgzdjF6IiBjbGFzcz0idHJpcGV0dG8tZmlsbCIvPjxwYXRoIGQ9Ik0xOS4wODggNi45NDVjLS4zNTQtLjkxNi0uODE4LTEuNjI4LTEuMzgtMi4xMThhMy4zMDMgMy4zMDMgMCAwIDAtMi4yMzQtLjgyNkg4LjVhLjUuNSAwIDAgMCAwIDFoNi45NzRjMi43OSAwIDMuNDY5IDQuMjM2IDMuNTIyIDhIMi45OTl2LThoMS41YS41LjUgMCAwIDAgMC0xaC0xLjV2LS41YS41LjUgMCAwIDAtLjUtLjVoLTJhLjUuNSAwIDAgMC0uNS41djExYS41LjUgMCAwIDAgLjUuNWgyYS41LjUgMCAwIDAgLjUtLjV2LS41aDV2NS41YS41LjUgMCAwIDAgLjUuNWgzYS41LjUgMCAwIDAgLjUtLjV2LTUuNWg3LjVhLjUuNSAwIDAgMCAuNS0uNWMwLTIuNzg1LS4zMDctNC45OS0uOTEyLTYuNTU1ek0yIDE0SDFWNGgxdjEwem05IDVIOXYtNWgydjV6IiBjbGFzcz0idHJpcGV0dG8tZmlsbCIvPjwvc3ZnPg=="},410:function(e,t,o){o.r(t),t.default="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCI+PHBhdGggZD0iTTE5LjA4OCA2Ljk0NWMtLjM1NC0uOTE2LS44MTgtMS42MjgtMS4zOC0yLjExOGEzLjMwMyAzLjMwMyAwIDAgMC0yLjIzNC0uODI2SDN2LS41YS41LjUgMCAwIDAtLjUtLjVoLTJhLjUuNSAwIDAgMC0uNS41djExYS41LjUgMCAwIDAgLjUuNWgyYS41LjUgMCAwIDAgLjUtLjV2LS41aDV2NS41YS41LjUgMCAwIDAgLjUuNWgzYS41LjUgMCAwIDAgLjUtLjV2LTUuNWg3LjVhLjUuNSAwIDAgMCAuNS0uNWMwLTIuNzg1LS4zMDctNC45OS0uOTEyLTYuNTU1ek0yIDE0SDFWNGgxdjEwem05IDVIOXYtNWgydjV6bS04LTZWNWgxMi40NzRjMi43OSAwIDMuNDY5IDQuMjM2IDMuNTIyIDhIMi45OTl6IiBjbGFzcz0idHJpcGV0dG8tZmlsbCIvPjxwYXRoIGQ9Ik0xMy41IDdINy45MTRjLS4yMDYtLjU4Mi0uNzYyLTEtMS40MTQtMUM1LjY3MyA2IDUgNi42NzMgNSA3LjVTNS42NzMgOSA2LjUgOWMuNjUyIDAgMS4yMDgtLjQxOCAxLjQxNC0xSDExdjMuNWEuNS41IDAgMCAwIC41LjVoMmEuNS41IDAgMCAwIC41LS41di00YS41LjUgMCAwIDAtLjUtLjV6bS03IDFhLjUuNSAwIDEgMSAwLTEgLjUuNSAwIDAgMSAwIDF6bTYuNSAzaC0xVjhoMXYzeiIgY2xhc3M9InRyaXBldHRvLWZpbGwiLz48L3N2Zz4="},617:function(e,t,o){o.r(t),t.default="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCI+PHBhdGggZD0iTTE5LjgzMyAxLjEyN2EuNDk5LjQ5OSAwIDAgMC0uNTI3LS4wODhsLTE5IDhhLjUuNSAwIDAgMCAuMDM2LjkzNUw2IDExLjg2djUuNjRhLjUuNSAwIDAgMCAuODg4LjMxNWwyLjc2My0zLjQwMSA0LjQ5NyA0LjQ0MWEuNDk3LjQ5NyAwIDAgMCAuNDc2LjEyOC41MDEuNTAxIDAgMCAwIC4zNTUtLjM0M2w1LTE3YS41LjUgMCAwIDAtLjE0Ny0uNTE0ek0xNi4xMyAzLjQ2MWwtOS43MjQgNy40OC00LjQ4OC0xLjQ5NkwxNi4xMyAzLjQ2MXpNNyAxMS43NDZsOS40MTUtNy4yNDItNy4xOTQgOC44NTQtLjAwMS4wMDFMNyAxNi4wOTJ2LTQuMzQ2em03LjI1NiA1LjgxMS0zLjk3Mi0zLjkyMiA4LjAzMy05Ljg4Ny00LjA2MSAxMy44MDh6IiBjbGFzcz0idHJpcGV0dG8tZmlsbCIvPjwvc3ZnPg=="},954:function(e){e.exports=o(975)}},i={};function n(e){var o=i[e];if(void 0!==o)return o.exports;var l=i[e]={exports:{}};return t[e].call(l.exports,l,l.exports,n),l.exports}n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var l=n(110);e.exports=l}()},584:function(e,t,o){!function(){"use strict";var t={760:function(e,t,o){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=this&&this.__decorate||function(e,t,o,i){var n,l=arguments.length,a=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(l<3?n(a):l>3?n(t,o,a):n(t,o))||a);return l>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.Column=void 0;var a=o(954),r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.label="",t}return n(t,e),t.prototype.defineEditor=function(){this.editor.option({name:(0,a.pgettext)("block:matrix","Column"),form:{title:(0,a.pgettext)("block:matrix","Column name"),controls:[new a.Forms.Text("singleline",a.Forms.Text.bind(this,"label","")).action("@",(0,a.insertVariable)(this)).autoFocus().autoSelect().enter(this.editor.close).escape(this.editor.close)]},locked:!0}),this.editor.group((0,a.pgettext)("block:matrix","Options")),this.editor.option({name:(0,a.pgettext)("block:matrix","Identifier"),form:{title:(0,a.pgettext)("block:matrix","Column identifier"),controls:[new a.Forms.Text("singleline",a.Forms.Text.bind(this,"value",void 0)),new a.Forms.Static((0,a.pgettext)("block:matrix","If a column identifier is set, this identifier will be used instead of the label."))]},activated:(0,a.isString)(this.value)});var e=this.ref.slots.select("score","feature");this.editor.option({name:(0,a.pgettext)("block:matrix","Score"),form:{title:(0,a.pgettext)("block:matrix","Score"),controls:[new a.Forms.Numeric(a.Forms.Numeric.bind(this,"score",void 0)).precision((null==e?void 0:e.precision)||0).digits((null==e?void 0:e.digits)||0).decimalSign((null==e?void 0:e.decimal)||"").thousands(!!(null==e?void 0:e.separator),(null==e?void 0:e.separator)||"").prefix((null==e?void 0:e.prefix)||"").prefixPlural((null==e?void 0:e.prefixPlural)||void 0).suffix((null==e?void 0:e.suffix)||"").suffixPlural((null==e?void 0:e.suffixPlural)||void 0)]},activated:!0,locked:!!e,disabled:!e})},l([(0,a.definition)("string"),a.name],t.prototype,"label",void 0),l([(0,a.definition)("string","optional"),a.alias],t.prototype,"value",void 0),l([(0,a.definition)("number","optional"),a.score],t.prototype,"score",void 0),l([a.editor],t.prototype,"defineEditor",null),t}(a.Collection.Item);t.Column=r},560:function(e,t,o){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=this&&this.__decorate||function(e,t,o,i){var n,l=arguments.length,a=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(l<3?n(a):l>3?n(t,o,a):n(t,o))||a);return l>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.MatrixCondition=void 0;var a=o(954),r=o(110),c=o(617),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.allowMarkdown=!0,t}return n(t,e),Object.defineProperty(t.prototype,"column",{get:function(){return this.columnRef},set:function(e){var t=this;this.columnRef&&this.columnRef.unhookContext(this),this.columnRef=e,e&&(e.hook("OnRename","framed",(function(){return t.rerender()}),this),e.hook("OnDelete","framed",(function(){return t.delete()}),this))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return(this.row?(0,a.markdownifyToString)(this.row.name)+(this.column?" `".concat((0,a.makeMarkdownSafe)(this.column.label),"`"):""):"")||this.type.label},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){var e;return(0,a.markdownifyToString)((null===(e=this.row)||void 0===e?void 0:e.name)||"")},enumerable:!1,configurable:!0}),t.prototype.defineEditor=function(){var e=this,t=[];this.node&&this.node.block instanceof r.Matrix&&this.node.block.columns.each((function(o){(o.label||o===e.column)&&t.push({label:o.label,value:o})})),this.editor.form({controls:[new a.Forms.Dropdown(t,a.Forms.Dropdown.bind(this,"column",void 0))]})},l([(0,a.affects)("#name"),(0,a.collection)("#rows")],t.prototype,"row",void 0),l([(0,a.affects)("#name"),(0,a.collection)("#columns")],t.prototype,"column",null),l([a.editor],t.prototype,"defineEditor",null),l([(0,a.tripetto)({type:"condition",legacyBlock:!0,context:"@tripetto/block-matrix",identifier:"@tripetto/block-matrix",version:"6.0.0",icon:c.default,get label(){return(0,a.pgettext)("block:matrix","Matrix")}})],t)}(a.ConditionBlock);t.MatrixCondition=u},287:function(e,t,o){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=this&&this.__decorate||function(e,t,o,i){var n,l=arguments.length,a=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(l<3?n(a):l>3?n(t,o,a):n(t,o))||a);return l>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.ScoreCondition=void 0;var a=o(954),r=o(939),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.allowMarkdown=!0,t.mode="equal",t}return n(t,e),Object.defineProperty(t.prototype,"label",{get:function(){return""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){var e=this.slot;if(e instanceof a.Slots.Numeric){var t=this.parse(e,this.value);switch(this.mode){case"between":return"".concat(t," ≤ @").concat(e.id," ≤ ").concat(this.parse(e,this.to));case"not-between":return"@".concat(e.id," < ").concat(t," ").concat((0,a.pgettext)("block:matrix","or")," @").concat(e.id," > ").concat(this.parse(e,this.to));case"defined":return"@".concat(e.id," ").concat((0,a.pgettext)("block:matrix","calculated"));case"undefined":return"@".concat(e.id," ").concat((0,a.pgettext)("block:matrix","not calculated"));case"not-equal":return"@".concat(e.id," ≠ ").concat(t);case"above":case"below":case"equal":return"@".concat(e.id," ").concat("above"===this.mode?">":"below"===this.mode?"<":"="," ").concat(t)}}return this.type.label},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){var e,t;return(null===(e=this.slot)||void 0===e?void 0:e.label)||(null===(t=this.node)||void 0===t?void 0:t.label)},enumerable:!1,configurable:!0}),t.prototype.parse=function(e,t){var o;return(0,a.isNumberFinite)(t)?e.toString(t,(function(e,t){return a.L10n.locale.number(e,t,!1)})):(0,a.isString)(t)&&t&&(null===(o=(0,a.lookupVariable)(this,t))||void 0===o?void 0:o.label)?"@".concat(t):"\\_\\_"},t.prototype.defineEditor=function(){var e=this;this.editor.form({title:(0,a.pgettext)("block:matrix","Compare mode"),controls:[new a.Forms.Radiobutton([{label:(0,a.pgettext)("block:matrix","Score is equal to"),value:"equal"},{label:(0,a.pgettext)("block:matrix","Score is not equal to"),value:"not-equal"},{label:(0,a.pgettext)("block:matrix","Score is lower than"),value:"below"},{label:(0,a.pgettext)("block:matrix","Score is higher than"),value:"above"},{label:(0,a.pgettext)("block:matrix","Score is between"),value:"between"},{label:(0,a.pgettext)("block:matrix","Score is not between"),value:"not-between"},{label:(0,a.pgettext)("block:matrix","Score is calculated"),value:"defined"},{label:(0,a.pgettext)("block:matrix","Score is not calculated"),value:"undefined"}],a.Forms.Radiobutton.bind(this,"mode","equal")).on((function(e){switch(o.visible("defined"!==e.value&&"undefined"!==e.value),i.visible("between"===e.value||"not-between"===e.value),e.value){case"equal":o.title=(0,a.pgettext)("block:matrix","If score equals");break;case"not-equal":o.title=(0,a.pgettext)("block:matrix","If score not equals");break;case"below":o.title=(0,a.pgettext)("block:matrix","If score is lower than");break;case"above":o.title=(0,a.pgettext)("block:matrix","If score is higher than");break;case"between":o.title=(0,a.pgettext)("block:matrix","If score is between");break;case"not-between":o.title=(0,a.pgettext)("block:matrix","If score is not between")}}))]});var t=function(t,o,i){var n,l=e[t],r=e.slot,c=new a.Forms.Numeric((0,a.isNumberFinite)(l)?l:0).label((0,a.pgettext)("block:matrix","Use fixed number")).precision((null==r?void 0:r.precision)||0).digits((null==r?void 0:r.digits)||0).decimalSign((null==r?void 0:r.decimal)||"").thousands(!!(null==r?void 0:r.separator),(null==r?void 0:r.separator)||"").prefix((null==r?void 0:r.prefix)||"").prefixPlural((null==r?void 0:r.prefixPlural)||void 0).suffix((null==r?void 0:r.suffix)||"").suffixPlural((null==r?void 0:r.suffixPlural)||void 0).autoFocus("value"===t).escape(e.editor.close).enter((function(){return("between"!==e.mode&&"not-between"!==e.mode||"to"===t)&&e.editor.close()})).on((function(o){o.isFormVisible&&o.isObservable&&(e[t]=o.value)})),u=(0,a.populateVariables)(e,(function(e){return e instanceof a.Slots.Number||e instanceof a.Slots.Numeric}),(0,a.isString)(l)?l:void 0,!0,null===(n=e.slot)||void 0===n?void 0:n.id),s=new a.Forms.Dropdown(u,(0,a.isString)(l)?l:"").label((0,a.pgettext)("block:matrix","Use value of")).width("full").on((function(o){o.isFormVisible&&o.isObservable&&(e[t]=o.value||"")}));return e.editor.form({title:o,controls:[new a.Forms.Radiobutton([{label:(0,a.pgettext)("block:matrix","Number"),value:"number"},{label:(0,a.pgettext)("block:matrix","Value"),value:"variable",disabled:0===u.length}],(0,a.isString)(l)?"variable":"number").on((function(e){c.visible("number"===e.value),s.visible("variable"===e.value),c.isObservable&&c.focus()})),c,s]}).visible(i)},o=t("value",(0,a.pgettext)("block:matrix","If score equals"),"defined"!==this.mode&&"undefined"!==this.mode),i=t("to",(0,a.pgettext)("block:matrix","And"),"between"===this.mode||"not-between"===this.mode)},l([a.definition,(0,a.affects)("#name")],t.prototype,"mode",void 0),l([a.definition,(0,a.affects)("#name")],t.prototype,"value",void 0),l([a.definition,(0,a.affects)("#name")],t.prototype,"to",void 0),l([a.editor],t.prototype,"defineEditor",null),l([(0,a.tripetto)({type:"condition",legacyBlock:!0,context:"@tripetto/block-matrix",identifier:"".concat("@tripetto/block-matrix",":score"),version:"6.0.0",icon:r.default,get label(){return(0,a.pgettext)("block:matrix","Verify score")}})],t)}(a.ConditionBlock);t.ScoreCondition=c},110:function(e,t,o){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=this&&this.__decorate||function(e,t,o,i){var n,l=arguments.length,a=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(l<3?n(a):l>3?n(t,o,a):n(t,o))||a);return l>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.Matrix=void 0;var a=o(954),r=o(949),c=o(760),u=o(560),s=o(287),d=o(617),p=o(939),b=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.columns=a.Collection.of(c.Column,t),t.rows=a.Collection.of(r.Row,t),t}return n(t,e),Object.defineProperty(t.prototype,"label",{get:function(){return(0,a.npgettext)("block:matrix","%2 (%1 row)","%2 (%1 rows)",this.rows.count,this.type.label)},enumerable:!1,configurable:!0}),t.prototype.defineEditor=function(){var e=this;this.editor.name(),this.editor.description(),this.editor.explanation();var t=this.editor.collection({collection:this.rows,title:(0,a.pgettext)("block:matrix","Rows"),placeholder:(0,a.pgettext)("block:matrix","Unnamed row"),sorting:"manual",autoOpen:!0,allowVariables:!0,allowImport:!0,allowExport:!0,allowDedupe:!0,showAliases:!0,markdown:a.Markdown.MarkdownFeatures.Formatting|a.Markdown.MarkdownFeatures.Hyperlinks,indicator:function(t){var o;return!(0,a.isBoolean)(e.required)&&(null===(o=e.slots.select(t.id))||void 0===o?void 0:o.required)&&(0,a.pgettext)("block:matrix","Required").toUpperCase()||void 0},emptyMessage:(0,a.pgettext)("block:matrix","Click the + button to add a row...")}),o=this.editor.collection({collection:this.columns,title:(0,a.pgettext)("block:matrix","Columns"),placeholder:(0,a.pgettext)("block:matrix","Unnamed column"),autoOpen:!0,showAliases:!0,allowVariables:!0,allowImport:!0,allowExport:!0,allowDedupe:!0,markdown:a.Markdown.MarkdownFeatures.Formatting|a.Markdown.MarkdownFeatures.Hyperlinks,sorting:"manual",emptyMessage:(0,a.pgettext)("block:matrix","Click the + button to add a column...")});this.editor.groups.options(),this.editor.required(this,(0,a.pgettext)("block:matrix","All rows need an answer"),(function(o){e.rows.each((function(e){e.defineSlot().required=o,e.refresh()})),t.refresh()})),this.editor.scores({target:this,collection:o,description:(0,a.pgettext)("block:matrix","Generates a score based on the selected column for each row. Open the settings panel for each column to set the score.")}),this.editor.visibility(),this.editor.exportable(this)},t.prototype.defineConditions=function(){var e=this;this.rows.each((function(t){if(t.name){var o=e.conditions.group(t.name,void 0,!0);e.columns.each((function(i){i.label&&o.template({condition:u.MatrixCondition,label:i.label,burst:!0,props:{slot:e.slots.select(t.id),row:t,column:i}})}))}}));var t=this.slots.select("score","feature");if(t&&t.label){var o=this.conditions.group(t.label,p.default,!1,!0);(0,a.each)([{mode:"equal",label:(0,a.pgettext)("block:matrix","Score is equal to")},{mode:"not-equal",label:(0,a.pgettext)("block:matrix","Score is not equal to")},{mode:"below",label:(0,a.pgettext)("block:matrix","Score is lower than")},{mode:"above",label:(0,a.pgettext)("block:matrix","Score is higher than")},{mode:"between",label:(0,a.pgettext)("block:matrix","Score is between")},{mode:"not-between",label:(0,a.pgettext)("block:matrix","Score is not between")},{mode:"defined",label:(0,a.pgettext)("block:matrix","Score is calculated")},{mode:"undefined",label:(0,a.pgettext)("block:matrix","Score is not calculated")}],(function(e){o.template({condition:s.ScoreCondition,label:e.label,autoOpen:"defined"!==e.mode&&"undefined"!==e.mode,props:{slot:t,mode:e.mode,value:0,to:"between"===e.mode||"not-between"===e.mode?0:void 0}})}))}},l([(0,a.definition)("columns"),(0,a.supplies)("#collection","rows")],t.prototype,"columns",void 0),l([(0,a.definition)("items"),(0,a.affects)("#name")],t.prototype,"rows",void 0),l([(0,a.definition)("boolean","optional"),(0,a.affects)("#required")],t.prototype,"required",void 0),l([(0,a.definition)("boolean","optional"),(0,a.affects)("#slots"),(0,a.affects)("#collection","rows")],t.prototype,"exportable",void 0),l([a.editor],t.prototype,"defineEditor",null),l([a.conditions],t.prototype,"defineConditions",null),l([(0,a.tripetto)({type:"node",legacyBlock:!0,identifier:"@tripetto/block-matrix",version:"6.0.0",icon:d.default,get label(){return(0,a.pgettext)("block:matrix","Matrix")}})],t)}(a.NodeBlock);t.Matrix=b},949:function(e,t,o){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=this&&this.__decorate||function(e,t,o,i){var n,l=arguments.length,a=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(l<3?n(a):l>3?n(t,o,a):n(t,o))||a);return l>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.Row=void 0;var a=o(954),r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.name="",t}return n(t,e),t.prototype.defineSlot=function(){return this.ref.slots.dynamic({type:a.Slots.String,reference:this.id,label:(0,a.pgettext)("block:matrix","Matrix row"),sequence:this.index,name:this.name&&(0,a.markdownifyToString)(this.name,a.Markdown.MarkdownFeatures.Formatting|a.Markdown.MarkdownFeatures.Hyperlinks)||void 0,alias:this.alias,exportable:this.ref.exportable,exchange:["alias","exportable"],pipeable:{label:(0,a.pgettext)("block:matrix","Row"),legacy:"Row"}})},t.prototype.deleteSlot=function(){this.ref.slots.delete(this.id,"dynamic")},t.prototype.defineEditor=function(){var e=this;this.editor.option({name:(0,a.pgettext)("block:matrix","Row"),form:{title:(0,a.pgettext)("block:matrix","Row name"),controls:[new a.Forms.Text("singleline",a.Forms.Text.bind(this,"name","")).action("@",(0,a.insertVariable)(this)).autoFocus().autoSelect().enter(this.editor.close).escape(this.editor.close)]},locked:!0}),this.editor.option({name:(0,a.pgettext)("block:matrix","Description"),form:{title:(0,a.pgettext)("block:matrix","Row description"),controls:[new a.Forms.Text("multiline",a.Forms.Text.bind(this,"explanation",void 0)).action("@",(0,a.insertVariable)(this))]},activated:(0,a.isString)(this.explanation)}),this.editor.group((0,a.pgettext)("block:matrix","Options")),this.editor.option({name:(0,a.pgettext)("block:matrix","Required"),form:{title:(0,a.pgettext)("block:matrix","Required"),controls:[new a.Forms.Checkbox((0,a.pgettext)("block:matrix","Row is required and cannot be skipped"),a.Forms.Checkbox.bind(this.defineSlot(),"required",void 0,!0)).locked(this.ref&&(0,a.isBoolean)(this.ref.required)||!1).on((function(){return e.refresh("name")}))]},activated:(0,a.isBoolean)(this.defineSlot().required),disabled:this.ref&&(0,a.isBoolean)(this.ref.required)}),this.editor.option({name:(0,a.pgettext)("block:matrix","Identifier"),form:{title:(0,a.pgettext)("block:matrix","Row identifier"),controls:[new a.Forms.Text("singleline",a.Forms.Text.bind(this,"alias",void 0)),new a.Forms.Static((0,a.pgettext)("block:matrix","If a row identifier is set, this identifier will be used instead of the label."))]},activated:(0,a.isString)(this.alias)})},l([(0,a.definition)("string"),a.name],t.prototype,"name",void 0),l([(0,a.definition)("string","optional"),a.alias],t.prototype,"alias",void 0),l([(0,a.definition)("string","optional")],t.prototype,"explanation",void 0),l([a.created,a.reordered,a.renamed,a.refreshed],t.prototype,"defineSlot",null),l([a.deleted],t.prototype,"deleteSlot",null),l([a.editor],t.prototype,"defineEditor",null),t}(a.Collection.Item);t.Row=r},617:function(e,t,o){o.r(t),t.default="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCI+PHBhdGggZD0iTTE2LjUgMmgtMTNDMi42NzMgMiAyIDIuNjczIDIgMy41djEzYzAgLjgyNy42NzMgMS41IDEuNSAxLjVoMTNjLjgyNyAwIDEuNS0uNjczIDEuNS0xLjV2LTEzYzAtLjgyNy0uNjczLTEuNS0xLjUtMS41em0uNSAxLjVWN2gtNFYzaDMuNWEuNS41IDAgMCAxIC41LjV6TTggMTJWOGg0djRIOHptNCAxdjRIOHYtNGg0em0tNS0xSDNWOGg0djR6bTEtNVYzaDR2NEg4em01IDFoNHY0aC00Vjh6TTMuNSAzSDd2NEgzVjMuNWEuNS41IDAgMCAxIC41LS41ek0zIDE2LjVWMTNoNHY0SDMuNWEuNS41IDAgMCAxLS41LS41em0xMy41LjVIMTN2LTRoNHYzLjVhLjUuNSAwIDAgMS0uNS41eiIgY2xhc3M9InRyaXBldHRvLWZpbGwiLz48L3N2Zz4="},939:function(e,t,o){o.r(t),t.default="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCI+PHBhdGggZD0iTTE4LjUgOEgxM1YzLjVhLjUuNSAwIDAgMC0uNS0uNWgtNmEuNS41IDAgMCAwLS41LjVWNkguNWEuNS41IDAgMCAwLS41LjV2MTBhLjUuNSAwIDAgMCAuNS41aDE4YS41LjUgMCAwIDAgLjUtLjV2LThhLjUuNSAwIDAgMC0uNS0uNXpNNyA0aDV2MTJIN1Y0ek0xIDdoNXY5SDFWN3ptMTcgOWgtNVY5aDV2N3oiIGNsYXNzPSJ0cmlwZXR0by1maWxsIi8+PHBhdGggZD0iTTkuNSAxMGEuNS41IDAgMCAxLS41LS41di00YS41LjUgMCAwIDEgMSAwdjRhLjUuNSAwIDAgMS0uNS41em0tNSAzaC0yYS41LjUgMCAwIDEtLjUtLjV2LTJhLjUuNSAwIDAgMSAuNS0uNUg0VjlIMi41YS41LjUgMCAwIDEgMC0xaDJhLjUuNSAwIDAgMSAuNS41djJhLjUuNSAwIDAgMS0uNS41SDN2MWgxLjVhLjUuNSAwIDAgMSAwIDF6bTEyLTNoLTJhLjUuNSAwIDAgMCAwIDFIMTZ2MWgtMS41YS41LjUgMCAwIDAgMCAxSDE2djFoLTEuNWEuNS41IDAgMCAwIDAgMWgyYS41LjUgMCAwIDAgLjUtLjV2LTRhLjUuNSAwIDAgMC0uNS0uNXoiIGNsYXNzPSJ0cmlwZXR0by1maWxsIi8+PC9zdmc+"},954:function(e){e.exports=o(975)}},i={};function n(e){var o=i[e];if(void 0!==o)return o.exports;var l=i[e]={exports:{}};return t[e].call(l.exports,l,l.exports,n),l.exports}n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var l=n(110);e.exports=l}()},173:function(e,t,o){!function(){"use strict";var t={929:function(e,t,o){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=this&&this.__decorate||function(e,t,o,i){var n,l=arguments.length,a=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(l<3?n(a):l>3?n(t,o,a):n(t,o))||a);return l>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.CounterCondition=void 0;var a=o(954),r=o(948),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.allowMarkdown=!0,t.mode="equal",t}return n(t,e),Object.defineProperty(t.prototype,"label",{get:function(){return""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){var e=this.slot;if(e instanceof a.Slots.Number){var t=this.parse(e,this.value);switch(this.mode){case"between":return"".concat(t," ≤ @").concat(e.id," ≤ ").concat(this.parse(e,this.to));case"not-between":return"@".concat(e.id," < ").concat(t," ").concat((0,a.pgettext)("block:multi-select","or")," @").concat(e.id," > ").concat(this.parse(e,this.to));case"not-equal":return"@".concat(e.id," ≠ ").concat(t);case"above":case"below":case"equal":return"@".concat(e.id," ").concat("above"===this.mode?">":"below"===this.mode?"<":"="," ").concat(t)}}return this.type.label},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){var e,t;return(null===(e=this.slot)||void 0===e?void 0:e.label)||(null===(t=this.node)||void 0===t?void 0:t.label)},enumerable:!1,configurable:!0}),t.prototype.parse=function(e,t){var o;return(0,a.isNumberFinite)(t)?e.toString(t,(function(e){return a.L10n.locale.number(e,0,!1)})):(0,a.isString)(t)&&t&&(null===(o=(0,a.lookupVariable)(this,t))||void 0===o?void 0:o.label)?"@".concat(t):"\\_\\_"},t.prototype.defineEditor=function(){var e=this;this.editor.form({title:(0,a.pgettext)("block:multi-select","Compare mode"),controls:[new a.Forms.Radiobutton([{label:(0,a.pgettext)("block:multi-select","Counter is equal to"),value:"equal"},{label:(0,a.pgettext)("block:multi-select","Counter is not equal to"),value:"not-equal"},{label:(0,a.pgettext)("block:multi-select","Counter is lower than"),value:"below"},{label:(0,a.pgettext)("block:multi-select","Counter is higher than"),value:"above"},{label:(0,a.pgettext)("block:multi-select","Counter is between"),value:"between"},{label:(0,a.pgettext)("block:multi-select","Counter is not between"),value:"not-between"}],a.Forms.Radiobutton.bind(this,"mode","equal")).on((function(e){switch(i.visible("between"===e.value||"not-between"===e.value),e.value){case"equal":o.title=(0,a.pgettext)("block:multi-select","If counter equals");break;case"not-equal":o.title=(0,a.pgettext)("block:multi-select","If counter not equals");break;case"below":o.title=(0,a.pgettext)("block:multi-select","If counter is lower than");break;case"above":o.title=(0,a.pgettext)("block:multi-select","If counter is higher than");break;case"between":o.title=(0,a.pgettext)("block:multi-select","If counter is between");break;case"not-between":o.title=(0,a.pgettext)("block:multi-select","If counter is not between")}}))]});var t=function(t,o){var i,n=e[t],l=new a.Forms.Numeric((0,a.isNumberFinite)(n)?n:0).label((0,a.pgettext)("block:multi-select","Use fixed number")).autoFocus("value"===t).escape(e.editor.close).enter((function(){return("between"!==e.mode&&"not-between"!==e.mode||"to"===t)&&e.editor.close()})).on((function(o){o.isFormVisible&&o.isObservable&&(e[t]=o.value)})),r=(0,a.populateVariables)(e,(function(e){return e instanceof a.Slots.Number||e instanceof a.Slots.Numeric}),(0,a.isString)(n)?n:void 0,!0,null===(i=e.slot)||void 0===i?void 0:i.id),c=new a.Forms.Dropdown(r,(0,a.isString)(n)?n:"").label((0,a.pgettext)("block:multi-select","Use value of")).width("full").on((function(o){o.isFormVisible&&o.isObservable&&(e[t]=o.value||"")}));return e.editor.form({title:o,controls:[new a.Forms.Radiobutton([{label:(0,a.pgettext)("block:multi-select","Number"),value:"number"},{label:(0,a.pgettext)("block:multi-select","Value"),value:"variable",disabled:0===r.length}],(0,a.isString)(n)?"variable":"number").on((function(e){l.visible("number"===e.value),c.visible("variable"===e.value),l.isObservable&&l.focus()})),l,c]})},o=t("value",(0,a.pgettext)("block:multi-select","If counter equals")),i=t("to",(0,a.pgettext)("block:multi-select","And"))},l([a.definition,(0,a.affects)("#name")],t.prototype,"mode",void 0),l([a.definition,(0,a.affects)("#name")],t.prototype,"value",void 0),l([a.definition,(0,a.affects)("#name")],t.prototype,"to",void 0),l([a.editor],t.prototype,"defineEditor",null),l([(0,a.tripetto)({type:"condition",legacyBlock:!0,context:"@tripetto/block-multi-select",identifier:"".concat("@tripetto/block-multi-select",":counter"),version:"2.1.2",icon:r.default,get label(){return(0,a.pgettext)("block:multi-select","Verify counter")}})],t)}(a.ConditionBlock);t.CounterCondition=c},875:function(e,t,o){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=this&&this.__decorate||function(e,t,o,i){var n,l=arguments.length,a=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(l<3?n(a):l>3?n(t,o,a):n(t,o))||a);return l>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.NoneCondition=void 0;var a=o(954),r=o(489),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),l([(0,a.tripetto)({type:"condition",legacyBlock:!0,context:"@tripetto/block-multi-select",identifier:"".concat("@tripetto/block-multi-select",":none"),version:"2.1.2",icon:r.default,get label(){return(0,a.pgettext)("block:multi-select","No options selected")}})],t)}(a.ConditionBlock);t.NoneCondition=c},35:function(e,t,o){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=this&&this.__decorate||function(e,t,o,i){var n,l=arguments.length,a=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(l<3?n(a):l>3?n(t,o,a):n(t,o))||a);return l>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.OptionCondition=void 0;var a=o(954),r=o(537),c=o(669),u=o(489),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.selected=!0,t}return n(t,e),Object.defineProperty(t.prototype,"icon",{get:function(){return this.selected?c.default:u.default},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){var e;return(0,a.markdownifyToString)((null===(e=this.option)||void 0===e?void 0:e.name)||"")||this.type.label},enumerable:!1,configurable:!0}),t.prototype.defineEditor=function(){var e;this.editor.form({controls:[new a.Forms.Checkbox((0,a.markdownifyToString)((null===(e=this.option)||void 0===e?void 0:e.name)||"")||(0,a.pgettext)("block:multi-select","Option is selected"),a.Forms.Checkbox.bind(this,"selected",!0))]})},l([(0,a.affects)("#name"),(0,a.collection)("#options")],t.prototype,"option",void 0),l([(0,a.affects)("#icon"),a.definition],t.prototype,"selected",void 0),l([a.editor],t.prototype,"defineEditor",null),l([(0,a.tripetto)({type:"condition",legacyBlock:!0,context:"@tripetto/block-multi-select",identifier:"@tripetto/block-multi-select",version:"2.1.2",icon:r.default,get label(){return(0,a.pgettext)("block:multi-select","Option")}})],t)}(a.ConditionBlock);t.OptionCondition=s},287:function(e,t,o){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=this&&this.__decorate||function(e,t,o,i){var n,l=arguments.length,a=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(l<3?n(a):l>3?n(t,o,a):n(t,o))||a);return l>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.ScoreCondition=void 0;var a=o(954),r=o(939),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.allowMarkdown=!0,t.mode="equal",t}return n(t,e),Object.defineProperty(t.prototype,"label",{get:function(){return""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){var e=this.slot;if(e instanceof a.Slots.Numeric){var t=this.parse(e,this.value);switch(this.mode){case"between":return"".concat(t," ≤ @").concat(e.id," ≤ ").concat(this.parse(e,this.to));case"not-between":return"@".concat(e.id," < ").concat(t," ").concat((0,a.pgettext)("block:multi-select","or")," @").concat(e.id," > ").concat(this.parse(e,this.to));case"defined":return"@".concat(e.id," ").concat((0,a.pgettext)("block:multi-select","calculated"));case"undefined":return"@".concat(e.id," ").concat((0,a.pgettext)("block:multi-select","not calculated"));case"not-equal":return"@".concat(e.id," ≠ ").concat(t);case"above":case"below":case"equal":return"@".concat(e.id," ").concat("above"===this.mode?">":"below"===this.mode?"<":"="," ").concat(t)}}return this.type.label},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){var e,t;return(null===(e=this.slot)||void 0===e?void 0:e.label)||(null===(t=this.node)||void 0===t?void 0:t.label)},enumerable:!1,configurable:!0}),t.prototype.parse=function(e,t){var o;return(0,a.isNumberFinite)(t)?e.toString(t,(function(e,t){return a.L10n.locale.number(e,t,!1)})):(0,a.isString)(t)&&t&&(null===(o=(0,a.lookupVariable)(this,t))||void 0===o?void 0:o.label)?"@".concat(t):"\\_\\_"},t.prototype.defineEditor=function(){var e=this;this.editor.form({title:(0,a.pgettext)("block:multi-select","Compare mode"),controls:[new a.Forms.Radiobutton([{label:(0,a.pgettext)("block:multi-select","Score is equal to"),value:"equal"},{label:(0,a.pgettext)("block:multi-select","Score is not equal to"),value:"not-equal"},{label:(0,a.pgettext)("block:multi-select","Score is lower than"),value:"below"},{label:(0,a.pgettext)("block:multi-select","Score is higher than"),value:"above"},{label:(0,a.pgettext)("block:multi-select","Score is between"),value:"between"},{label:(0,a.pgettext)("block:multi-select","Score is not between"),value:"not-between"},{label:(0,a.pgettext)("block:multi-select","Score is calculated"),value:"defined"},{label:(0,a.pgettext)("block:multi-select","Score is not calculated"),value:"undefined"}],a.Forms.Radiobutton.bind(this,"mode","equal")).on((function(e){switch(o.visible("defined"!==e.value&&"undefined"!==e.value),i.visible("between"===e.value||"not-between"===e.value),e.value){case"equal":o.title=(0,a.pgettext)("block:multi-select","If score equals");break;case"not-equal":o.title=(0,a.pgettext)("block:multi-select","If score not equals");break;case"below":o.title=(0,a.pgettext)("block:multi-select","If score is lower than");break;case"above":o.title=(0,a.pgettext)("block:multi-select","If score is higher than");break;case"between":o.title=(0,a.pgettext)("block:multi-select","If score is between");break;case"not-between":o.title=(0,a.pgettext)("block:multi-select","If score is not between")}}))]});var t=function(t,o,i){var n,l=e[t],r=e.slot,c=new a.Forms.Numeric((0,a.isNumberFinite)(l)?l:0).label((0,a.pgettext)("block:multi-select","Use fixed number")).precision((null==r?void 0:r.precision)||0).digits((null==r?void 0:r.digits)||0).decimalSign((null==r?void 0:r.decimal)||"").thousands(!!(null==r?void 0:r.separator),(null==r?void 0:r.separator)||"").prefix((null==r?void 0:r.prefix)||"").prefixPlural((null==r?void 0:r.prefixPlural)||void 0).suffix((null==r?void 0:r.suffix)||"").suffixPlural((null==r?void 0:r.suffixPlural)||void 0).autoFocus("value"===t).escape(e.editor.close).enter((function(){return("between"!==e.mode&&"not-between"!==e.mode||"to"===t)&&e.editor.close()})).on((function(o){o.isFormVisible&&o.isObservable&&(e[t]=o.value)})),u=(0,a.populateVariables)(e,(function(e){return e instanceof a.Slots.Number||e instanceof a.Slots.Numeric}),(0,a.isString)(l)?l:void 0,!0,null===(n=e.slot)||void 0===n?void 0:n.id),s=new a.Forms.Dropdown(u,(0,a.isString)(l)?l:"").label((0,a.pgettext)("block:multi-select","Use value of")).width("full").on((function(o){o.isFormVisible&&o.isObservable&&(e[t]=o.value||"")}));return e.editor.form({title:o,controls:[new a.Forms.Radiobutton([{label:(0,a.pgettext)("block:multi-select","Number"),value:"number"},{label:(0,a.pgettext)("block:multi-select","Value"),value:"variable",disabled:0===u.length}],(0,a.isString)(l)?"variable":"number").on((function(e){c.visible("number"===e.value),s.visible("variable"===e.value),c.isObservable&&c.focus()})),c,s]}).visible(i)},o=t("value",(0,a.pgettext)("block:multi-select","If score equals"),"defined"!==this.mode&&"undefined"!==this.mode),i=t("to",(0,a.pgettext)("block:multi-select","And"),"between"===this.mode||"not-between"===this.mode)},l([a.definition,(0,a.affects)("#name")],t.prototype,"mode",void 0),l([a.definition,(0,a.affects)("#name")],t.prototype,"value",void 0),l([a.definition,(0,a.affects)("#name")],t.prototype,"to",void 0),l([a.editor],t.prototype,"defineEditor",null),l([(0,a.tripetto)({type:"condition",legacyBlock:!0,context:"@tripetto/block-multi-select",identifier:"".concat("@tripetto/block-multi-select",":score"),version:"2.1.2",icon:r.default,get label(){return(0,a.pgettext)("block:multi-select","Verify score")}})],t)}(a.ConditionBlock);t.ScoreCondition=c},110:function(e,t,o){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=this&&this.__decorate||function(e,t,o,i){var n,l=arguments.length,a=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(l<3?n(a):l>3?n(t,o,a):n(t,o))||a);return l>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.MultiSelect=void 0;var a=o(954),r=o(422),c=o(35),u=o(875),s=o(287),d=o(929),p=o(617),b=o(669),g=o(948),f=o(939),M=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.options=a.Collection.of(r.Option,t),t}return n(t,e),Object.defineProperty(t.prototype,"label",{get:function(){return(0,a.npgettext)("block:multi-select","%2 (%1 option)","%2 (%1 options)",this.options.count,this.type.label)},enumerable:!1,configurable:!0}),t.prototype.defineSlot=function(){this.slots.meta({type:a.Slots.Number,reference:"counter",label:(0,a.pgettext)("block:multi-select","Counter"),exportable:!1,protected:!0}),"concatenate"===this.format||"both"===this.format?this.slots.feature({type:a.Slots.Text,reference:"concatenation",label:(0,a.pgettext)("block:multi-select","Text value"),exportable:this.exportable,alias:this.alias,protected:!0}):this.slots.delete("concatenation","feature")},t.prototype.defineEditor=function(){var e=this;this.editor.name(),this.editor.description(),this.editor.placeholder(),this.editor.explanation();var t=this.editor.collection({collection:this.options,title:(0,a.pgettext)("block:multi-select","Options"),icon:b.default,placeholder:(0,a.pgettext)("block:multi-select","Unnamed option"),sorting:"manual",autoOpen:!0,allowVariables:!0,allowImport:!0,allowExport:!0,allowDedupe:!0,showAliases:!0,markdown:a.Markdown.MarkdownFeatures.Formatting|a.Markdown.MarkdownFeatures.Hyperlinks,indicator:function(e){return e.exclusive&&(0,a.pgettext)("block:multi-select","Exclusive").toUpperCase()||void 0},emptyMessage:(0,a.pgettext)("block:multi-select","Click the + button to add an option...")});this.editor.groups.settings();var o=new a.Forms.Numeric(a.Forms.Numeric.bind(this,"min",void 0)).min(1).max(this.max).visible((0,a.isNumber)(this.min)).indent(32).width(75).on((function(){i.min(e.min||1)})),i=new a.Forms.Numeric(a.Forms.Numeric.bind(this,"max",void 0)).min(this.min||1).visible((0,a.isNumber)(this.max)).indent(32).width(75).on((function(){o.max(e.max)}));this.editor.option({name:(0,a.pgettext)("block:multi-select","Limits"),form:{title:(0,a.pgettext)("block:multi-select","Limits"),controls:[new a.Forms.Checkbox((0,a.pgettext)("block:multi-select","Minimum number of selected options"),(0,a.isNumber)(this.min)).on((function(e){o.visible(e.isChecked)})),o,new a.Forms.Checkbox((0,a.pgettext)("block:multi-select","Maximum number of selected options"),(0,a.isNumber)(this.max)).on((function(e){i.visible(e.isChecked)})),i]},activated:(0,a.isNumber)(this.max)||(0,a.isNumber)(this.min)}),this.editor.option({name:(0,a.pgettext)("block:multi-select","Randomization"),form:{title:(0,a.pgettext)("block:multi-select","Randomization"),controls:[new a.Forms.Checkbox((0,a.pgettext)("block:multi-select","Randomize the options (using [Fisher-Yates shuffle](%1))","https://en.wikipedia.org/wiki/Fisher%E2%80%93Yates_shuffle"),a.Forms.Checkbox.bind(this,"randomize",void 0,!0)).markdown()]},activated:(0,a.isBoolean)(this.randomize)}),this.editor.groups.options(),this.editor.required(this),this.editor.visibility();var n=(0,a.pgettext)("block:multi-select","Selected"),l=(0,a.pgettext)("block:multi-select","Not selected");this.editor.option({name:(0,a.pgettext)("block:multi-select","Labels"),form:{title:(0,a.pgettext)("block:multi-select","Labels"),controls:[new a.Forms.Text("singleline",a.Forms.Text.bind(this,"labelForTrue",void 0)).placeholder(n),new a.Forms.Text("singleline",a.Forms.Text.bind(this,"labelForFalse",void 0)).placeholder(l),new a.Forms.Static((0,a.pgettext)("block:multi-select","These labels will be used in the dataset and override the default values %1 and %2.","**".concat(n,"**"),"**".concat(l,"**"))).markdown()]},activated:(0,a.isString)(this.labelForTrue)||(0,a.isString)(this.labelForFalse)}),this.editor.scores({target:this,collection:t,description:(0,a.pgettext)("block:multi-select","Generates a score based on the selected options. Open the settings panel for each option to set the individual score for that option.")});var r=this.editor.alias(this).disabled("concatenate"!==this.format&&"both"!==this.format),c=new a.Forms.Text("singleline",a.Forms.Text.bind(this,"formatSeparatorCustom",void 0)).visible("custom"===this.formatSeparator).sanitize(!1).width(200).label((0,a.pgettext)("block:multi-select","Use this separator:")),u=new a.Forms.Group([new a.Forms.Dropdown([{label:(0,a.pgettext)("block:multi-select","Comma separated"),value:"comma"},{label:(0,a.pgettext)("block:multi-select","Space separated"),value:"space"},{label:(0,a.pgettext)("block:multi-select","List on multiple lines"),value:"list"},{label:(0,a.pgettext)("block:multi-select","Bulleted list"),value:"bullets"},{label:(0,a.pgettext)("block:multi-select","Numbered list"),value:"numbers"},{label:(0,a.pgettext)("block:multi-select","Language sensitive conjunction (_, _, and _)"),value:"conjunction"},{label:(0,a.pgettext)("block:multi-select","Language sensitive disjunction (_, _, or _)"),value:"disjunction"},{label:(0,a.pgettext)("block:multi-select","Custom separator"),value:"custom"}],a.Forms.Radiobutton.bind(this,"formatSeparator",void 0,"comma")).label((0,a.pgettext)("block:multi-select","How to separate the selected options:")).on((function(e){c.visible("custom"===e.value)})),c]).visible("concatenate"===this.format||"both"===this.format);this.editor.option({name:(0,a.pgettext)("block:multi-select","Data format"),form:{title:(0,a.pgettext)("block:multi-select","Data format"),controls:[new a.Forms.Radiobutton([{label:(0,a.pgettext)("block:multi-select","Every option as a separate field"),description:(0,a.pgettext)("block:multi-select","Every option is included in the dataset as a separate value."),value:"fields"},{label:(0,a.pgettext)("block:multi-select","Text field with a list of all selected options"),description:(0,a.pgettext)("block:multi-select","All the selected options are concatenated to a single string of text separated using a configurable separator."),value:"concatenate"},{label:(0,a.pgettext)("block:multi-select","Both options above"),description:(0,a.pgettext)("block:multi-select","Includes every option in the dataset together with the concatenated text."),value:"both"}],a.Forms.Radiobutton.bind(this,"format",void 0,"fields")).label((0,a.pgettext)("block:multi-select","This setting determines how the data is stored in the dataset:")).on((function(t){u.visible("concatenate"===t.value||"both"===t.value),r.disabled("concatenate"!==e.format&&"both"!==e.format)})),u]},activated:(0,a.isString)(this.format)}),this.editor.exportable(this)},t.prototype.defineConditions=function(){var e=this;this.options.each((function(t){t.name&&e.conditions.template({condition:c.OptionCondition,markdown:t.name,icon:b.default,burst:!0,props:{slot:e.slots.select(t.id),option:t,selected:!0}})})),this.options.count>0&&this.conditions.template({condition:u.NoneCondition,separator:!0});var t=this.slots.select("counter","meta");if(t&&t.label){var o=this.conditions.group(t.label,g.default);(0,a.each)([{mode:"equal",label:(0,a.pgettext)("block:multi-select","Counter is equal to")},{mode:"not-equal",label:(0,a.pgettext)("block:multi-select","Counter is not equal to")},{mode:"below",label:(0,a.pgettext)("block:multi-select","Counter is lower than")},{mode:"above",label:(0,a.pgettext)("block:multi-select","Counter is higher than")},{mode:"between",label:(0,a.pgettext)("block:multi-select","Counter is between")},{mode:"not-between",label:(0,a.pgettext)("block:multi-select","Counter is not between")}],(function(e){o.template({condition:d.CounterCondition,label:e.label,autoOpen:!0,props:{slot:t,mode:e.mode,value:0,to:"between"===e.mode||"not-between"===e.mode?0:void 0}})}))}var i=this.slots.select("score","feature");if(i&&i.label){var n=this.conditions.group(i.label,f.default);(0,a.each)([{mode:"equal",label:(0,a.pgettext)("block:multi-select","Score is equal to")},{mode:"not-equal",label:(0,a.pgettext)("block:multi-select","Score is not equal to")},{mode:"below",label:(0,a.pgettext)("block:multi-select","Score is lower than")},{mode:"above",label:(0,a.pgettext)("block:multi-select","Score is higher than")},{mode:"between",label:(0,a.pgettext)("block:multi-select","Score is between")},{mode:"not-between",label:(0,a.pgettext)("block:multi-select","Score is not between")},{mode:"defined",label:(0,a.pgettext)("block:multi-select","Score is calculated")},{mode:"undefined",label:(0,a.pgettext)("block:multi-select","Score is not calculated")}],(function(e){n.template({condition:s.ScoreCondition,label:e.label,autoOpen:"defined"!==e.mode&&"undefined"!==e.mode,props:{slot:i,mode:e.mode,value:0,to:"between"===e.mode||"not-between"===e.mode?0:void 0}})}))}},l([(0,a.definition)("items"),(0,a.affects)("#name")],t.prototype,"options",void 0),l([(0,a.definition)("boolean","optional"),(0,a.affects)("#required"),(0,a.affects)("#collection","options")],t.prototype,"required",void 0),l([(0,a.definition)("number","optional")],t.prototype,"min",void 0),l([(0,a.definition)("number","optional")],t.prototype,"max",void 0),l([(0,a.definition)("string","optional"),(0,a.affects)("#label"),(0,a.affects)("#slots"),(0,a.affects)("#collection","options")],t.prototype,"alias",void 0),l([(0,a.definition)("boolean","optional"),(0,a.affects)("#slots"),(0,a.affects)("#collection","options")],t.prototype,"exportable",void 0),l([(0,a.definition)("string","optional"),(0,a.affects)("#collection","options")],t.prototype,"labelForTrue",void 0),l([(0,a.definition)("string","optional"),(0,a.affects)("#collection","options")],t.prototype,"labelForFalse",void 0),l([(0,a.definition)("boolean","optional")],t.prototype,"randomize",void 0),l([(0,a.definition)("string","optional"),(0,a.affects)("#slots"),(0,a.affects)("#collection","options")],t.prototype,"format",void 0),l([(0,a.definition)("string","optional")],t.prototype,"formatSeparator",void 0),l([(0,a.definition)("string","optional")],t.prototype,"formatSeparatorCustom",void 0),l([a.slots],t.prototype,"defineSlot",null),l([a.editor],t.prototype,"defineEditor",null),l([a.conditions],t.prototype,"defineConditions",null),l([(0,a.tripetto)({type:"node",legacyBlock:!0,identifier:"@tripetto/block-multi-select",version:"2.1.2",icon:p.default,get label(){return(0,a.pgettext)("block:multi-select","Dropdown (multi-select)")}})],t)}(a.NodeBlock);t.MultiSelect=M},422:function(e,t,o){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=this&&this.__decorate||function(e,t,o,i){var n,l=arguments.length,a=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(l<3?n(a):l>3?n(t,o,a):n(t,o))||a);return l>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.Option=void 0;var a=o(954),r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.name="",t}return n(t,e),t.prototype.defineSlot=function(){var e=this.name&&(0,a.markdownifyToString)(this.name,a.Markdown.MarkdownFeatures.Formatting|a.Markdown.MarkdownFeatures.Hyperlinks)||void 0,t=this.ref.slots.dynamic({type:a.Slots.Boolean,reference:this.id,label:(0,a.pgettext)("block:multi-select","Option"),sequence:this.index,name:e,alias:this.value,required:this.ref.required,exportable:"concatenate"!==this.ref.format&&this.ref.exportable,pipeable:{label:(0,a.pgettext)("block:multi-select","Option"),content:this.name!==e?{string:e||"",markdown:this.name}:"name",alias:this.ref.alias,legacy:"Option"}});t.labelForTrue=this.labelForTrue||this.ref.labelForTrue||(0,a.pgettext)("block:multi-select","Selected"),t.labelForFalse=this.labelForFalse||this.ref.labelForFalse||(0,a.pgettext)("block:multi-select","Not selected")},t.prototype.deleteSlot=function(){this.ref.slots.delete(this.id,"dynamic")},t.prototype.defineEditor=function(){this.editor.option({name:(0,a.pgettext)("block:multi-select","Name"),form:{title:(0,a.pgettext)("block:multi-select","Option name"),controls:[new a.Forms.Text("singleline",a.Forms.Text.bind(this,"name","")).action("@",(0,a.insertVariable)(this)).autoFocus().autoSelect().enter(this.editor.close).escape(this.editor.close)]},locked:!0}),this.editor.option({name:(0,a.pgettext)("block:multi-select","Description"),form:{title:(0,a.pgettext)("block:multi-select","Description"),controls:[new a.Forms.Text("multiline",a.Forms.Text.bind(this,"description",void 0)).action("@",(0,a.insertVariable)(this))]},activated:(0,a.isString)(this.description)}),this.editor.group((0,a.pgettext)("block:multi-select","Options")),this.editor.option({name:(0,a.pgettext)("block:multi-select","Exclusivity"),form:{title:(0,a.pgettext)("block:multi-select","Exclusivity"),controls:[new a.Forms.Checkbox((0,a.pgettext)("block:multi-select","Unselect all other options when selected"),a.Forms.Checkbox.bind(this,"exclusive",void 0,!0))]},activated:(0,a.isBoolean)(this.exclusive)});var e=(0,a.pgettext)("block:multi-select","Selected"),t=(0,a.pgettext)("block:multi-select","Not selected");this.editor.option({name:(0,a.pgettext)("block:multi-select","Labels"),form:{title:(0,a.pgettext)("block:multi-select","Labels"),controls:[new a.Forms.Text("singleline",a.Forms.Text.bind(this,"labelForTrue",void 0)).placeholder(e),new a.Forms.Text("singleline",a.Forms.Text.bind(this,"labelForFalse",void 0)).placeholder(t),new a.Forms.Static((0,a.pgettext)("block:multi-select","These labels will be used in the dataset and override the default values %1 and %2.","**".concat(e,"**"),"**".concat(t,"**"))).markdown()]},activated:(0,a.isString)(this.labelForTrue)||(0,a.isString)(this.labelForFalse)}),this.editor.option({name:(0,a.pgettext)("block:multi-select","Identifier"),form:{title:(0,a.pgettext)("block:multi-select","Identifier"),controls:[new a.Forms.Text("singleline",a.Forms.Text.bind(this,"value",void 0)),new a.Forms.Static((0,a.pgettext)("block:multi-select","If an option identifier is set, this identifier will be used instead of the label."))]},activated:(0,a.isString)(this.value)});var o=this.ref.slots.select("score","feature");this.editor.option({name:(0,a.pgettext)("block:multi-select","Score"),form:{title:(0,a.pgettext)("block:multi-select","Score"),controls:[new a.Forms.Numeric(a.Forms.Numeric.bind(this,"score",void 0)).precision((null==o?void 0:o.precision)||0).digits((null==o?void 0:o.digits)||0).decimalSign((null==o?void 0:o.decimal)||"").thousands(!!(null==o?void 0:o.separator),(null==o?void 0:o.separator)||"").prefix((null==o?void 0:o.prefix)||"").prefixPlural((null==o?void 0:o.prefixPlural)||void 0).suffix((null==o?void 0:o.suffix)||"").suffixPlural((null==o?void 0:o.suffixPlural)||void 0)]},activated:!0,locked:!!o,disabled:!o})},l([(0,a.definition)("string"),a.name],t.prototype,"name",void 0),l([(0,a.definition)("string","optional")],t.prototype,"description",void 0),l([(0,a.definition)("string","optional"),a.alias],t.prototype,"value",void 0),l([(0,a.definition)("string","optional"),(0,a.affects)("#refresh")],t.prototype,"labelForTrue",void 0),l([(0,a.definition)("string","optional"),(0,a.affects)("#refresh")],t.prototype,"labelForFalse",void 0),l([(0,a.definition)("number","optional"),a.score],t.prototype,"score",void 0),l([(0,a.definition)("boolean","optional"),(0,a.affects)("#name")],t.prototype,"exclusive",void 0),l([a.created,a.reordered,a.renamed,a.refreshed],t.prototype,"defineSlot",null),l([a.deleted],t.prototype,"deleteSlot",null),l([a.editor],t.prototype,"defineEditor",null),t}(a.Collection.Item);t.Option=r},537:function(e,t,o){o.r(t),t.default="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCI+PHBhdGggZD0iTTE2LjIzIDMuMzA3Yy0uMzk2LS4yNjgtLjk0OS0uNTA0LTEuNjQzLS43MDJDMTMuMjIxIDIuMjE1IDExLjQxNSAyIDkuNSAycy0zLjcyMi4yMTUtNS4wODcuNjA1Yy0uNjk0LjE5OC0xLjI0Ni40MzQtMS42NDMuNzAyLS42MzcuNDMtLjc3Ljg4Ni0uNzcgMS4xOTNWNWMwIC40MjguMzIxIDEuMTMzLjYzOSAxLjYwOWw0Ljg5MSA3LjMzNmMuMjUxLjM3Ni40NzEgMS4xMDMuNDcxIDEuNTU1djNhLjUuNSAwIDAgMCAuNzI0LjQ0N2wyLTFhLjUuNSAwIDAgMCAuMjc2LS40NDd2LTJjMC0uNDUyLjIyLTEuMTc5LjQ3MS0xLjU1NWw0Ljg5MS03LjMzNmMuMzE3LS40NzYuNjM5LTEuMTgyLjYzOS0xLjYwOXYtLjVjMC0uMzA3LS4xMzQtLjc2My0uNzctMS4xOTN6bS0xMS41NDIuMjZDNS45NjcgMy4yMDIgNy42NzYgMyA5LjUgM3MzLjUzNC4yMDEgNC44MTIuNTY3QzE1LjY5IDMuOTYxIDE2IDQuMzgzIDE2IDQuNXMtLjMxLjU0LTEuNjg4LjkzM0MxMy4wMzMgNS43OTggMTEuMzI0IDYgOS41IDZzLTMuNTM0LS4yMDEtNC44MTItLjU2N0MzLjMxIDUuMDM5IDMgNC42MTcgMyA0LjVzLjMxLS41NCAxLjY4OC0uOTMzem01Ljk1MSA5LjgyNGMtLjM1OC41MzctLjYzOSAxLjQ2NC0uNjM5IDIuMTA5djEuNjkxbC0xIC41VjE1LjVjMC0uNjQ2LS4yODEtMS41NzItLjYzOS0yLjEwOWwtNC44OC03LjMyYy4yNzQuMTE3LjU4NS4yMjYuOTMyLjMyNEM1Ljc3OSA2Ljc4NSA3LjU4NSA3IDkuNSA3czMuNzIyLS4yMTUgNS4wODctLjYwNWMuMzQ2LS4wOTkuNjU4LS4yMDcuOTMyLS4zMjVsLTQuODggNy4zMnoiIGNsYXNzPSJ0cmlwZXR0by1maWxsIi8+PC9zdmc+"},948:function(e,t,o){o.r(t),t.default="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCI+PHBhdGggZD0iTTEwIDMuMDg2VjEuNWEuNS41IDAgMCAwLTEgMHYxLjU4NmMtLjU4Mi4yMDYtMSAuNzYyLTEgMS40MTRDOCA1LjMyNyA4LjY3MyA2IDkuNSA2UzExIDUuMzI3IDExIDQuNWMwLS42NTItLjQxOC0xLjIwOC0xLTEuNDE0ek05LjUgNWEuNS41IDAgMSAxIDAtMSAuNS41IDAgMCAxIDAgMXoiIGNsYXNzPSJ0cmlwZXR0by1maWxsIi8+PHBhdGggZD0iTTE2LjUgMWgtNC4xNzVDMTEuNTUyLjM3NSAxMC41NjkgMCA5LjUgMFM3LjQ0OC4zNzUgNi42NzUgMUgyLjVBMi41MDMgMi41MDMgMCAwIDAgMCAzLjV2MTRDMCAxOC44NzggMS4xMjIgMjAgMi41IDIwaDE0YzEuMzc4IDAgMi41LTEuMTIyIDIuNS0yLjV2LTE0QzE5IDIuMTIyIDE3Ljg3OCAxIDE2LjUgMXptLTcgMGEzLjUwNSAzLjUwNSAwIDAgMSAzLjQ2NCAzSDEyLjVhLjUuNSAwIDAgMCAwIDFoLjQ2NEEzLjUwOCAzLjUwOCAwIDAgMSAxMCA3Ljk2NFY3LjVhLjUuNSAwIDAgMC0xIDB2LjQ2NEEzLjUwOCAzLjUwOCAwIDAgMSA2LjAzNiA1SDYuNWEuNS41IDAgMCAwIDAtMWgtLjQ2NEEzLjUwNSAzLjUwNSAwIDAgMSA5LjUgMXpNMTggMTcuNWMwIC44MjctLjY3MyAxLjUtMS41IDEuNWgtMTRjLS44MjcgMC0xLjUtLjY3My0xLjUtMS41di0xNEMxIDIuNjczIDEuNjczIDIgMi41IDJoMy4yNkE0LjQ3NSA0LjQ3NSAwIDAgMCA1IDQuNUM1IDYuOTgxIDcuMDE5IDkgOS41IDlTMTQgNi45ODEgMTQgNC41YzAtLjkyNC0uMjgtMS43ODQtLjc2LTIuNWgzLjI2Yy44MjcgMCAxLjUuNjczIDEuNSAxLjV2MTR6IiBjbGFzcz0idHJpcGV0dG8tZmlsbCIvPjxwYXRoIGQ9Ik0xNS41IDEzaC00YS41LjUgMCAwIDEgMC0xaDRhLjUuNSAwIDAgMSAwIDF6bTAgMmgtNGEuNS41IDAgMCAxIDAtMWg0YS41LjUgMCAwIDEgMCAxem0wIDJoLTRhLjUuNSAwIDAgMSAwLTFoNGEuNS41IDAgMCAxIDAgMXptLTgtNGgtNGEuNS41IDAgMCAxIDAtMWg0YS41LjUgMCAwIDEgMCAxem04LTJoLTNhLjUuNSAwIDAgMSAwLTFoM2EuNS41IDAgMCAxIDAgMXptLTkgMGgtM2EuNS41IDAgMCAxIDAtMWgzYS41LjUgMCAwIDEgMCAxem0xIDRoLTRhLjUuNSAwIDAgMSAwLTFoNGEuNS41IDAgMCAxIDAgMXptMCAyaC00YS41LjUgMCAwIDEgMC0xaDRhLjUuNSAwIDAgMSAwIDF6IiBjbGFzcz0idHJpcGV0dG8tZmlsbCIvPjwvc3ZnPg=="},617:function(e,t,o){o.r(t),t.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggY2xhc3M9InRyaXBldHRvLWZpbGwiIGQ9Ik0xNC41IDUuNWEuNTAyLjUwMiAwIDAgMS0uMzU0LS4xNDZsLTItMmEuNS41IDAgMCAxIC43MDctLjcwN2wxLjY0NiAxLjY0NiAxLjY0Ni0xLjY0NmEuNS41IDAgMCAxIC43MDcuNzA3bC0yIDJhLjQ5OC40OTggMCAwIDEtLjM1NC4xNDZ6Ii8+PHBhdGggY2xhc3M9InRyaXBldHRvLWZpbGwiIGQ9Ik0xOC41IDBoLTE3Qy42NzMgMCAwIC42NzMgMCAxLjV2NUMwIDcuMzI3LjY3MyA4IDEuNSA4SDR2MTAuNWMwIC44MjcuNjczIDEuNSAxLjUgMS41aDEzYy44MjcgMCAxLjUtLjY3MyAxLjUtMS41di0xN2MwLS44MjctLjY3My0xLjUtMS41LTEuNXpNMSA2LjV2LTVhLjUuNSAwIDAgMSAuNS0uNWgxN2EuNS41IDAgMCAxIC41LjV2NWEuNS41IDAgMCAxLS41LjVoLTE3YS41LjUgMCAwIDEtLjUtLjV6TTE4LjUgMTloLTEzYS41LjUgMCAwIDEtLjUtLjVWOGgxMy41Yy4xNzUgMCAuMzQzLS4wMzEuNS0uMDg2VjE4LjVhLjUuNSAwIDAgMS0uNS41eiIvPjxwYXRoIGNsYXNzPSJ0cmlwZXR0by1maWxsIiBkPSJNNy4yMDggMTEuNTYzYS4yMzcuMjM3IDAgMCAxLS4xNjctLjA2OWwtLjcwNy0uNzA3YS4yMzYuMjM2IDAgMCAxIC4zMzMtLjMzM2wuNTQuNTRMOS4xNjEgOS4wNGEuMjM2LjIzNiAwIDAgMSAuMzMzLjMzNGwtMi4xMiAyLjEyYS4yMzUuMjM1IDAgMCAxLS4xNjcuMDY5em0wIDMuMjQzYS4yMzcuMjM3IDAgMCAxLS4xNjctLjA2OWwtLjcwNy0uNzA3YS4yMzYuMjM2IDAgMCAxIC4zMzMtLjMzM2wuNTQuNTQgMS45NTQtMS45NTRhLjIzNi4yMzYgMCAwIDEgLjMzMy4zMzRsLTIuMTIgMi4xMmEuMjM1LjIzNSAwIDAgMS0uMTY3LjA2OXptMCAzLjA5NmEuMjM3LjIzNyAwIDAgMS0uMTY3LS4wNjlsLS43MDctLjcwN2EuMjM2LjIzNiAwIDAgMSAuMzMzLS4zMzNsLjU0LjU0IDEuOTU0LTEuOTU0YS4yMzYuMjM2IDAgMCAxIC4zMzMuMzM0bC0yLjEyIDIuMTJhLjIzNS4yMzUgMCAwIDEtLjE2Ny4wNjl6Ii8+PHJlY3QgY2xhc3M9InRyaXBldHRvLWZpbGwiIHg9IjEwLjg5IiB5PSI5Ljk5MSIgd2lkdGg9IjYuMiIgaGVpZ2h0PSIxIiByeD0iLjUiIHJ5PSIuNSIvPjxyZWN0IGNsYXNzPSJ0cmlwZXR0by1maWxsIiB4PSIxMC44OSIgeT0iMTMiIHdpZHRoPSI2LjIiIGhlaWdodD0iMSIgcng9Ii41IiByeT0iLjUiLz48cmVjdCBjbGFzcz0idHJpcGV0dG8tZmlsbCIgeD0iMTAuODkiIHk9IjE2IiB3aWR0aD0iNi4yIiBoZWlnaHQ9IjEiIHJ4PSIuNSIgcnk9Ii41Ii8+PC9zdmc+"},489:function(e,t,o){o.r(t),t.default="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCI+PHBhdGggZD0iTTE3LjUgMjBoLTE2Qy42NzMgMjAgMCAxOS4zMjcgMCAxOC41di0xNkMwIDEuNjczLjY3MyAxIDEuNSAxaDE2Yy44MjcgMCAxLjUuNjczIDEuNSAxLjV2MTZjMCAuODI3LS42NzMgMS41LTEuNSAxLjV6TTEuNSAyYS41LjUgMCAwIDAtLjUuNXYxNmEuNS41IDAgMCAwIC41LjVoMTZhLjUuNSAwIDAgMCAuNS0uNXYtMTZhLjUuNSAwIDAgMC0uNS0uNWgtMTZ6IiBjbGFzcz0idHJpcGV0dG8tZmlsbCIvPjwvc3ZnPg=="},939:function(e,t,o){o.r(t),t.default="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCI+PHBhdGggZD0iTTE4LjUgOEgxM1YzLjVhLjUuNSAwIDAgMC0uNS0uNWgtNmEuNS41IDAgMCAwLS41LjVWNkguNWEuNS41IDAgMCAwLS41LjV2MTBhLjUuNSAwIDAgMCAuNS41aDE4YS41LjUgMCAwIDAgLjUtLjV2LThhLjUuNSAwIDAgMC0uNS0uNXpNNyA0aDV2MTJIN1Y0ek0xIDdoNXY5SDFWN3ptMTcgOWgtNVY5aDV2N3oiIGNsYXNzPSJ0cmlwZXR0by1maWxsIi8+PHBhdGggZD0iTTkuNSAxMGEuNS41IDAgMCAxLS41LS41di00YS41LjUgMCAwIDEgMSAwdjRhLjUuNSAwIDAgMS0uNS41em0tNSAzaC0yYS41LjUgMCAwIDEtLjUtLjV2LTJhLjUuNSAwIDAgMSAuNS0uNUg0VjlIMi41YS41LjUgMCAwIDEgMC0xaDJhLjUuNSAwIDAgMSAuNS41djJhLjUuNSAwIDAgMS0uNS41SDN2MWgxLjVhLjUuNSAwIDAgMSAwIDF6bTEyLTNoLTJhLjUuNSAwIDAgMCAwIDFIMTZ2MWgtMS41YS41LjUgMCAwIDAgMCAxSDE2djFoLTEuNWEuNS41IDAgMCAwIDAgMWgyYS41LjUgMCAwIDAgLjUtLjV2LTRhLjUuNSAwIDAgMC0uNS0uNXoiIGNsYXNzPSJ0cmlwZXR0by1maWxsIi8+PC9zdmc+"},669:function(e,t,o){o.r(t),t.default="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCI+PHBhdGggZD0iTTE3LjUgMjBoLTE2Qy42NzMgMjAgMCAxOS4zMjcgMCAxOC41di0xNkMwIDEuNjczLjY3MyAxIDEuNSAxaDE2Yy44MjcgMCAxLjUuNjczIDEuNSAxLjV2MTZjMCAuODI3LS42NzMgMS41LTEuNSAxLjV6TTEuNSAyYS41LjUgMCAwIDAtLjUuNXYxNmEuNS41IDAgMCAwIC41LjVoMTZhLjUuNSAwIDAgMCAuNS0uNXYtMTZhLjUuNSAwIDAgMC0uNS0uNWgtMTZ6IiBjbGFzcz0idHJpcGV0dG8tZmlsbCIvPjxwYXRoIGQ9Ik03LjUgMTQuNWEuNTAyLjUwMiAwIDAgMS0uMzU0LS4xNDZsLTMtM2EuNS41IDAgMCAxIC43MDctLjcwN2wyLjY0NiAyLjY0NiA2LjY0Ni02LjY0NmEuNS41IDAgMCAxIC43MDcuNzA3bC03IDdhLjQ5OC40OTggMCAwIDEtLjM1NC4xNDZ6IiBjbGFzcz0idHJpcGV0dG8tZmlsbCIvPjwvc3ZnPg=="},954:function(e){e.exports=o(975)}},i={};function n(e){var o=i[e];if(void 0!==o)return o.exports;var l=i[e]={exports:{}};return t[e].call(l.exports,l,l.exports,n),l.exports}n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var l=n(110);e.exports=l}()},711:function(e,t,o){!function(){"use strict";var t={874:function(e,t,o){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=this&&this.__decorate||function(e,t,o,i){var n,l=arguments.length,a=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(l<3?n(a):l>3?n(t,o,a):n(t,o))||a);return l>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.Choice=void 0;var a=o(954),r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.name="",t}return n(t,e),t.prototype.defineSlot=function(){if(this.ref.multiple&&!(0,a.isString)(this.url)){var e=this.name&&(0,a.markdownifyToString)(this.name,a.Markdown.MarkdownFeatures.Formatting|a.Markdown.MarkdownFeatures.Hyperlinks)||void 0,t=this.ref.slots.dynamic({type:a.Slots.Boolean,reference:this.id,label:(0,a.pgettext)("block:multiple-choice","Choice"),sequence:this.index,name:e,alias:this.value,required:this.ref.required,exportable:"concatenate"!==this.ref.format&&this.ref.exportable,pipeable:{label:(0,a.pgettext)("block:multiple-choice","Choice"),content:this.moniker?{string:e||"",markdown:this.moniker}:this.name!==e?{string:e||"",markdown:this.name}:"name",alias:this.ref.alias,legacy:"Choice"}});t.labelForTrue=this.labelForTrue||this.ref.labelForTrue||(0,a.pgettext)("block:multiple-choice","Selected"),t.labelForFalse=this.labelForFalse||this.ref.labelForFalse||(0,a.pgettext)("block:multiple-choice","Not selected")}else this.deleteSlot()},t.prototype.deleteSlot=function(){this.ref.slots.delete(this.id,"dynamic")},t.prototype.defineEditor=function(){var e=this;this.editor.option({name:(0,a.pgettext)("block:multiple-choice","Name"),form:{title:(0,a.pgettext)("block:multiple-choice","Choice name"),controls:[new a.Forms.Text("singleline",a.Forms.Text.bind(this,"name","")).action("@",(0,a.insertVariable)(this)).autoFocus().autoSelect().enter(this.editor.close).escape(this.editor.close)]},locked:!0}),this.editor.option({name:(0,a.pgettext)("block:multiple-choice","Description"),form:{title:(0,a.pgettext)("block:multiple-choice","Choice description"),controls:[new a.Forms.Text("singleline",a.Forms.Text.bind(this,"description",void 0)).action("@",(0,a.insertVariable)(this))]},activated:(0,a.isString)(this.description)}),this.editor.group((0,a.pgettext)("block:multiple-choice","Options"));var t=new a.Forms.Checkbox((0,a.pgettext)("block:multiple-choice","Open in new tab/window"),"self"!==this.target).on((function(t){e.target=t.isFeatureEnabled&&!t.isDisabled?t.isChecked?"blank":"self":void 0}));this.editor.option({name:(0,a.pgettext)("block:multiple-choice","URL"),form:{title:(0,a.pgettext)("block:multiple-choice","URL"),controls:[new a.Forms.Text("singleline",a.Forms.Text.bind(this,"url",void 0)).placeholder("https://").action("@",(0,a.insertVariable)(this)).autoValidate((function(e){return""===e.value?"unknown":a.REGEX_IS_URL.test(e.value)||(0===e.value.indexOf("mailto:")||0===e.value.indexOf("tel:"))&&e.value.length>10?"pass":"fail"})).on((function(e){t.isDisabled=0===e.value.indexOf("mailto:")||0===e.value.indexOf("tel:")})),t,new a.Forms.Static((0,a.pgettext)("block:multiple-choice","If a URL is set, clicking the choice will open it. The choice cannot be selected as answer."))]},activated:(0,a.isString)(this.url),on:function(t){o.disabled(t.isActivated),c.disabled(t.isActivated),i.disabled(t.isActivated||!e.ref.multiple),r.disabled(t.isActivated||!e.ref.multiple)}});var o=this.editor.option({name:(0,a.pgettext)("block:multiple-choice","Moniker"),form:{title:(0,a.pgettext)("block:multiple-choice","Choice moniker"),controls:[new a.Forms.Text("singleline",a.Forms.Text.bind(this,"moniker",void 0)).action("@",(0,a.insertVariable)(this)),new a.Forms.Static((0,a.pgettext)("block:multiple-choice","If a moniker is set, this moniker will be used when referred to this choice."))]},activated:(0,a.isString)(this.moniker),disabled:(0,a.isString)(this.url)});this.editor.option({name:(0,a.pgettext)("block:multiple-choice","Color"),form:{title:(0,a.pgettext)("block:multiple-choice","Choice color"),controls:[new a.Forms.ColorPicker(a.Forms.ColorPicker.bind(this,"color",void 0)).placeholder((0,a.pgettext)("block:multiple-choice","Select an alternative color for this choice")).swatches(!1,!0),new a.Forms.Static((0,a.pgettext)("block:multiple-choice","Here you can specify an alternative color for the choice button."))]},activated:(0,a.isString)(this.color)});var i=this.editor.option({name:(0,a.pgettext)("block:multiple-choice","Exclusivity"),form:{title:(0,a.pgettext)("block:multiple-choice","Choice exclusivity"),controls:[new a.Forms.Checkbox((0,a.pgettext)("block:multiple-choice","Unselect all other selected choices when selected"),a.Forms.Checkbox.bind(this,"exclusive",void 0,!0))]},activated:this.ref.multiple&&!(0,a.isString)(this.url)&&(0,a.isBoolean)(this.exclusive)||!1,disabled:!this.ref.multiple||(0,a.isString)(this.url)}),n=(0,a.pgettext)("block:multiple-choice","Selected"),l=(0,a.pgettext)("block:multiple-choice","Not selected"),r=this.editor.option({name:(0,a.pgettext)("block:multiple-choice","Labels"),form:{title:(0,a.pgettext)("block:multiple-choice","Labels"),controls:[new a.Forms.Text("singleline",a.Forms.Text.bind(this,"labelForTrue",void 0)).placeholder(n),new a.Forms.Text("singleline",a.Forms.Text.bind(this,"labelForFalse",void 0)).placeholder(l),new a.Forms.Static((0,a.pgettext)("block:multiple-choice","These labels will be used in the dataset and override the default values %1 and %2.","**".concat(n,"**"),"**".concat(l,"**"))).markdown()]},activated:(0,a.isString)(this.labelForTrue)||(0,a.isString)(this.labelForFalse),disabled:!this.ref.multiple||(0,a.isString)(this.url)}),c=this.editor.option({name:(0,a.pgettext)("block:multiple-choice","Identifier"),form:{title:(0,a.pgettext)("block:multiple-choice","Choice identifier"),controls:[new a.Forms.Text("singleline",a.Forms.Text.bind(this,"value",void 0)),new a.Forms.Static((0,a.pgettext)("block:multiple-choice","If a choice identifier is set, this identifier will be used instead of the label."))]},activated:(0,a.isString)(this.value),disabled:(0,a.isString)(this.url)}),u=this.ref.slots.select("score","feature");this.editor.option({name:(0,a.pgettext)("block:multiple-choice","Score"),form:{title:(0,a.pgettext)("block:multiple-choice","Score"),controls:[new a.Forms.Numeric(a.Forms.Numeric.bind(this,"score",void 0)).precision((null==u?void 0:u.precision)||0).digits((null==u?void 0:u.digits)||0).decimalSign((null==u?void 0:u.decimal)||"").thousands(!!(null==u?void 0:u.separator),(null==u?void 0:u.separator)||"").prefix((null==u?void 0:u.prefix)||"").prefixPlural((null==u?void 0:u.prefixPlural)||void 0).suffix((null==u?void 0:u.suffix)||"").suffixPlural((null==u?void 0:u.suffixPlural)||void 0)]},activated:!0,locked:!!u,disabled:!u})},l([(0,a.definition)("string"),a.name],t.prototype,"name",void 0),l([(0,a.definition)("string","optional")],t.prototype,"description",void 0),l([(0,a.definition)("string","optional"),(0,a.affects)("#refresh")],t.prototype,"url",void 0),l([(0,a.definition)("string","optional")],t.prototype,"target",void 0),l([(0,a.definition)("string","optional"),(0,a.affects)("#refresh")],t.prototype,"moniker",void 0),l([(0,a.definition)("string","optional"),a.alias],t.prototype,"value",void 0),l([(0,a.definition)("string","optional"),(0,a.affects)("#refresh")],t.prototype,"labelForTrue",void 0),l([(0,a.definition)("string","optional"),(0,a.affects)("#refresh")],t.prototype,"labelForFalse",void 0),l([(0,a.definition)("number","optional"),a.score],t.prototype,"score",void 0),l([(0,a.definition)("boolean","optional"),(0,a.affects)("#name")],t.prototype,"exclusive",void 0),l([(0,a.definition)("string","optional")],t.prototype,"color",void 0),l([a.created,a.reordered,a.renamed,a.refreshed],t.prototype,"defineSlot",null),l([a.deleted],t.prototype,"deleteSlot",null),l([a.editor],t.prototype,"defineEditor",null),t}(a.Collection.Item);t.Choice=r},282:function(e,t,o){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=this&&this.__decorate||function(e,t,o,i){var n,l=arguments.length,a=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(l<3?n(a):l>3?n(t,o,a):n(t,o))||a);return l>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.MultipleChoiceCondition=void 0;var a=o(954),r=o(110),c=o(537),u=o(843),s=o(481),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),Object.defineProperty(t.prototype,"icon",{get:function(){var e,t;return(null===(e=this.node)||void 0===e?void 0:e.block)instanceof r.MultipleChoice&&(null===(t=this.node)||void 0===t?void 0:t.block.multiple)?s.default:u.default},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){var e;return(null===(e=this.choice)||void 0===e?void 0:e.name)||this.type.label},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"label",{get:function(){var e;return(null===(e=this.node)||void 0===e?void 0:e.block)instanceof r.MultipleChoice&&(this.node.block.alias||this.node.label)||""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"choices",{get:function(){return this.node&&this.node.block instanceof r.MultipleChoice&&this.node.block.choices||void 0},enumerable:!1,configurable:!0}),t.prototype.migrate=function(){var e,t=this;if(this.choice&&(null===(e=this.node)||void 0===e?void 0:e.block)instanceof r.MultipleChoice){var o=this.node.block.slots,i=this.node.block.multiple?this.choice.id:"choice";return function(){var e;return(null===(e=t.node)||void 0===e?void 0:e.block)instanceof r.MultipleChoice&&(t.slot=o.select(i),!0)}}},t.prototype.defineEditor=function(){if(this.node&&this.choices){var e=[];this.choices.each((function(t){(0,a.isFilledString)(t.name)&&e.push({label:(0,a.markdownifyToString)(t.name),value:t})})),(0,a.arraySize)(e)>0&&this.editor.form({title:this.node.label,controls:[new a.Forms.Dropdown(e,a.Forms.Dropdown.bind(this,"choice",void 0))]})}},l([(0,a.affects)("#condition"),(0,a.collection)("#choices")],t.prototype,"choice",void 0),l([(0,a.detached)("slot")],t.prototype,"migrate",null),l([a.editor],t.prototype,"defineEditor",null),l([(0,a.tripetto)({type:"condition",legacyBlock:!0,context:"@tripetto/block-multiple-choice",identifier:"@tripetto/block-multiple-choice",version:"7.0.1",alias:"multiple-choice",icon:c.default,get label(){return(0,a.pgettext)("block:multiple-choice","Choice")}})],t)}(a.ConditionBlock);t.MultipleChoiceCondition=d},929:function(e,t,o){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=this&&this.__decorate||function(e,t,o,i){var n,l=arguments.length,a=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(l<3?n(a):l>3?n(t,o,a):n(t,o))||a);return l>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.CounterCondition=void 0;var a=o(954),r=o(948),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.allowMarkdown=!0,t.mode="equal",t}return n(t,e),Object.defineProperty(t.prototype,"label",{get:function(){return""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){var e=this.slot;if(e instanceof a.Slots.Number){var t=this.parse(e,this.value);switch(this.mode){case"between":return"".concat(t," ≤ @").concat(e.id," ≤ ").concat(this.parse(e,this.to));case"not-between":return"@".concat(e.id," < ").concat(t," ").concat((0,a.pgettext)("block:multiple-choice","or")," @").concat(e.id," > ").concat(this.parse(e,this.to));case"not-equal":return"@".concat(e.id," ≠ ").concat(t);case"above":case"below":case"equal":return"@".concat(e.id," ").concat("above"===this.mode?">":"below"===this.mode?"<":"="," ").concat(t)}}return this.type.label},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){var e,t;return(null===(e=this.slot)||void 0===e?void 0:e.label)||(null===(t=this.node)||void 0===t?void 0:t.label)},enumerable:!1,configurable:!0}),t.prototype.parse=function(e,t){var o;return(0,a.isNumberFinite)(t)?e.toString(t,(function(e){return a.L10n.locale.number(e,0,!1)})):(0,a.isString)(t)&&t&&(null===(o=(0,a.lookupVariable)(this,t))||void 0===o?void 0:o.label)?"@".concat(t):"\\_\\_"},t.prototype.defineEditor=function(){var e=this;this.editor.form({title:(0,a.pgettext)("block:multiple-choice","Compare mode"),controls:[new a.Forms.Radiobutton([{label:(0,a.pgettext)("block:multiple-choice","Counter is equal to"),value:"equal"},{label:(0,a.pgettext)("block:multiple-choice","Counter is not equal to"),value:"not-equal"},{label:(0,a.pgettext)("block:multiple-choice","Counter is lower than"),value:"below"},{label:(0,a.pgettext)("block:multiple-choice","Counter is higher than"),value:"above"},{label:(0,a.pgettext)("block:multiple-choice","Counter is between"),value:"between"},{label:(0,a.pgettext)("block:multiple-choice","Counter is not between"),value:"not-between"}],a.Forms.Radiobutton.bind(this,"mode","equal")).on((function(e){switch(i.visible("between"===e.value||"not-between"===e.value),e.value){case"equal":o.title=(0,a.pgettext)("block:multiple-choice","If counter equals");break;case"not-equal":o.title=(0,a.pgettext)("block:multiple-choice","If counter not equals");break;case"below":o.title=(0,a.pgettext)("block:multiple-choice","If counter is lower than");break;case"above":o.title=(0,a.pgettext)("block:multiple-choice","If counter is higher than");break;case"between":o.title=(0,a.pgettext)("block:multiple-choice","If counter is between");break;case"not-between":o.title=(0,a.pgettext)("block:multiple-choice","If counter is not between")}}))]});var t=function(t,o){var i,n=e[t],l=new a.Forms.Numeric((0,a.isNumberFinite)(n)?n:0).label((0,a.pgettext)("block:multiple-choice","Use fixed number")).autoFocus("value"===t).escape(e.editor.close).enter((function(){return("between"!==e.mode&&"not-between"!==e.mode||"to"===t)&&e.editor.close()})).on((function(o){o.isFormVisible&&o.isObservable&&(e[t]=o.value)})),r=(0,a.populateVariables)(e,(function(e){return e instanceof a.Slots.Number||e instanceof a.Slots.Numeric}),(0,a.isString)(n)?n:void 0,!0,null===(i=e.slot)||void 0===i?void 0:i.id),c=new a.Forms.Dropdown(r,(0,a.isString)(n)?n:"").label((0,a.pgettext)("block:multiple-choice","Use value of")).width("full").on((function(o){o.isFormVisible&&o.isObservable&&(e[t]=o.value||"")}));return e.editor.form({title:o,controls:[new a.Forms.Radiobutton([{label:(0,a.pgettext)("block:multiple-choice","Number"),value:"number"},{label:(0,a.pgettext)("block:multiple-choice","Value"),value:"variable",disabled:0===r.length}],(0,a.isString)(n)?"variable":"number").on((function(e){l.visible("number"===e.value),c.visible("variable"===e.value),l.isObservable&&l.focus()})),l,c]})},o=t("value",(0,a.pgettext)("block:multiple-choice","If counter equals")),i=t("to",(0,a.pgettext)("block:multiple-choice","And"))},l([a.definition,(0,a.affects)("#name")],t.prototype,"mode",void 0),l([a.definition,(0,a.affects)("#name")],t.prototype,"value",void 0),l([a.definition,(0,a.affects)("#name")],t.prototype,"to",void 0),l([a.editor],t.prototype,"defineEditor",null),l([(0,a.tripetto)({type:"condition",legacyBlock:!0,context:"@tripetto/block-multiple-choice",identifier:"".concat("@tripetto/block-multiple-choice",":counter"),version:"7.0.1",icon:r.default,get label(){return(0,a.pgettext)("block:multiple-choice","Verify counter")}})],t)}(a.ConditionBlock);t.CounterCondition=c},287:function(e,t,o){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=this&&this.__decorate||function(e,t,o,i){var n,l=arguments.length,a=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(l<3?n(a):l>3?n(t,o,a):n(t,o))||a);return l>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.ScoreCondition=void 0;var a=o(954),r=o(939),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.allowMarkdown=!0,t.mode="equal",t}return n(t,e),Object.defineProperty(t.prototype,"label",{get:function(){return""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){var e=this.slot;if(e instanceof a.Slots.Numeric){var t=this.parse(e,this.value);switch(this.mode){case"between":return"".concat(t," ≤ @").concat(e.id," ≤ ").concat(this.parse(e,this.to));case"not-between":return"@".concat(e.id," < ").concat(t," ").concat((0,a.pgettext)("block:multiple-choice","or")," @").concat(e.id," > ").concat(this.parse(e,this.to));case"defined":return"@".concat(e.id," ").concat((0,a.pgettext)("block:multiple-choice","calculated"));case"undefined":return"@".concat(e.id," ").concat((0,a.pgettext)("block:multiple-choice","not calculated"));case"not-equal":return"@".concat(e.id," ≠ ").concat(t);case"above":case"below":case"equal":return"@".concat(e.id," ").concat("above"===this.mode?">":"below"===this.mode?"<":"="," ").concat(t)}}return this.type.label},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){var e,t;return(null===(e=this.slot)||void 0===e?void 0:e.label)||(null===(t=this.node)||void 0===t?void 0:t.label)},enumerable:!1,configurable:!0}),t.prototype.parse=function(e,t){var o;return(0,a.isNumberFinite)(t)?e.toString(t,(function(e,t){return a.L10n.locale.number(e,t,!1)})):(0,a.isString)(t)&&t&&(null===(o=(0,a.lookupVariable)(this,t))||void 0===o?void 0:o.label)?"@".concat(t):"\\_\\_"},t.prototype.defineEditor=function(){var e=this;this.editor.form({title:(0,a.pgettext)("block:multiple-choice","Compare mode"),controls:[new a.Forms.Radiobutton([{label:(0,a.pgettext)("block:multiple-choice","Score is equal to"),value:"equal"},{label:(0,a.pgettext)("block:multiple-choice","Score is not equal to"),value:"not-equal"},{label:(0,a.pgettext)("block:multiple-choice","Score is lower than"),value:"below"},{label:(0,a.pgettext)("block:multiple-choice","Score is higher than"),value:"above"},{label:(0,a.pgettext)("block:multiple-choice","Score is between"),value:"between"},{label:(0,a.pgettext)("block:multiple-choice","Score is not between"),value:"not-between"},{label:(0,a.pgettext)("block:multiple-choice","Score is calculated"),value:"defined"},{label:(0,a.pgettext)("block:multiple-choice","Score is not calculated"),value:"undefined"}],a.Forms.Radiobutton.bind(this,"mode","equal")).on((function(e){switch(o.visible("defined"!==e.value&&"undefined"!==e.value),i.visible("between"===e.value||"not-between"===e.value),e.value){case"equal":o.title=(0,a.pgettext)("block:multiple-choice","If score equals");break;case"not-equal":o.title=(0,a.pgettext)("block:multiple-choice","If score not equals");break;case"below":o.title=(0,a.pgettext)("block:multiple-choice","If score is lower than");break;case"above":o.title=(0,a.pgettext)("block:multiple-choice","If score is higher than");break;case"between":o.title=(0,a.pgettext)("block:multiple-choice","If score is between");break;case"not-between":o.title=(0,a.pgettext)("block:multiple-choice","If score is not between")}}))]});var t=function(t,o,i){var n,l=e[t],r=e.slot,c=new a.Forms.Numeric((0,a.isNumberFinite)(l)?l:0).label((0,a.pgettext)("block:multiple-choice","Use fixed number")).precision((null==r?void 0:r.precision)||0).digits((null==r?void 0:r.digits)||0).decimalSign((null==r?void 0:r.decimal)||"").thousands(!!(null==r?void 0:r.separator),(null==r?void 0:r.separator)||"").prefix((null==r?void 0:r.prefix)||"").prefixPlural((null==r?void 0:r.prefixPlural)||void 0).suffix((null==r?void 0:r.suffix)||"").suffixPlural((null==r?void 0:r.suffixPlural)||void 0).autoFocus("value"===t).escape(e.editor.close).enter((function(){return("between"!==e.mode&&"not-between"!==e.mode||"to"===t)&&e.editor.close()})).on((function(o){o.isFormVisible&&o.isObservable&&(e[t]=o.value)})),u=(0,a.populateVariables)(e,(function(e){return e instanceof a.Slots.Number||e instanceof a.Slots.Numeric}),(0,a.isString)(l)?l:void 0,!0,null===(n=e.slot)||void 0===n?void 0:n.id),s=new a.Forms.Dropdown(u,(0,a.isString)(l)?l:"").label((0,a.pgettext)("block:multiple-choice","Use value of")).width("full").on((function(o){o.isFormVisible&&o.isObservable&&(e[t]=o.value||"")}));return e.editor.form({title:o,controls:[new a.Forms.Radiobutton([{label:(0,a.pgettext)("block:multiple-choice","Number"),value:"number"},{label:(0,a.pgettext)("block:multiple-choice","Value"),value:"variable",disabled:0===u.length}],(0,a.isString)(l)?"variable":"number").on((function(e){c.visible("number"===e.value),s.visible("variable"===e.value),c.isObservable&&c.focus()})),c,s]}).visible(i)},o=t("value",(0,a.pgettext)("block:multiple-choice","If score equals"),"defined"!==this.mode&&"undefined"!==this.mode),i=t("to",(0,a.pgettext)("block:multiple-choice","And"),"between"===this.mode||"not-between"===this.mode)},l([a.definition,(0,a.affects)("#name")],t.prototype,"mode",void 0),l([a.definition,(0,a.affects)("#name")],t.prototype,"value",void 0),l([a.definition,(0,a.affects)("#name")],t.prototype,"to",void 0),l([a.editor],t.prototype,"defineEditor",null),l([(0,a.tripetto)({type:"condition",legacyBlock:!0,context:"@tripetto/block-multiple-choice",identifier:"".concat("@tripetto/block-multiple-choice",":score"),version:"7.0.1",icon:r.default,get label(){return(0,a.pgettext)("block:multiple-choice","Verify score")}})],t)}(a.ConditionBlock);t.ScoreCondition=c},124:function(e,t,o){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=this&&this.__decorate||function(e,t,o,i){var n,l=arguments.length,a=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(l<3?n(a):l>3?n(t,o,a):n(t,o))||a);return l>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.MultipleChoiceUndefinedCondition=void 0;var a=o(954),r=o(417),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),l([(0,a.tripetto)({type:"condition",legacyBlock:!0,context:"@tripetto/block-multiple-choice",identifier:"".concat("@tripetto/block-multiple-choice",":undefined"),version:"7.0.1",icon:r.default,get label(){return(0,a.pgettext)("block:multiple-choice","No choice made")}})],t)}(a.ConditionBlock);t.MultipleChoiceUndefinedCondition=c},110:function(e,t,o){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=this&&this.__decorate||function(e,t,o,i){var n,l=arguments.length,a=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(l<3?n(a):l>3?n(t,o,a):n(t,o))||a);return l>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.MultipleChoice=void 0;var a=o(954),r=o(874),c=o(282),u=o(124),s=o(287),d=o(929),p=o(617),b=o(843),g=o(481),f=o(948),M=o(939),h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.choices=a.Collection.of(r.Choice,t),t}return n(t,e),Object.defineProperty(t.prototype,"label",{get:function(){return(0,a.npgettext)("block:multiple-choice","%2 (%1 option)","%2 (%1 options)",this.choices.count,this.type.label)},enumerable:!1,configurable:!0}),t.prototype.defineSlot=function(){this.multiple?(this.slots.delete("choice","static"),this.slots.meta({type:a.Slots.Number,reference:"counter",label:(0,a.pgettext)("block:multiple-choice","Counter"),exportable:!1,protected:!0}),"concatenate"===this.format||"both"===this.format?this.slots.feature({type:a.Slots.Text,reference:"concatenation",label:(0,a.pgettext)("block:multiple-choice","Text value"),exportable:this.exportable,alias:this.alias,protected:!0}):this.slots.delete("concatenation","feature")):(this.slots.delete("counter","meta"),this.slots.delete("concatenation","feature"),this.slots.static({type:a.Slots.String,reference:"choice",label:(0,a.pgettext)("block:multiple-choice","Choice"),alias:this.alias,required:this.required,exportable:this.exportable,exchange:["alias","required","exportable"]}))},t.prototype.defineEditor=function(){var e=this;this.editor.name(!0,!0),this.editor.option({name:(0,a.pgettext)("block:multiple-choice","Caption"),form:{title:(0,a.pgettext)("block:multiple-choice","Caption"),controls:[new a.Forms.Text("multiline",a.Forms.Text.bind(this,"caption",void 0)).placeholder((0,a.pgettext)("block:multiple-choice","Type caption text here...")).action("@",(0,a.insertVariable)(this))]},activated:(0,a.isString)(this.caption)}),this.editor.description(),this.editor.option({name:(0,a.pgettext)("block:multiple-choice","Image"),form:{title:(0,a.pgettext)("block:multiple-choice","Image"),controls:[new a.Forms.Text("singleline",a.Forms.Text.bind(this,"imageURL",void 0)).label((0,a.pgettext)("block:multiple-choice","Image source URL")).inputMode("url").placeholder("https://").action("@",(0,a.insertVariable)(this)).autoValidate((function(e){return""===e.value?"unknown":a.REGEX_IS_URL.test(e.value)||e.value.length>23&&0===e.value.indexOf("data:image/jpeg;base64,")||e.value.length>22&&0===e.value.indexOf("data:image/png;base64,")||e.value.length>22&&0===e.value.indexOf("data:image/svg;base64,")||e.value.length>22&&0===e.value.indexOf("data:image/gif;base64,")||e.value.length>1&&"/"===e.value.charAt(0)?"pass":"fail"})),new a.Forms.Text("singleline",a.Forms.Checkbox.bind(this,"imageWidth",void 0)).label((0,a.pgettext)("block:multiple-choice","Image width (optional)")).width(100).align("center"),new a.Forms.Checkbox((0,a.pgettext)("block:multiple-choice","Display image on top of the paragraph"),a.Forms.Checkbox.bind(this,"imageAboveText",void 0))]},activated:(0,a.isString)(this.imageURL)}),this.editor.explanation();var t=this.editor.collection({collection:this.choices,title:(0,a.pgettext)("block:multiple-choice","Choices"),placeholder:(0,a.pgettext)("block:multiple-choice","Unnamed choice"),icon:this.multiple?g.default:b.default,autoOpen:!0,allowVariables:!0,allowImport:!0,allowExport:!0,allowDedupe:!0,showAliases:!0,markdown:a.Markdown.MarkdownFeatures.Formatting|a.Markdown.MarkdownFeatures.Hyperlinks,sorting:"manual",indicator:function(t){return e.multiple&&t.exclusive&&(0,a.pgettext)("block:multiple-choice","Exclusive").toUpperCase()||void 0},emptyMessage:(0,a.pgettext)("block:multiple-choice","Click the + button to add a choice...")});this.editor.groups.settings(),this.editor.option({name:(0,a.pgettext)("block:multiple-choice","Multiple select"),form:{title:(0,a.pgettext)("block:multiple-choice","Multiple select"),controls:[new a.Forms.Checkbox((0,a.pgettext)("block:multiple-choice","Allow the selection of multiple choices"),a.Forms.Checkbox.bind(this,"multiple",void 0,!0)).on((function(){n.disabled(!e.multiple),c.disabled(!e.multiple),p.disabled(!e.multiple),u.disabled(e.multiple&&"concatenate"!==e.format&&"both"!==e.format||!1),t.icon=e.multiple?g.default:b.default,e.choices.each((function(e){!0===e.exclusive&&e.refresh("name")}))}))]},activated:(0,a.isBoolean)(this.multiple)});var o=new a.Forms.Numeric(a.Forms.Numeric.bind(this,"min",void 0)).min(1).max(this.max).visible((0,a.isNumber)(this.min)).indent(32).width(75).on((function(){i.min(e.min||1)})),i=new a.Forms.Numeric(a.Forms.Numeric.bind(this,"max",void 0)).min(this.min||1).visible((0,a.isNumber)(this.max)).indent(32).width(75).on((function(){o.max(e.max)})),n=this.editor.option({name:(0,a.pgettext)("block:multiple-choice","Limits"),form:{title:(0,a.pgettext)("block:multiple-choice","Limits"),controls:[new a.Forms.Checkbox((0,a.pgettext)("block:multiple-choice","Minimum number of selected choices"),(0,a.isNumber)(this.min)).on((function(e){o.visible(e.isChecked)})),o,new a.Forms.Checkbox((0,a.pgettext)("block:multiple-choice","Maximum number of selected choices"),(0,a.isNumber)(this.max)).on((function(e){i.visible(e.isChecked)})),i]},activated:(0,a.isNumber)(this.max)||(0,a.isNumber)(this.min),disabled:!this.multiple});this.editor.option({name:(0,a.pgettext)("block:multiple-choice","Randomization"),form:{title:(0,a.pgettext)("block:multiple-choice","Randomization"),controls:[new a.Forms.Checkbox((0,a.pgettext)("block:multiple-choice","Randomize the choices (using [Fisher-Yates shuffle](%1))","https://en.wikipedia.org/wiki/Fisher%E2%80%93Yates_shuffle"),a.Forms.Checkbox.bind(this,"randomize",void 0,!0)).markdown()]},activated:(0,a.isBoolean)(this.randomize)}),this.editor.option({name:(0,a.pgettext)("block:multiple-choice","Alignment"),form:{title:(0,a.pgettext)("block:multiple-choice","Alignment"),controls:[new a.Forms.Radiobutton([{label:(0,a.pgettext)("block:multiple-choice","Vertical - Variable width"),description:(0,a.pgettext)("block:multiple-choice","Display choices vertically (top-down). All choices have their own width."),value:!1},{label:(0,a.pgettext)("block:multiple-choice","Vertical - Equal width"),description:(0,a.pgettext)("block:multiple-choice","Display choices vertically (top-down). All choices have equal widths, determined by the widest choice."),value:"equal"},{label:(0,a.pgettext)("block:multiple-choice","Vertical - Full width"),description:(0,a.pgettext)("block:multiple-choice","Display choices vertically (top-down). All choices have 100% widths, with text centered."),value:"full"},{label:(0,a.pgettext)("block:multiple-choice","Columns"),description:(0,a.pgettext)("block:multiple-choice","Display choices in two columns. All choices have 100% widths inside their column. Both columns have 50% width."),value:"columns"},{label:(0,a.pgettext)("block:multiple-choice","Horizontal"),description:(0,a.pgettext)("block:multiple-choice","Display choices from left to right. All choices have their own width."),value:!0}],a.Forms.Radiobutton.bind(this,"alignment",void 0))]},activated:(0,a.isBoolean)(this.alignment)||"equal"===this.alignment||"full"===this.alignment||"columns"===this.alignment}),this.editor.groups.options(),this.editor.required(this),this.editor.visibility();var l=(0,a.pgettext)("block:multiple-choice","Selected"),r=(0,a.pgettext)("block:multiple-choice","Not selected"),c=this.editor.option({name:(0,a.pgettext)("block:multiple-choice","Labels"),form:{title:(0,a.pgettext)("block:multiple-choice","Labels"),controls:[new a.Forms.Text("singleline",a.Forms.Text.bind(this,"labelForTrue",void 0)).placeholder(l),new a.Forms.Text("singleline",a.Forms.Text.bind(this,"labelForFalse",void 0)).placeholder(r),new a.Forms.Static((0,a.pgettext)("block:multiple-choice","These labels will be used in the dataset and override the default values %1 and %2.","**".concat(l,"**"),"**".concat(r,"**"))).markdown()]},activated:(0,a.isString)(this.labelForTrue)||(0,a.isString)(this.labelForFalse),disabled:!this.multiple});this.editor.scores({target:this,collection:t,description:(0,a.pgettext)("block:multiple-choice","Generates a score based on the selected choices. Open the settings panel for each choice to set the individual score for that choice.")});var u=this.editor.alias(this).disabled(this.multiple&&"concatenate"!==this.format&&"both"!==this.format||!1),s=new a.Forms.Text("singleline",a.Forms.Text.bind(this,"formatSeparatorCustom",void 0)).visible("custom"===this.formatSeparator).sanitize(!1).width(200).label((0,a.pgettext)("block:multiple-choice","Use this separator:")),d=new a.Forms.Group([new a.Forms.Dropdown([{label:(0,a.pgettext)("block:multiple-choice","Comma separated"),value:"comma"},{label:(0,a.pgettext)("block:multiple-choice","Space separated"),value:"space"},{label:(0,a.pgettext)("block:multiple-choice","List on multiple lines"),value:"list"},{label:(0,a.pgettext)("block:multiple-choice","Bulleted list"),value:"bullets"},{label:(0,a.pgettext)("block:multiple-choice","Numbered list"),value:"numbers"},{label:(0,a.pgettext)("block:multiple-choice","Language sensitive conjunction (_, _, and _)"),value:"conjunction"},{label:(0,a.pgettext)("block:multiple-choice","Language sensitive disjunction (_, _, or _)"),value:"disjunction"},{label:(0,a.pgettext)("block:multiple-choice","Custom separator"),value:"custom"}],a.Forms.Radiobutton.bind(this,"formatSeparator",void 0,"comma")).label((0,a.pgettext)("block:multiple-choice","How to separate the selected choices:")).on((function(e){s.visible("custom"===e.value)})),s]).visible("concatenate"===this.format||"both"===this.format),p=this.editor.option({name:(0,a.pgettext)("block:multiple-choice","Data format"),form:{title:(0,a.pgettext)("block:multiple-choice","Data format"),controls:[new a.Forms.Radiobutton([{label:(0,a.pgettext)("block:multiple-choice","Every choice as a separate field"),description:(0,a.pgettext)("block:multiple-choice","Every choice is included in the dataset as a separate value."),value:"fields"},{label:(0,a.pgettext)("block:multiple-choice","Text field with a list of all selected choices"),description:(0,a.pgettext)("block:multiple-choice","All the selected choices are concatenated to a single string of text separated using a configurable separator."),value:"concatenate"},{label:(0,a.pgettext)("block:multiple-choice","Both options above"),description:(0,a.pgettext)("block:multiple-choice","Includes every choice in the dataset together with the concatenated text."),value:"both"}],a.Forms.Radiobutton.bind(this,"format",void 0,"fields")).label((0,a.pgettext)("block:multiple-choice","This setting determines how the data is stored in the dataset:")).on((function(t){d.visible("concatenate"===t.value||"both"===t.value),u.disabled(e.multiple&&"concatenate"!==e.format&&"both"!==e.format||!1)})),d]},activated:(0,a.isString)(this.format),disabled:!this.multiple});this.editor.exportable(this)},t.prototype.defineConditions=function(){var e=this;this.choices.each((function(t){t.name&&!(0,a.isString)(t.url)&&e.conditions.template({condition:c.MultipleChoiceCondition,label:t.name,icon:e.multiple?g.default:b.default,burst:"branch",props:{choice:t,slot:e.slots.select(e.multiple?t.id:"choice")}})})),this.choices.count>0&&this.conditions.template({condition:u.MultipleChoiceUndefinedCondition,separator:!0});var t=this.slots.select("counter","meta");if(t&&t.label){var o=this.conditions.group(t.label,f.default);(0,a.each)([{mode:"equal",label:(0,a.pgettext)("block:multiple-choice","Counter is equal to")},{mode:"not-equal",label:(0,a.pgettext)("block:multiple-choice","Counter is not equal to")},{mode:"below",label:(0,a.pgettext)("block:multiple-choice","Counter is lower than")},{mode:"above",label:(0,a.pgettext)("block:multiple-choice","Counter is higher than")},{mode:"between",label:(0,a.pgettext)("block:multiple-choice","Counter is between")},{mode:"not-between",label:(0,a.pgettext)("block:multiple-choice","Counter is not between")}],(function(e){o.template({condition:d.CounterCondition,label:e.label,autoOpen:!0,props:{slot:t,mode:e.mode,value:0,to:"between"===e.mode||"not-between"===e.mode?0:void 0}})}))}var i=this.slots.select("score","feature");if(i&&i.label){var n=this.conditions.group(i.label,M.default);(0,a.each)([{mode:"equal",label:(0,a.pgettext)("block:multiple-choice","Score is equal to")},{mode:"not-equal",label:(0,a.pgettext)("block:multiple-choice","Score is not equal to")},{mode:"below",label:(0,a.pgettext)("block:multiple-choice","Score is lower than")},{mode:"above",label:(0,a.pgettext)("block:multiple-choice","Score is higher than")},{mode:"between",label:(0,a.pgettext)("block:multiple-choice","Score is between")},{mode:"not-between",label:(0,a.pgettext)("block:multiple-choice","Score is not between")},{mode:"defined",label:(0,a.pgettext)("block:multiple-choice","Score is calculated")},{mode:"undefined",label:(0,a.pgettext)("block:multiple-choice","Score is not calculated")}],(function(e){n.template({condition:s.ScoreCondition,label:e.label,autoOpen:"defined"!==e.mode&&"undefined"!==e.mode,props:{slot:i,mode:e.mode,value:0,to:"between"===e.mode||"not-between"===e.mode?0:void 0}})}))}},l([(0,a.definition)("string","optional")],t.prototype,"caption",void 0),l([(0,a.definition)("string","optional")],t.prototype,"imageURL",void 0),l([(0,a.definition)("string","optional")],t.prototype,"imageWidth",void 0),l([(0,a.definition)("boolean","optional")],t.prototype,"imageAboveText",void 0),l([(0,a.definition)("items"),(0,a.affects)("#name"),(0,a.supplies)("#slot","choice")],t.prototype,"choices",void 0),l([(0,a.definition)("boolean","optional"),(0,a.affects)("#slots"),(0,a.affects)("#collection","choices")],t.prototype,"multiple",void 0),l([(0,a.definition)("number","optional")],t.prototype,"min",void 0),l([(0,a.definition)("number","optional")],t.prototype,"max",void 0),l([(0,a.definition)("alignment","optional")],t.prototype,"alignment",void 0),l([(0,a.definition)("boolean","optional"),(0,a.affects)("#required"),(0,a.affects)("#slots"),(0,a.affects)("#collection","choices")],t.prototype,"required",void 0),l([(0,a.definition)("string","optional"),(0,a.affects)("#slots"),(0,a.affects)("#collection","choices"),(0,a.affects)("#label")],t.prototype,"alias",void 0),l([(0,a.definition)("boolean","optional"),(0,a.affects)("#slots"),(0,a.affects)("#collection","choices")],t.prototype,"exportable",void 0),l([(0,a.definition)("string","optional"),(0,a.affects)("#collection","choices")],t.prototype,"labelForTrue",void 0),l([(0,a.definition)("string","optional"),(0,a.affects)("#collection","choices")],t.prototype,"labelForFalse",void 0),l([(0,a.definition)("boolean","optional")],t.prototype,"randomize",void 0),l([(0,a.definition)("string","optional"),(0,a.affects)("#slots"),(0,a.affects)("#collection","choices")],t.prototype,"format",void 0),l([(0,a.definition)("string","optional")],t.prototype,"formatSeparator",void 0),l([(0,a.definition)("string","optional")],t.prototype,"formatSeparatorCustom",void 0),l([a.slots],t.prototype,"defineSlot",null),l([a.editor],t.prototype,"defineEditor",null),l([a.conditions],t.prototype,"defineConditions",null),l([(0,a.tripetto)({type:"node",legacyBlock:!0,identifier:"@tripetto/block-multiple-choice",version:"7.0.1",icon:p.default,alias:"multiple-choice",get label(){return(0,a.pgettext)("block:multiple-choice","Multiple choice")}})],t)}(a.NodeBlock);t.MultipleChoice=h},537:function(e,t,o){o.r(t),t.default="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCI+PHBhdGggZD0iTTE2LjIzIDMuMzA3Yy0uMzk2LS4yNjgtLjk0OS0uNTA0LTEuNjQzLS43MDJDMTMuMjIxIDIuMjE1IDExLjQxNSAyIDkuNSAycy0zLjcyMi4yMTUtNS4wODcuNjA1Yy0uNjk0LjE5OC0xLjI0Ni40MzQtMS42NDMuNzAyLS42MzcuNDMtLjc3Ljg4Ni0uNzcgMS4xOTNWNWMwIC40MjguMzIxIDEuMTMzLjYzOSAxLjYwOWw0Ljg5MSA3LjMzNmMuMjUxLjM3Ni40NzEgMS4xMDMuNDcxIDEuNTU1djNhLjUuNSAwIDAgMCAuNzI0LjQ0N2wyLTFhLjUuNSAwIDAgMCAuMjc2LS40NDd2LTJjMC0uNDUyLjIyLTEuMTc5LjQ3MS0xLjU1NWw0Ljg5MS03LjMzNmMuMzE3LS40NzYuNjM5LTEuMTgyLjYzOS0xLjYwOXYtLjVjMC0uMzA3LS4xMzQtLjc2My0uNzctMS4xOTN6bS0xMS41NDIuMjZDNS45NjcgMy4yMDIgNy42NzYgMyA5LjUgM3MzLjUzNC4yMDEgNC44MTIuNTY3QzE1LjY5IDMuOTYxIDE2IDQuMzgzIDE2IDQuNXMtLjMxLjU0LTEuNjg4LjkzM0MxMy4wMzMgNS43OTggMTEuMzI0IDYgOS41IDZzLTMuNTM0LS4yMDEtNC44MTItLjU2N0MzLjMxIDUuMDM5IDMgNC42MTcgMyA0LjVzLjMxLS41NCAxLjY4OC0uOTMzem01Ljk1MSA5LjgyNGMtLjM1OC41MzctLjYzOSAxLjQ2NC0uNjM5IDIuMTA5djEuNjkxbC0xIC41VjE1LjVjMC0uNjQ2LS4yODEtMS41NzItLjYzOS0yLjEwOWwtNC44OC03LjMyYy4yNzQuMTE3LjU4NS4yMjYuOTMyLjMyNEM1Ljc3OSA2Ljc4NSA3LjU4NSA3IDkuNSA3czMuNzIyLS4yMTUgNS4wODctLjYwNWMuMzQ2LS4wOTkuNjU4LS4yMDcuOTMyLS4zMjVsLTQuODggNy4zMnoiIGNsYXNzPSJ0cmlwZXR0by1maWxsIi8+PC9zdmc+"},948:function(e,t,o){o.r(t),t.default="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCI+PHBhdGggZD0iTTIgNmEuNTAyLjUwMiAwIDAgMS0uMzU0LS4xNDZsLTEuNS0xLjVhLjUuNSAwIDAgMSAuNzA3LS43MDdsMS4xNDYgMS4xNDZMNi4xNDUuNjQ3YS41LjUgMCAwIDEgLjcwNy43MDdsLTQuNSA0LjVBLjQ5OC40OTggMCAwIDEgMS45OTggNnptMTcuNS0xaC0xMmEuNS41IDAgMCAxIDAtMWgxMmEuNS41IDAgMCAxIDAgMXpNMiAxM2EuNTAyLjUwMiAwIDAgMS0uMzU0LS4xNDZsLTEuNS0xLjVhLjUuNSAwIDAgMSAuNzA3LS43MDdsMS4xNDYgMS4xNDYgNC4xNDYtNC4xNDZhLjUuNSAwIDAgMSAuNzA3LjcwN2wtNC41IDQuNWEuNDk4LjQ5OCAwIDAgMS0uMzU0LjE0NnptMTcuNS0xaC0xMmEuNS41IDAgMCAxIDAtMWgxMmEuNS41IDAgMCAxIDAgMXpNMiAyMGEuNTAyLjUwMiAwIDAgMS0uMzU0LS4xNDZsLTEuNS0xLjVhLjUuNSAwIDAgMSAuNzA3LS43MDdsMS4xNDYgMS4xNDYgNC4xNDYtNC4xNDZhLjUuNSAwIDAgMSAuNzA3LjcwN2wtNC41IDQuNWEuNDk4LjQ5OCAwIDAgMS0uMzU0LjE0NnptMTcuNS0xaC0xMmEuNS41IDAgMCAxIDAtMWgxMmEuNS41IDAgMCAxIDAgMXoiIGNsYXNzPSJ0cmlwZXR0by1maWxsIi8+PC9zdmc+"},617:function(e,t,o){o.r(t),t.default="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCI+PHBhdGggZD0iTTE4LjUgN2gtMTJDNS42NzMgNyA1IDYuMzI3IDUgNS41UzUuNjczIDQgNi41IDRoMTJjLjgyNyAwIDEuNS42NzMgMS41IDEuNVMxOS4zMjcgNyAxOC41IDd6bS0xMi0yYS41LjUgMCAwIDAgMCAxaDEyYS41LjUgMCAwIDAgMC0xaC0xMnptMTIgN2gtMTJjLS44MjcgMC0xLjUtLjY3My0xLjUtMS41UzUuNjczIDkgNi41IDloMTJjLjgyNyAwIDEuNS42NzMgMS41IDEuNXMtLjY3MyAxLjUtMS41IDEuNXptLTEyLTJhLjUuNSAwIDAgMCAwIDFoMTJhLjUuNSAwIDAgMCAwLTFoLTEyem0xMiA3aC0xMmMtLjgyNyAwLTEuNS0uNjczLTEuNS0xLjVTNS42NzMgMTQgNi41IDE0aDEyYy44MjcgMCAxLjUuNjczIDEuNSAxLjVzLS42NzMgMS41LTEuNSAxLjV6bS0xMi0yYS41LjUgMCAwIDAgMCAxaDEyYS41LjUgMCAwIDAgMC0xaC0xMnptLTUtOEMuNjczIDcgMCA2LjMyNyAwIDUuNVMuNjczIDQgMS41IDQgMyA0LjY3MyAzIDUuNSAyLjMyNyA3IDEuNSA3em0wLTJhLjUuNSAwIDEgMCAwIDEgLjUuNSAwIDAgMCAwLTF6bTAgN0MuNjczIDEyIDAgMTEuMzI3IDAgMTAuNVMuNjczIDkgMS41IDkgMyA5LjY3MyAzIDEwLjUgMi4zMjcgMTIgMS41IDEyem0wLTJhLjUuNSAwIDEgMCAwIDEgLjUuNSAwIDAgMCAwLTF6bTAgN0MuNjczIDE3IDAgMTYuMzI3IDAgMTUuNVMuNjczIDE0IDEuNSAxNHMxLjUuNjczIDEuNSAxLjVTMi4zMjcgMTcgMS41IDE3em0wLTJhLjUuNSAwIDEgMCAwIDEgLjUuNSAwIDAgMCAwLTF6IiBjbGFzcz0idHJpcGV0dG8tZmlsbCIvPjwvc3ZnPg=="},481:function(e,t,o){o.r(t),t.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggY2xhc3M9InRyaXBldHRvLWZpbGwiIGQ9Ik0xOCAxOS41SDJjLS44MjcgMC0xLjUtLjY3My0xLjUtMS41VjJDLjUgMS4xNzMgMS4xNzMuNSAyIC41aDE2Yy44MjcgMCAxLjUuNjczIDEuNSAxLjV2MTZjMCAuODI3LS42NzMgMS41LTEuNSAxLjV6TTIgMS41YS41LjUgMCAwIDAtLjUuNXYxNmEuNS41IDAgMCAwIC41LjVoMTZhLjUuNSAwIDAgMCAuNS0uNVYyYS41LjUgMCAwIDAtLjUtLjV6Ii8+PHBhdGggY2xhc3M9InRyaXBldHRvLWZpbGwiIGQ9Ik04IDE0YS41MDIuNTAyIDAgMCAxLS4zNTQtLjE0NmwtMy0zYS41LjUgMCAwIDEgLjcwNy0uNzA3bDIuNjQ2IDIuNjQ2IDYuNjQ2LTYuNjQ2YS41LjUgMCAwIDEgLjcwNy43MDdsLTcgN2EuNDk4LjQ5OCAwIDAgMS0uMzU0LjE0NnoiLz48L3N2Zz4="},939:function(e,t,o){o.r(t),t.default="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCI+PHBhdGggZD0iTTE4LjUgOEgxM1YzLjVhLjUuNSAwIDAgMC0uNS0uNWgtNmEuNS41IDAgMCAwLS41LjVWNkguNWEuNS41IDAgMCAwLS41LjV2MTBhLjUuNSAwIDAgMCAuNS41aDE4YS41LjUgMCAwIDAgLjUtLjV2LThhLjUuNSAwIDAgMC0uNS0uNXpNNyA0aDV2MTJIN1Y0ek0xIDdoNXY5SDFWN3ptMTcgOWgtNVY5aDV2N3oiIGNsYXNzPSJ0cmlwZXR0by1maWxsIi8+PHBhdGggZD0iTTkuNSAxMGEuNS41IDAgMCAxLS41LS41di00YS41LjUgMCAwIDEgMSAwdjRhLjUuNSAwIDAgMS0uNS41em0tNSAzaC0yYS41LjUgMCAwIDEtLjUtLjV2LTJhLjUuNSAwIDAgMSAuNS0uNUg0VjlIMi41YS41LjUgMCAwIDEgMC0xaDJhLjUuNSAwIDAgMSAuNS41djJhLjUuNSAwIDAgMS0uNS41SDN2MWgxLjVhLjUuNSAwIDAgMSAwIDF6bTEyLTNoLTJhLjUuNSAwIDAgMCAwIDFIMTZ2MWgtMS41YS41LjUgMCAwIDAgMCAxSDE2djFoLTEuNWEuNS41IDAgMCAwIDAgMWgyYS41LjUgMCAwIDAgLjUtLjV2LTRhLjUuNSAwIDAgMC0uNS0uNXoiIGNsYXNzPSJ0cmlwZXR0by1maWxsIi8+PC9zdmc+"},843:function(e,t,o){o.r(t),t.default="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCI+PHBhdGggZD0iTTEwIDIwYy0yLjY3MSAwLTUuMTgyLTEuMDQtNy4wNzEtMi45MjlTMCAxMi42NzEgMCAxMGMwLTIuNjcxIDEuMDQtNS4xODIgMi45MjktNy4wNzFTNy4zMjkgMCAxMCAwYzIuNjcxIDAgNS4xODIgMS4wNCA3LjA3MSAyLjkyOVMyMCA3LjMyOSAyMCAxMGMwIDIuNjcxLTEuMDQgNS4xODItMi45MjkgNy4wNzFTMTIuNjcxIDIwIDEwIDIwem0wLTE5Yy00Ljk2MyAwLTkgNC4wMzctOSA5czQuMDM3IDkgOSA5IDktNC4wMzcgOS05LTQuMDM3LTktOS05eiIgY2xhc3M9InRyaXBldHRvLWZpbGwiLz48cGF0aCBkPSJNMTAgMTZjLTMuMzA4IDAtNi0yLjY5Mi02LTZzMi42OTItNiA2LTYgNiAyLjY5MiA2IDYtMi42OTIgNi02IDZ6bTAtMTFjLTIuNzU3IDAtNSAyLjI0My01IDVzMi4yNDMgNSA1IDUgNS0yLjI0MyA1LTUtMi4yNDMtNS01LTV6IiBjbGFzcz0idHJpcGV0dG8tZmlsbCIvPjwvc3ZnPg=="},417:function(e,t,o){o.r(t),t.default="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCI+PHBhdGggZD0ibTEwLjcwNyAxMC41IDUuNjQ2LTUuNjQ2YS41LjUgMCAwIDAtLjcwNy0uNzA3TDEwIDkuNzkzIDQuMzU0IDQuMTQ3YS41LjUgMCAwIDAtLjcwNy43MDdMOS4yOTMgMTAuNWwtNS42NDYgNS42NDZhLjUuNSAwIDAgMCAuNzA4LjcwN2w1LjY0Ni01LjY0NiA1LjY0NiA1LjY0NmEuNDk4LjQ5OCAwIDAgMCAuNzA4IDAgLjUuNSAwIDAgMCAwLS43MDdMMTAuNzA5IDEwLjV6IiBjbGFzcz0idHJpcGV0dG8tZmlsbCIvPjwvc3ZnPg=="},954:function(e){e.exports=o(975)}},i={};function n(e){var o=i[e];if(void 0!==o)return o.exports;var l=i[e]={exports:{}};return t[e].call(l.exports,l,l.exports,n),l.exports}n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var l=n(110);e.exports=l}()},36:function(e,t,o){!function(){"use strict";var t={583:function(e,t,o){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=this&&this.__decorate||function(e,t,o,i){var n,l=arguments.length,a=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(l<3?n(a):l>3?n(t,o,a):n(t,o))||a);return l>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.NumberCondition=void 0;var a=o(954),r=o(537),c=o(617),u=o(392),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.allowMarkdown=!0,t.mode="equal",t}return n(t,e),Object.defineProperty(t.prototype,"icon",{get:function(){var e;return"calculator"===(null===(e=this.slot)||void 0===e?void 0:e.reference)?u.default:c.default},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"label",{get:function(){return""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){var e=this.slot;if(e instanceof a.Slots.Numeric){var t=this.parse(e,this.value);switch(this.mode){case"between":return"".concat(t," ≤ @").concat(e.id," ≤ ").concat(this.parse(e,this.to));case"not-between":return"@".concat(e.id," < ").concat(t," ").concat((0,a.pgettext)("block:number","or")," @").concat(e.id," > ").concat(this.parse(e,this.to));case"defined":return"@".concat(e.id," ").concat((0,a.pgettext)("block:number","not empty"));case"undefined":return"@".concat(e.id," ").concat((0,a.pgettext)("block:number","empty"));case"not-equal":return"@".concat(e.id," ≠ ").concat(t);case"above":case"below":case"equal":return"@".concat(e.id," ").concat("above"===this.mode?">":"below"===this.mode?"<":"="," ").concat(t)}}return this.type.label},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){var e;return null===(e=this.node)||void 0===e?void 0:e.label},enumerable:!1,configurable:!0}),t.prototype.parse=function(e,t){var o;return(0,a.isNumberFinite)(t)?e.toString(t,(function(e,t){return a.L10n.locale.number(e,t,!1)})):(0,a.isString)(t)&&t&&(null===(o=(0,a.lookupVariable)(this,t))||void 0===o?void 0:o.label)?"@"+t:"\\_\\_"},t.prototype.defineEditor=function(){var e,t=this,o="calculator"===(null===(e=this.slot)||void 0===e?void 0:e.reference);this.editor.form({title:(0,a.pgettext)("block:number","Compare mode"),controls:[new a.Forms.Radiobutton([{label:o?(0,a.pgettext)("block:number","Calculation is equal to"):(0,a.pgettext)("block:number","Number is equal to"),value:"equal"},{label:o?(0,a.pgettext)("block:number","Calculation is not equal to"):(0,a.pgettext)("block:number","Number is not equal to"),value:"not-equal"},{label:o?(0,a.pgettext)("block:number","Calculation is lower than"):(0,a.pgettext)("block:number","Number is lower than"),value:"below"},{label:o?(0,a.pgettext)("block:number","Calculation is higher than"):(0,a.pgettext)("block:number","Number is higher than"),value:"above"},{label:o?(0,a.pgettext)("block:number","Calculation is between"):(0,a.pgettext)("block:number","Number is between"),value:"between"},{label:o?(0,a.pgettext)("block:number","Calculation is not between"):(0,a.pgettext)("block:number","Number is not between"),value:"not-between"},{label:o?(0,a.pgettext)("block:number","Calculation is valid"):(0,a.pgettext)("block:number","Number is not empty"),value:"defined"},{label:o?(0,a.pgettext)("block:number","Calculation is not valid"):(0,a.pgettext)("block:number","Number is empty"),value:"undefined"}],a.Forms.Radiobutton.bind(this,"mode","equal")).on((function(e){switch(n.visible("defined"!==e.value&&"undefined"!==e.value),l.visible("between"===e.value||"not-between"===e.value),e.value){case"equal":n.title=o?(0,a.pgettext)("block:number","If calculation equals"):(0,a.pgettext)("block:number","If number equals");break;case"not-equal":n.title=o?(0,a.pgettext)("block:number","If calculation not equals"):(0,a.pgettext)("block:number","If number not equals");break;case"below":n.title=o?(0,a.pgettext)("block:number","If calculation is lower than"):(0,a.pgettext)("block:number","If number is lower than");break;case"above":n.title=o?(0,a.pgettext)("block:number","If calculation is higher than"):(0,a.pgettext)("block:number","If number is higher than");break;case"between":n.title=o?(0,a.pgettext)("block:number","If calculation is between"):(0,a.pgettext)("block:number","If number is between");break;case"not-between":n.title=o?(0,a.pgettext)("block:number","If calculation is not between"):(0,a.pgettext)("block:number","If number is not between")}}))]});var i=function(e,o,i){var n,l=t[e],r=t.slot,c=new a.Forms.Numeric((0,a.isNumberFinite)(l)?l:0).label((0,a.pgettext)("block:number","Use fixed number")).precision((null==r?void 0:r.precision)||0).digits((null==r?void 0:r.digits)||0).decimalSign((null==r?void 0:r.decimal)||"").thousands(!!(null==r?void 0:r.separator),(null==r?void 0:r.separator)||"").prefix((null==r?void 0:r.prefix)||"").prefixPlural((null==r?void 0:r.prefixPlural)||void 0).suffix((null==r?void 0:r.suffix)||"").suffixPlural((null==r?void 0:r.suffixPlural)||void 0).min(null==r?void 0:r.minimum).max(null==r?void 0:r.maximum).autoFocus("value"===e).escape(t.editor.close).enter((function(){return("between"!==t.mode&&"not-between"!==t.mode||"to"===e)&&t.editor.close()})).on((function(o){o.isFormVisible&&o.isObservable&&(t[e]=o.value)})),u=(0,a.populateVariables)(t,(function(e){return e instanceof a.Slots.Number||e instanceof a.Slots.Numeric}),(0,a.isString)(l)?l:void 0,!1,null===(n=t.slot)||void 0===n?void 0:n.id),s=new a.Forms.Dropdown(u,(0,a.isString)(l)?l:"").label((0,a.pgettext)("block:number","Use value of")).width("full").on((function(o){o.isFormVisible&&o.isObservable&&(t[e]=o.value||"")}));return t.editor.form({title:o,controls:[new a.Forms.Radiobutton([{label:(0,a.pgettext)("block:number","Number"),value:"number"},{label:(0,a.pgettext)("block:number","Value"),value:"variable",disabled:0===u.length}],(0,a.isString)(l)?"variable":"number").on((function(e){c.visible("number"===e.value),s.visible("variable"===e.value),c.isObservable&&c.focus()})),c,s]}).visible(i)},n=i("value",o?(0,a.pgettext)("block:number","If calculation equals"):(0,a.pgettext)("block:number","If number equals"),"defined"!==this.mode&&"undefined"!==this.mode),l=i("to",(0,a.pgettext)("block:number","And"),"between"===this.mode||"not-between"===this.mode)},l([a.definition,(0,a.affects)("#name")],t.prototype,"mode",void 0),l([a.definition,(0,a.affects)("#name")],t.prototype,"value",void 0),l([a.definition,(0,a.affects)("#name")],t.prototype,"to",void 0),l([a.editor],t.prototype,"defineEditor",null),l([(0,a.tripetto)({type:"condition",legacyBlock:!0,context:"@tripetto/block-number",identifier:"@tripetto/block-number",version:"8.0.3",icon:r.default,get label(){return(0,a.pgettext)("block:number","Verify number")}})],t)}(a.ConditionBlock);t.NumberCondition=s},110:function(e,t,o){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=this&&this.__decorate||function(e,t,o,i){var n,l=arguments.length,a=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(l<3?n(a):l>3?n(t,o,a):n(t,o))||a);return l>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.Number=void 0;var a=o(954),r=o(583);o(755);var c=o(659);o(582);var u=o(617),s=o(392),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.startBlank=!1,t.operations=a.Collection.of(c.Operation,t),t}var o;return n(t,e),o=t,Object.defineProperty(t.prototype,"block",{get:function(){return this},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"firstANS",{get:function(){return"@"+this.numberSlot.id},enumerable:!1,configurable:!0}),t.prototype.defineSlot=function(){this.numberSlot=this.slots.static({type:a.Slots.Numeric,reference:"number",label:o.label,exchange:["required","alias","exportable","precision","digits","decimal","separator","minimum","maximum","prefix","prefixPlural","suffix","suffixPlural"]})},t.prototype.defineEditor=function(){var e=this,t=new a.Forms.Numeric(a.Forms.Numeric.bind(this.numberSlot,"minimum",void 0)).precision(this.numberSlot.precision||0).digits(this.numberSlot.digits||0).decimalSign(this.numberSlot.decimal||"").thousands(!!this.numberSlot.separator,this.numberSlot.separator||"").prefix(this.numberSlot.prefix||"").prefixPlural(this.numberSlot.prefixPlural||void 0).suffix(this.numberSlot.suffix||"").suffixPlural(this.numberSlot.suffixPlural||void 0).label((0,a.pgettext)("block:number","Minimum")),o=new a.Forms.Numeric(a.Forms.Numeric.bind(this.numberSlot,"maximum",void 0)).precision(this.numberSlot.precision||0).digits(this.numberSlot.digits||0).decimalSign(this.numberSlot.decimal||"").thousands(!!this.numberSlot.separator,this.numberSlot.separator||"").prefix(this.numberSlot.prefix||"").prefixPlural(this.numberSlot.prefixPlural||void 0).suffix(this.numberSlot.suffix||"").suffixPlural(this.numberSlot.suffixPlural||void 0).label((0,a.pgettext)("block:number","Maximum")),i=new a.Forms.Numeric(a.Forms.Numeric.bind(this,"prefill",void 0)).precision(this.numberSlot.precision||0).digits(this.numberSlot.digits||0).decimalSign(this.numberSlot.decimal||"").thousands(!!this.numberSlot.separator,this.numberSlot.separator||"").prefix(this.numberSlot.prefix||"").prefixPlural(this.numberSlot.prefixPlural||void 0).suffix(this.numberSlot.suffix||"").suffixPlural(this.numberSlot.suffixPlural||void 0).min(this.numberSlot.minimum).max(this.numberSlot.maximum);this.editor.name(),this.editor.description(),this.editor.placeholder(),this.editor.explanation(),this.editor.groups.settings(),this.editor.option({name:(0,a.pgettext)("block:number","Format"),form:{title:(0,a.pgettext)("block:number","Format"),controls:[new a.Forms.Dropdown([{optGroup:(0,a.pgettext)("block:number","Decimals")},{label:"#",value:0},{label:"#.#",value:1},{label:"#.##",value:2},{label:"#.###",value:3},{label:"#.####",value:4},{label:"#.#####",value:5},{label:"#.######",value:6},{label:"#.#######",value:7},{label:"#.########",value:8},{optGroup:(0,a.pgettext)("block:number","Digits")},{label:"##",value:-2},{label:"###",value:-3},{label:"####",value:-4},{label:"#####",value:-5},{label:"######",value:-6},{label:"#######",value:-7},{label:"########",value:-8},{label:"#########",value:-9},{label:"##########",value:-10},{label:"###########",value:-11},{label:"############",value:-12},{label:"#############",value:-13},{label:"##############",value:-14},{label:"###############",value:-15},{label:"################",value:-16}],(this.numberSlot.digits?-this.numberSlot.digits:this.numberSlot.precision)||0).on((function(l){e.numberSlot.precision=l.isFeatureEnabled&&(0,a.isNumber)(l.value)&&l.value>=0?l.value:void 0,e.numberSlot.digits=l.isFeatureEnabled&&(0,a.isNumber)(l.value)&&l.value<0?-l.value:void 0,t.precision(e.numberSlot.precision||0),o.precision(e.numberSlot.precision||0),i.precision(e.numberSlot.precision||0),t.digits(e.numberSlot.digits||0),o.digits(e.numberSlot.digits||0),i.digits(e.numberSlot.digits||0),n.disabled(!e.numberSlot.precision),d.disabled((e.numberSlot.digits||0)>0)}))]},activated:(0,a.isNumber)(this.numberSlot.precision)||(0,a.isNumber)(this.numberSlot.digits)});var n=new a.Forms.Dropdown([{label:"#.#",value:"."},{label:"#,#",value:","}],a.Forms.Dropdown.bind(this.numberSlot,"decimal",void 0)).label((0,a.pgettext)("block:number","Decimal sign")).disabled(!this.numberSlot.precision).on((function(){t.decimalSign(n.isFeatureEnabled&&n.value||""),o.decimalSign(n.isFeatureEnabled&&n.value||""),i.decimalSign(n.isFeatureEnabled&&n.value||"")}));this.editor.option({name:(0,a.pgettext)("block:number","Limits"),form:{title:(0,a.pgettext)("block:number","Limits"),controls:[t,o]},activated:(0,a.isNumber)(this.numberSlot.minimum)||(0,a.isNumber)(this.numberSlot.maximum)});var l=new a.Forms.Text("singleline",a.Forms.Text.bind(this.numberSlot,"prefix",void 0)).sanitize(!1).on((function(e){t.prefix(e.isFeatureEnabled&&e.value||""),o.prefix(e.isFeatureEnabled&&e.value||""),i.prefix(e.isFeatureEnabled&&e.value||"")})),r=new a.Forms.Text("singleline",a.Forms.Text.bind(this.numberSlot,"prefixPlural",void 0)).indent(32).sanitize(!1).on((function(e){t.prefixPlural(e.isFeatureEnabled&&e.isObservable&&e.value||void 0),o.prefixPlural(e.isFeatureEnabled&&e.isObservable&&e.value||void 0),i.prefixPlural(e.isFeatureEnabled&&e.isObservable&&e.value||void 0)})).placeholder((0,a.pgettext)("block:number","Prefix when value is plural")).visible((0,a.isString)(this.numberSlot.prefixPlural));this.editor.option({name:(0,a.pgettext)("block:number","Prefix"),form:{title:(0,a.pgettext)("block:number","Prefix"),controls:[l,new a.Forms.Checkbox((0,a.pgettext)("block:number","Specify different prefix for plural values"),(0,a.isString)(this.numberSlot.prefixPlural)).on((function(e){l.placeholder(e.isChecked&&(0,a.pgettext)("block:number","Prefix when value is singular")||""),r.visible(e.isChecked)})),r]},activated:(0,a.isString)(this.numberSlot.prefix)});var u=new a.Forms.Text("singleline",a.Forms.Text.bind(this.numberSlot,"suffix",void 0)).sanitize(!1).on((function(e){t.suffix(e.isFeatureEnabled&&e.value||""),o.suffix(e.isFeatureEnabled&&e.value||""),i.suffix(e.isFeatureEnabled&&e.value||"")})),s=new a.Forms.Text("singleline",a.Forms.Text.bind(this.numberSlot,"suffixPlural",void 0)).indent(32).sanitize(!1).on((function(e){t.suffixPlural(e.isFeatureEnabled&&e.isObservable&&e.value||void 0),o.suffixPlural(e.isFeatureEnabled&&e.isObservable&&e.value||void 0),i.suffixPlural(e.isFeatureEnabled&&e.isObservable&&e.value||void 0)})).placeholder((0,a.pgettext)("block:number","Suffix when value is plural")).visible((0,a.isString)(this.numberSlot.suffixPlural));this.editor.option({name:(0,a.pgettext)("block:number","Suffix"),form:{title:(0,a.pgettext)("block:number","Suffix"),controls:[u,new a.Forms.Checkbox((0,a.pgettext)("block:number","Specify different suffix for plural values"),(0,a.isString)(this.numberSlot.suffixPlural)).on((function(e){u.placeholder(e.isChecked&&(0,a.pgettext)("block:number","Suffix when value is singular")||""),s.visible(e.isChecked)})),s]},activated:(0,a.isString)(this.numberSlot.suffix)});var d=this.editor.option({name:(0,a.pgettext)("block:number","Signs"),form:{title:(0,a.pgettext)("block:number","Signs"),controls:[n,new a.Forms.Dropdown([{label:(0,a.pgettext)("block:number","None"),value:void 0},{label:"#,###",value:","},{label:"#.###",value:"."}],a.Forms.Dropdown.bind(this.numberSlot,"separator",void 0)).label((0,a.pgettext)("block:number","Thousands separator")).on((function(e){t.thousands(!(!e.isFeatureEnabled||!e.value),e.isFeatureEnabled&&e.value||""),o.thousands(!(!e.isFeatureEnabled||!e.value),e.isFeatureEnabled&&e.value||""),i.thousands(!(!e.isFeatureEnabled||!e.value),e.isFeatureEnabled&&e.value||"")})),new a.Forms.Static((0,a.pgettext)("block:number","**Note:** These signs are used to format the number in de dataset. When the number is displayed in a runner, the appropriate user locale might be applied making it seem like changing these settings has no effect.")).markdown()]},activated:(0,a.isString)(this.numberSlot.separator)||(0,a.isString)(this.numberSlot.decimal),disabled:(this.numberSlot.digits||0)>0});this.editor.groups.options(),this.editor.option({name:(0,a.pgettext)("block:number","Prefill"),form:{title:(0,a.pgettext)("block:number","Prefill"),controls:[i,new a.Forms.Static((0,a.pgettext)("block:number","This value will be used as initial (or default) value for the number."))]},activated:(0,a.isNumberFinite)(this.prefill)}),this.editor.numeric({target:this,reference:"calculator",label:(0,a.pgettext)("block:number","Calculation"),name:(0,a.pgettext)("block:number","Calculator"),title:(0,a.pgettext)("block:number","Calculator settings"),exportable:!0,pair:this.editor.collection((0,c.calculator)(this,(0,a.pgettext)("block:number","Perform a calculation with the number value."),(0,a.pgettext)("block:number","Calculator")))}),this.editor.required(this.numberSlot),this.editor.visibility(),this.editor.alias(this.numberSlot),this.editor.exportable(this.numberSlot)},t.prototype.defineCondition=function(){var e=this,t=this.slots.select("calculator","feature"),i=t?this.conditions.group(this.numberSlot.label||o.label):this.conditions;if((0,a.each)([{mode:"equal",label:(0,a.pgettext)("block:number","Number is equal to")},{mode:"not-equal",label:(0,a.pgettext)("block:number","Number is not equal to")},{mode:"below",label:(0,a.pgettext)("block:number","Number is lower than")},{mode:"above",label:(0,a.pgettext)("block:number","Number is higher than")},{mode:"between",label:(0,a.pgettext)("block:number","Number is between")},{mode:"not-between",label:(0,a.pgettext)("block:number","Number is not between")},{mode:"defined",label:(0,a.pgettext)("block:number","Number is not empty")},{mode:"undefined",label:(0,a.pgettext)("block:number","Number is empty")}],(function(t){i.template({condition:r.NumberCondition,icon:u.default,label:t.label,autoOpen:"defined"!==t.mode&&"undefined"!==t.mode,props:{slot:e.numberSlot,mode:t.mode}})})),t){var n=this.conditions.group(t.label||(0,a.pgettext)("block:number","Calculation"));(0,a.each)([{mode:"equal",label:(0,a.pgettext)("block:number","Calculation is equal to")},{mode:"not-equal",label:(0,a.pgettext)("block:number","Calculation is not equal to")},{mode:"below",label:(0,a.pgettext)("block:number","Calculation is lower than")},{mode:"above",label:(0,a.pgettext)("block:number","Calculation is higher than")},{mode:"between",label:(0,a.pgettext)("block:number","Calculation is between")},{mode:"not-between",label:(0,a.pgettext)("block:number","Calculation is not between")},{mode:"defined",label:(0,a.pgettext)("block:number","Calculation is valid")},{mode:"undefined",label:(0,a.pgettext)("block:number","Calculation is not valid")}],(function(e){n.template({condition:r.NumberCondition,icon:s.default,label:e.label,autoOpen:"defined"!==e.mode&&"undefined"!==e.mode,props:{slot:t,mode:e.mode}})}))}},l([(0,a.definition)("number","optional")],t.prototype,"prefill",void 0),l([a.definition],t.prototype,"operations",void 0),l([a.slots],t.prototype,"defineSlot",null),l([a.editor],t.prototype,"defineEditor",null),l([a.conditions],t.prototype,"defineCondition",null),o=l([(0,a.tripetto)({type:"node",legacyBlock:!0,identifier:"@tripetto/block-number",version:"8.0.3",icon:u.default,get label(){return(0,a.pgettext)("block:number","Number")}})],t)}(a.NodeBlock);t.Number=d},755:function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0}),(0,o(954).mountNamespace)("@tripetto/block-number")},582:function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0}),(0,o(954).unmountNamespace)()},392:function(e,t,o){o.r(t),t.default="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCI+PHBhdGggZD0iTTcuNSAxMGgtNkMuNjczIDEwIDAgOS4zMjcgMCA4LjV2LTZDMCAxLjY3My42NzMgMSAxLjUgMWg2QzguMzI3IDEgOSAxLjY3MyA5IDIuNXY2YzAgLjgyNy0uNjczIDEuNS0xLjUgMS41em0tNi04YS41LjUgMCAwIDAtLjUuNXY2YS41LjUgMCAwIDAgLjUuNWg2YS41LjUgMCAwIDAgLjUtLjV2LTZhLjUuNSAwIDAgMC0uNS0uNWgtNnptNiAxOGgtNkMuNjczIDIwIDAgMTkuMzI3IDAgMTguNXYtNmMwLS44MjcuNjczLTEuNSAxLjUtMS41aDZjLjgyNyAwIDEuNS42NzMgMS41IDEuNXY2YzAgLjgyNy0uNjczIDEuNS0xLjUgMS41em0tNi04YS41LjUgMCAwIDAtLjUuNXY2YS41LjUgMCAwIDAgLjUuNWg2YS41LjUgMCAwIDAgLjUtLjV2LTZhLjUuNSAwIDAgMC0uNS0uNWgtNnoiIGNsYXNzPSJ0cmlwZXR0by1maWxsIi8+PHBhdGggZD0iTTYuNSA2aC00YS41LjUgMCAwIDEgMC0xaDRhLjUuNSAwIDAgMSAwIDF6bTAgOUg1di0xLjVhLjUuNSAwIDAgMC0xIDBWMTVIMi41YS41LjUgMCAwIDAgMCAxSDR2MS41YS41LjUgMCAwIDAgMSAwVjE2aDEuNWEuNS41IDAgMCAwIDAtMXptMTEgNWgtNmMtLjgyNyAwLTEuNS0uNjczLTEuNS0xLjV2LTE2YzAtLjgyNy42NzMtMS41IDEuNS0xLjVoNmMuODI3IDAgMS41LjY3MyAxLjUgMS41djE2YzAgLjgyNy0uNjczIDEuNS0xLjUgMS41em0tNi0xOGEuNS41IDAgMCAwLS41LjV2MTZhLjUuNSAwIDAgMCAuNS41aDZhLjUuNSAwIDAgMCAuNS0uNXYtMTZhLjUuNSAwIDAgMC0uNS0uNWgtNnoiIGNsYXNzPSJ0cmlwZXR0by1maWxsIi8+PHBhdGggZD0iTTE2LjUgMTBoLTRhLjUuNSAwIDAgMSAwLTFoNGEuNS41IDAgMCAxIDAgMXptMCAyaC00YS41LjUgMCAwIDEgMC0xaDRhLjUuNSAwIDAgMSAwIDF6IiBjbGFzcz0idHJpcGV0dG8tZmlsbCIvPjwvc3ZnPg=="},537:function(e,t,o){o.r(t),t.default="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCI+PHBhdGggZD0iTTE2LjIzIDMuMzA3Yy0uMzk2LS4yNjgtLjk0OS0uNTA0LTEuNjQzLS43MDJDMTMuMjIxIDIuMjE1IDExLjQxNSAyIDkuNSAycy0zLjcyMi4yMTUtNS4wODcuNjA1Yy0uNjk0LjE5OC0xLjI0Ni40MzQtMS42NDMuNzAyLS42MzcuNDMtLjc3Ljg4Ni0uNzcgMS4xOTNWNWMwIC40MjguMzIxIDEuMTMzLjYzOSAxLjYwOWw0Ljg5MSA3LjMzNmMuMjUxLjM3Ni40NzEgMS4xMDMuNDcxIDEuNTU1djNhLjUuNSAwIDAgMCAuNzI0LjQ0N2wyLTFhLjUuNSAwIDAgMCAuMjc2LS40NDd2LTJjMC0uNDUyLjIyLTEuMTc5LjQ3MS0xLjU1NWw0Ljg5MS03LjMzNmMuMzE3LS40NzYuNjM5LTEuMTgyLjYzOS0xLjYwOXYtLjVjMC0uMzA3LS4xMzQtLjc2My0uNzctMS4xOTN6bS0xMS41NDIuMjZDNS45NjcgMy4yMDIgNy42NzYgMyA5LjUgM3MzLjUzNC4yMDEgNC44MTIuNTY3QzE1LjY5IDMuOTYxIDE2IDQuMzgzIDE2IDQuNXMtLjMxLjU0LTEuNjg4LjkzM0MxMy4wMzMgNS43OTggMTEuMzI0IDYgOS41IDZzLTMuNTM0LS4yMDEtNC44MTItLjU2N0MzLjMxIDUuMDM5IDMgNC42MTcgMyA0LjVzLjMxLS41NCAxLjY4OC0uOTMzem01Ljk1MSA5LjgyNGMtLjM1OC41MzctLjYzOSAxLjQ2NC0uNjM5IDIuMTA5djEuNjkxbC0xIC41VjE1LjVjMC0uNjQ2LS4yODEtMS41NzItLjYzOS0yLjEwOWwtNC44OC03LjMyYy4yNzQuMTE3LjU4NS4yMjYuOTMyLjMyNEM1Ljc3OSA2Ljc4NSA3LjU4NSA3IDkuNSA3czMuNzIyLS4yMTUgNS4wODctLjYwNWMuMzQ2LS4wOTkuNjU4LS4yMDcuOTMyLS4zMjVsLTQuODggNy4zMnoiIGNsYXNzPSJ0cmlwZXR0by1maWxsIi8+PC9zdmc+"},617:function(e,t,o){o.r(t),t.default="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbDpzcGFjZT0icHJlc2VydmUiIHdpZHRoPSI1ODAiIGhlaWdodD0iNTgwIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiIgdGV4dC1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiIgaW1hZ2UtcmVuZGVyaW5nPSJvcHRpbWl6ZVF1YWxpdHkiIHZpZXdCb3g9IjAgMCA1ODAwIDU4MDAiPjxwYXRoIGNsYXNzPSJ0cmlwZXR0by1maWxsIiBkPSJNNzAwIDE1MDBoNDQwMGMyMjAgMCA0MDAgMTgwIDQwMCA0MDB2MjAwMGMwIDIyMC0xODAgNDAwLTQwMCA0MDBINzAwYy0yMjAgMC00MDAtMTgwLTQwMC00MDBWMTkwMGMwLTIyMCAxODAtNDAwIDQwMC00MDB6bTMxMDAgMjAwdjI0MDBoMTMwMGMxMTAgMCAyMDAtOTAgMjAwLTIwMFYxOTAwYzAtMTEwLTkwLTIwMC0yMDAtMjAwSDM4MDB6bS0yMDAgMjQwMFYxNzAwSDcwMGMtMTEwIDAtMjAwIDkwLTIwMCAyMDB2MjAwMGMwIDExMCA5MCAyMDAgMjAwIDIwMGgyOTAwem0xMzAwLTE0MDBjMC0xMjEtNzktMjAwLTIwMC0yMDBoLTIwMGMtMTIxIDAtMjAwIDc5LTIwMCAyMDB2NDAwYzAgMTIxIDc5IDIwMCAyMDAgMjAwaDIwMGMxMjEgMCAyMDAtNzkgMjAwLTIwMHYtNDAwem0yMDAgMHY0MDBjMCAyMzEtMTY5IDQwMC00MDAgNDAwaC0yMDBjLTIzMSAwLTQwMC0xNjktNDAwLTQwMHYtNDAwYzAtMjMxIDE2OS00MDAgNDAwLTQwMGgyMDBjMjMxIDAgNDAwIDE2OSA0MDAgNDAwem0tMjAwMCAwYzAtMTIxLTc5LTIwMC0yMDAtMjAwaC0yMDBjLTEyMSAwLTIwMCA3OS0yMDAgMjAwdjQwMGMwIDEyMSA3OSAyMDAgMjAwIDIwMGgyMDBjMTIxIDAgMjAwLTc5IDIwMC0yMDB2LTQwMHptMjAwIDB2NDAwYzAgMjMxLTE2OSA0MDAtNDAwIDQwMGgtMjAwYy0yMzEgMC00MDAtMTY5LTQwMC00MDB2LTQwMGMwLTIzMSAxNjktNDAwIDQwMC00MDBoMjAwYzIzMSAwIDQwMCAxNjkgNDAwIDQwMHptLTE2MDAgMGMwLTEyMS03OS0yMDAtMjAwLTIwMGgtMjAwYy0xMjEgMC0yMDAgNzktMjAwIDIwMHY0MDBjMCAxMjEgNzkgMjAwIDIwMCAyMDBoMjAwYzEyMSAwIDIwMC03OSAyMDAtMjAwdi00MDB6bTIwMCAwdjQwMGMwIDIzMS0xNjkgNDAwLTQwMCA0MDBoLTIwMGMtMjMxIDAtNDAwLTE2OS00MDAtNDAwdi00MDBjMC0yMzEgMTY5LTQwMCA0MDAtNDAwaDIwMGMyMzEgMCA0MDAgMTY5IDQwMCA0MDB6Ii8+PC9zdmc+"},659:function(e){e.exports=o(373)},954:function(e){e.exports=o(975)}},i={};function n(e){var o=i[e];if(void 0!==o)return o.exports;var l=i[e]={exports:{}};return t[e].call(l.exports,l,l.exports,n),l.exports}n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var l=n(110);e.exports=l}()},801:function(e,t,o){!function(){"use strict";var t={110:function(e,t,o){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=this&&this.__decorate||function(e,t,o,i){var n,l=arguments.length,a=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(l<3?n(a):l>3?n(t,o,a):n(t,o))||a);return l>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.Paragraph=void 0;var a=o(954),r=o(617),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}var o;return n(t,e),o=t,t.getYouTubeId=function(e){var t=e.match(/youtu(?:.*\/v\/|.*v\=|\.be\/)([A-Za-z0-9_\-]{11})/);return t&&2===t.length&&t[1]||""},t.getVimeoId=function(e){var t=e.match(/\/\/(?:www\.)?vimeo\.com\/(?:channels\/staffpicks\/)?([-\w]+)/i);return t&&2===t.length&&t[1]||""},t.prototype.defineEditor=function(){this.editor.name(!0,!0),this.editor.option({name:(0,a.pgettext)("block:paragraph","Caption"),form:{title:(0,a.pgettext)("block:paragraph","Caption"),controls:[new a.Forms.Text("multiline",a.Forms.Text.bind(this,"caption",void 0)).placeholder((0,a.pgettext)("block:paragraph","Type caption text here...")).action("@",(0,a.insertVariable)(this))]},activated:(0,a.isString)(this.caption)}),this.editor.description(),this.editor.option({name:(0,a.pgettext)("block:paragraph","Image"),form:{title:(0,a.pgettext)("block:paragraph","Image"),controls:[new a.Forms.Text("singleline",a.Forms.Text.bind(this,"imageURL",void 0)).label((0,a.pgettext)("block:paragraph","Image source URL")).inputMode("url").placeholder("https://").action("@",(0,a.insertVariable)(this)).autoValidate((function(e){return""===e.value?"unknown":a.REGEX_IS_URL.test(e.value)||e.value.length>23&&0===e.value.indexOf("data:image/jpeg;base64,")||e.value.length>22&&0===e.value.indexOf("data:image/png;base64,")||e.value.length>22&&0===e.value.indexOf("data:image/svg;base64,")||e.value.length>22&&0===e.value.indexOf("data:image/gif;base64,")||e.value.length>1&&"/"===e.value.charAt(0)?"pass":"fail"})),new a.Forms.Text("singleline",a.Forms.Checkbox.bind(this,"imageWidth",void 0)).label((0,a.pgettext)("block:paragraph","Image width (optional)")).width(100).align("center"),new a.Forms.Checkbox((0,a.pgettext)("block:paragraph","Display image on top of the paragraph"),a.Forms.Checkbox.bind(this,"imageAboveText",void 0))]},activated:(0,a.isString)(this.imageURL)}),this.editor.option({name:(0,a.pgettext)("block:paragraph","Video"),form:{title:(0,a.pgettext)("block:paragraph","Video"),controls:[new a.Forms.Text("singleline",a.Forms.Text.bind(this,"video",void 0)).inputMode("url").placeholder("https://").action("@",(0,a.insertVariable)(this)).autoValidate((function(e){return""===e.value?"unknown":a.REGEX_IS_URL.test(e.value)&&(o.getYouTubeId(e.value)||o.getVimeoId(e.value))?"pass":"fail"})),new a.Forms.Static((0,a.pgettext)("block:paragraph","Currently [YouTube](https://youtube.com) and [Vimeo](https://vimeo.com) videos are supported. Just click the share button of your video and paste the resulting embed link in the field above.")).markdown()]},activated:(0,a.isString)(this.video)}),this.editor.explanation(),this.editor.groups.options(),this.editor.visibility()},l([(0,a.definition)("string","optional")],t.prototype,"caption",void 0),l([(0,a.definition)("string","optional")],t.prototype,"imageURL",void 0),l([(0,a.definition)("boolean","optional")],t.prototype,"imageAboveText",void 0),l([(0,a.definition)("string","optional")],t.prototype,"imageWidth",void 0),l([(0,a.definition)("string","optional")],t.prototype,"video",void 0),l([a.editor],t.prototype,"defineEditor",null),o=l([(0,a.tripetto)({type:"node",legacyBlock:!0,identifier:"@tripetto/block-paragraph",version:"5.0.2",icon:r.default,alias:"paragraph",get label(){return(0,a.pgettext)("block:paragraph","Paragraph")}})],t)}(a.NodeBlock);t.Paragraph=c},617:function(e,t,o){o.r(t),t.default="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCI+PHBhdGggZD0iTTE2LjUgMjBoLTEzYy0uODI3IDAtMS41LS42NzMtMS41LTEuNXYtMTZDMiAxLjY3MyAyLjY3MyAxIDMuNSAxaDEzYy44MjcgMCAxLjUuNjczIDEuNSAxLjV2MTZjMCAuODI3LS42NzMgMS41LTEuNSAxLjV6TTMuNSAyYS41LjUgMCAwIDAtLjUuNXYxNmEuNS41IDAgMCAwIC41LjVoMTNhLjUuNSAwIDAgMCAuNS0uNXYtMTZhLjUuNSAwIDAgMC0uNS0uNWgtMTN6IiBjbGFzcz0idHJpcGV0dG8tZmlsbCIvPjxwYXRoIGQ9Ik04LjUgNWgtM2EuNS41IDAgMCAxIDAtMWgzYS41LjUgMCAwIDEgMCAxem0wIDJoLTNhLjUuNSAwIDAgMSAwLTFoM2EuNS41IDAgMCAxIDAgMXptMCAyaC0zYS41LjUgMCAwIDEgMC0xaDNhLjUuNSAwIDAgMSAwIDF6bTAgMmgtM2EuNS41IDAgMCAxIDAtMWgzYS41LjUgMCAwIDEgMCAxem02IDJoLTlhLjUuNSAwIDAgMSAwLTFoOWEuNS41IDAgMCAxIDAgMXptMCAyaC05YS41LjUgMCAwIDEgMC0xaDlhLjUuNSAwIDAgMSAwIDF6bTAgMmgtOWEuNS41IDAgMCAxIDAtMWg5YS41LjUgMCAwIDEgMCAxem0wLTZoLTRhLjUuNSAwIDAgMS0uNS0uNXYtNmEuNS41IDAgMCAxIC41LS41aDRhLjUuNSAwIDAgMSAuNS41djZhLjUuNSAwIDAgMS0uNS41ek0xMSAxMGgzVjVoLTN2NXoiIGNsYXNzPSJ0cmlwZXR0by1maWxsIi8+PC9zdmc+"},954:function(e){e.exports=o(975)}},i={};function n(e){var o=i[e];if(void 0!==o)return o.exports;var l=i[e]={exports:{}};return t[e].call(l.exports,l,l.exports,n),l.exports}n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var l=n(110);e.exports=l}()},748:function(e,t,o){!function(){"use strict";var t={583:function(e,t,o){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=this&&this.__decorate||function(e,t,o,i){var n,l=arguments.length,a=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(l<3?n(a):l>3?n(t,o,a):n(t,o))||a);return l>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.PasswordCondition=void 0;var a=o(954),r=o(617),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.allowMarkdown=!0,t.passphrase="",t}return n(t,e),Object.defineProperty(t.prototype,"label",{get:function(){return""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.slot?"@".concat(this.slot.id," ").concat(this.invert?"≠":"="," ").concat(this.passphrase?"`•••`":"\\_\\_"):this.type.label},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){var e;return null===(e=this.node)||void 0===e?void 0:e.label},enumerable:!1,configurable:!0}),t.prototype.defineEditor=function(){var e=this;if(this.id){var t=function(){(n.value||l.value)&&(n.value===l.value?e.passphrase=a.AES.encrypt(e.id,n.value+e.id,256,btoa):e.passphrase=""),o.visible(!!e.passphrase),i.visible(!e.passphrase)},o=new a.Forms.Notification((0,a.pgettext)("block:password","Password is set!"),"success").visible(!!this.passphrase),i=new a.Forms.Notification((0,a.pgettext)("block:password","Password not set!"),"warning").visible(!this.passphrase),n=new a.Forms.Text("password").label((0,a.pgettext)("block:password","Password")).autoFocus().on(t),l=new a.Forms.Text("password").label((0,a.pgettext)("block:password","Confirm password")).on(t);this.editor.form({title:(0,a.pgettext)("block:password","Set password"),controls:[new a.Forms.Static((0,a.pgettext)("block:password","You can use this condition block to verify a password. The password you set here is _never_ stored in Tripetto. Instead we use *asymmetric cryptography* to verify passwords without knowing them. As a result, you cannot see the password you set here and the fields below might be empty if a password is set. If the message *Password is set* appears, you have set a valid password and you are good to go. To set another password, enter the new password in both fields.")).markdown(),new a.Forms.Spacer,o,i,n,l,new a.Forms.Dropdown([{label:(0,a.pgettext)("block:password","Verify if password is right"),value:void 0},{label:(0,a.pgettext)("block:password","Verify if password is wrong"),value:!0}],a.Forms.Dropdown.bind(this,"invert",void 0)).label((0,a.pgettext)("block:password","Mode")).width("full")]})}},l([a.definition,(0,a.affects)("#name")],t.prototype,"passphrase",void 0),l([a.definition,(0,a.affects)("#name")],t.prototype,"invert",void 0),l([a.editor],t.prototype,"defineEditor",null),l([(0,a.tripetto)({type:"condition",legacyBlock:!0,context:"@tripetto/block-password",identifier:"@tripetto/block-password",version:"6.0.2",icon:r.default,get label(){return(0,a.pgettext)("block:password","Password match")}})],t)}(a.ConditionBlock);t.PasswordCondition=c},110:function(e,t,o){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=this&&this.__decorate||function(e,t,o,i){var n,l=arguments.length,a=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(l<3?n(a):l>3?n(t,o,a):n(t,o))||a);return l>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.Password=void 0;var a=o(954),r=o(583),c=o(617),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}var o;return n(t,e),o=t,t.prototype.defineSlot=function(){this.passwordSlot=this.slots.static({type:a.Slots.String,reference:"password",label:o.label,exportable:this.exportable||!1,exchange:["required","alias"]})},t.prototype.defineEditor=function(){this.editor.name(),this.editor.description(),this.editor.placeholder(),this.editor.explanation(),this.editor.groups.options(),this.editor.required(this.passwordSlot),this.editor.visibility(),this.editor.alias(this.passwordSlot);var e=this.editor.form({controls:[new a.Forms.Notification((0,a.pgettext)("block:password","By default the submitted passwords will not be stored in the dataset (assuming you just want to verify a password). If you do need the password in the dataset, please use the *exportability* feature."),"info").markdown()]}).visible(!(0,a.isBoolean)(this.exportable));this.editor.exportable(this,!1).onToggle((function(t){return e.visible(!t.isActivated)}))},t.prototype.defineCondition=function(){var e=this;(0,a.each)([{invert:void 0,label:(0,a.pgettext)("block:password","Password matches")},{invert:!0,label:(0,a.pgettext)("block:password","Password does not match")}],(function(t){e.conditions.template({condition:r.PasswordCondition,label:t.label,burst:!0,props:{slot:e.passwordSlot,invert:t.invert}})}))},l([a.definition,(0,a.affects)("#slots")],t.prototype,"exportable",void 0),l([a.slots],t.prototype,"defineSlot",null),l([a.editor],t.prototype,"defineEditor",null),l([a.conditions],t.prototype,"defineCondition",null),o=l([(0,a.tripetto)({type:"node",legacyBlock:!0,identifier:"@tripetto/block-password",version:"6.0.2",icon:c.default,get label(){return(0,a.pgettext)("block:password","Password")}})],t)}(a.NodeBlock);t.Password=u},617:function(e,t,o){o.r(t),t.default="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbDpzcGFjZT0icHJlc2VydmUiIHdpZHRoPSI1ODAiIGhlaWdodD0iNTgwIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiIgdGV4dC1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiIgaW1hZ2UtcmVuZGVyaW5nPSJvcHRpbWl6ZVF1YWxpdHkiIHZpZXdCb3g9IjAgMCA1ODAwIDU4MDAiPjxwYXRoIGNsYXNzPSJ0cmlwZXR0by1maWxsIiBkPSJNMzMwMCAyNTAwdjIyN2wxOTctMTEzIDk5IDE3Mi0xOTcgMTE0IDE5NyAxMTQtOTkgMTcyLTE5Ny0xMTN2MjI3aC0yMDB2LTIyN2wtMTk3IDExMy05OS0xNzIgMTk3LTExNC0xOTctMTE0IDk5LTE3MiAxOTcgMTEzdi0yMjdoMjAwem0tMTAwMCAwdjIyN2wxOTctMTEzIDk5IDE3Mi0xOTcgMTE0IDE5NyAxMTQtOTkgMTcyLTE5Ny0xMTN2MjI3aC0yMDB2LTIyN2wtMTk3IDExMy05OS0xNzIgMTk3LTExNC0xOTctMTE0IDk5LTE3MiAxOTcgMTEzdi0yMjdoMjAwem0tMTAwMCAwdjIyN2wxOTctMTEzIDk5IDE3Mi0xOTcgMTE0IDE5NyAxMTQtOTkgMTcyLTE5Ny0xMTN2MjI3aC0yMDB2LTIyN2wtMTk3IDExMy05OS0xNzIgMTk3LTExNC0xOTctMTE0IDk5LTE3MiAxOTcgMTEzdi0yMjdoMjAwem00MjAwLTYwMHYyMDAwSDMwMFYxOTAwaDUyMDB6bS0yMDAgMjAwSDUwMHYxNjAwaDQ4MDBWMjEwMHoiLz48L3N2Zz4="},954:function(e){e.exports=o(975)}},i={};function n(e){var o=i[e];if(void 0!==o)return o.exports;var l=i[e]={exports:{}};return t[e].call(l.exports,l,l.exports,n),l.exports}n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var l=n(110);e.exports=l}()},411:function(e,t,o){!function(){"use strict";var t={583:function(e,t,o){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=this&&this.__decorate||function(e,t,o,i){var n,l=arguments.length,a=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(l<3?n(a):l>3?n(t,o,a):n(t,o))||a);return l>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.PhoneNumberCondition=void 0;var a=o(954),r=o(617),c=o(513),u=o(626),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mode="defined",t}return n(t,e),Object.defineProperty(t.prototype,"icon",{get:function(){return"defined"===this.mode?c.default:u.default},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"label",{get:function(){return""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){if(this.slot)switch(this.mode){case"defined":return"@".concat(this.slot.id," ").concat((0,a.pgettext)("block:phone-number","not empty"));case"undefined":return"@".concat(this.slot.id," ").concat((0,a.pgettext)("block:phone-number","empty"))}return this.type.label},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){var e;return null===(e=this.node)||void 0===e?void 0:e.label},enumerable:!1,configurable:!0}),t.prototype.defineEditor=function(){this.editor.form({title:(0,a.pgettext)("block:phone-number","When phone number:"),controls:[new a.Forms.Radiobutton([{label:(0,a.pgettext)("block:phone-number","Is not empty"),value:"defined"},{label:(0,a.pgettext)("block:phone-number","Is empty"),value:"undefined"}],a.Forms.Radiobutton.bind(this,"mode","defined"))]})},l([a.definition,(0,a.affects)("#name")],t.prototype,"mode",void 0),l([a.editor],t.prototype,"defineEditor",null),l([(0,a.tripetto)({type:"condition",legacyBlock:!0,context:"@tripetto/block-phone-number",identifier:"@tripetto/block-phone-number",version:"4.0.2",icon:r.default,get label(){return(0,a.pgettext)("block:phone-number","Verify phone number")}})],t)}(a.ConditionBlock);t.PhoneNumberCondition=s},110:function(e,t,o){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=this&&this.__decorate||function(e,t,o,i){var n,l=arguments.length,a=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(l<3?n(a):l>3?n(t,o,a):n(t,o))||a);return l>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.PhoneNumber=void 0;var a=o(954),r=o(583),c=o(617),u=o(513),s=o(626),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}var o;return n(t,e),o=t,t.prototype.defineSlot=function(){this.phoneNumberSlot=this.slots.static({type:a.Slots.String,reference:"phone-number",label:o.label,exchange:["required","alias","exportable"]})},t.prototype.defineEditor=function(){this.editor.name(),this.editor.description(),this.editor.placeholder(),this.editor.explanation(),this.editor.groups.options(),this.editor.required(this.phoneNumberSlot),this.editor.visibility(),this.editor.alias(this.phoneNumberSlot),this.editor.exportable(this.phoneNumberSlot)},t.prototype.defineCondition=function(){var e=this;(0,a.each)([{mode:"defined",label:(0,a.pgettext)("block:phone-number","Number is not empty"),icon:u.default},{mode:"undefined",label:(0,a.pgettext)("block:phone-number","Number is empty"),icon:s.default}],(function(t){e.conditions.template({condition:r.PhoneNumberCondition,label:t.label,icon:t.icon,burst:!0,props:{slot:e.phoneNumberSlot,mode:t.mode}})}))},l([a.slots],t.prototype,"defineSlot",null),l([a.editor],t.prototype,"defineEditor",null),l([a.conditions],t.prototype,"defineCondition",null),o=l([(0,a.tripetto)({type:"node",legacyBlock:!0,identifier:"@tripetto/block-phone-number",version:"4.0.2",icon:c.default,get label(){return(0,a.pgettext)("block:phone-number","Phone number")}})],t)}(a.NodeBlock);t.PhoneNumber=d},513:function(e,t,o){o.r(t),t.default="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCI+PHBhdGggZD0iTTE2IDIwYy0xLjc3MSAwLTMuNjU1LS41MDItNS42LTEuNDkyLTEuNzkzLS45MTMtMy41NjQtMi4yMi01LjEyMi0zLjc4cy0yLjg2My0zLjMzMy0zLjc3NS01LjEyN0MuNTE1IDcuNjU1LjAxMyA1Ljc3MS4wMTMgNGMwLTEuMTQ4IDEuMDctMi4yNTcgMS41MjktMi42OEMyLjIwMy43MTEgMy4yNDMgMCAzLjk5OSAwYy4zNzYgMCAuODE2LjI0NiAxLjM4Ny43NzQuNDI1LjM5NC45MDQuOTI4IDEuMzgzIDEuNTQ0LjI4OS4zNzIgMS43MyAyLjI3MSAxLjczIDMuMTgyIDAgLjc0Ny0uODQ1IDEuMjY3LTEuNzM5IDEuODE2LS4zNDYuMjEyLS43MDMuNDMyLS45NjEuNjM5LS4yNzYuMjIxLS4zMjUuMzM4LS4zMzMuMzY0Ljk0OSAyLjM2NiAzLjg1IDUuMjY3IDYuMjE1IDYuMjE1LjAyMS0uMDA3LjEzOC0uMDUzLjM2My0uMzMzLjIwNy0uMjU4LjQyNy0uNjE2LjYzOS0uOTYxLjU1LS44OTQgMS4wNjktMS43MzkgMS44MTYtMS43MzkuOTExIDAgMi44MSAxLjQ0MSAzLjE4MiAxLjczLjYxNi40NzkgMS4xNS45NTggMS41NDQgMS4zODMuNTI4LjU3Ljc3NCAxLjAxMS43NzQgMS4zODcgMCAuNzU2LS43MTEgMS43OTktMS4zMTkgMi40NjMtLjQyNC40NjItMS41MzMgMS41MzctMi42ODEgMS41Mzd6TTMuOTk0IDFjLS4yNjguMDA1LS45ODkuMzMzLTEuNzczIDEuMDU1QzEuNDc3IDIuNzQxIDEuMDE0IDMuNDg2IDEuMDE0IDRjMCA2LjcyOSA4LjI2NCAxNSAxNC45ODYgMTUgLjUxMyAwIDEuMjU4LS40NjUgMS45NDQtMS4yMTMuNzIzLS43ODggMS4wNTEtMS41MTIgMS4wNTYtMS43ODEtLjAzMi0uMTktLjU1OC0uOTI5LTEuOTk3LTIuMDM3LTEuMjM3LS45NTItMi4yNC0xLjQ2My0yLjQ5OC0xLjQ2OS0uMDE4LjAwNS0uMTMuMDQ4LS4zNTcuMzM2LS4xOTcuMjUxLS40MDguNTk0LS42MTMuOTI2LS41Ni45MTEtMS4wODkgMS43NzItMS44NTggMS43NzJhLjk3Ljk3IDAgMCAxLS4zNjMtLjA3MWMtMi42MjUtMS4wNS01LjcyOS00LjE1NC02Ljc3OS02Ljc3OS0uMTI2LS4zMTUtLjE0Ni0uODA5LjQ3NC0xLjM3MS4zMy0uMjk5Ljc4Ni0uNTc5IDEuMjI4LS44NTEuMzMyLS4yMDQuNjc2LS40MTUuOTI2LS42MTMuMjg4LS4yMjcuMzMxLS4zMzkuMzM2LS4zNTctLjAwNy0uMjU4LS41MTctMS4yNjEtMS40NjktMi40OThDNC45MjIgMS41NTUgNC4xODMgMS4wMyAzLjk5My45OTd6IiBjbGFzcz0idHJpcGV0dG8tZmlsbCIvPjwvc3ZnPg=="},626:function(e,t,o){o.r(t),t.default="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCI+PHBhdGggZD0iTTE2IDIwYy0xLjc3MSAwLTMuNjU1LS41MDItNS42LTEuNDkyLTEuNzkzLS45MTMtMy41NjQtMi4yMi01LjEyMi0zLjc4cy0yLjg2My0zLjMzMy0zLjc3NS01LjEyN0MuNTE1IDcuNjU1LjAxMyA1Ljc3MS4wMTMgNGMwLTEuMTQ4IDEuMDctMi4yNTcgMS41MjktMi42OEMyLjIwMy43MTEgMy4yNDMgMCAzLjk5OSAwYy4zNzYgMCAuODE2LjI0NiAxLjM4Ny43NzQuNDI1LjM5NC45MDQuOTI4IDEuMzgzIDEuNTQ0LjI4OS4zNzIgMS43MyAyLjI3MSAxLjczIDMuMTgyIDAgLjc0Ny0uODQ1IDEuMjY3LTEuNzM5IDEuODE2LS4zNDYuMjEyLS43MDMuNDMyLS45NjEuNjM5LS4yNzYuMjIxLS4zMjUuMzM4LS4zMzMuMzY0Ljk0OSAyLjM2NiAzLjg1IDUuMjY3IDYuMjE1IDYuMjE1LjAyMS0uMDA3LjEzOC0uMDUzLjM2My0uMzMzLjIwNy0uMjU4LjQyNy0uNjE2LjYzOS0uOTYxLjU1LS44OTQgMS4wNjktMS43MzkgMS44MTYtMS43MzkuOTExIDAgMi44MSAxLjQ0MSAzLjE4MiAxLjczLjYxNi40NzkgMS4xNS45NTggMS41NDQgMS4zODMuNTI4LjU3Ljc3NCAxLjAxMS43NzQgMS4zODcgMCAuNzU2LS43MTEgMS43OTktMS4zMTkgMi40NjMtLjQyNC40NjItMS41MzMgMS41MzctMi42ODEgMS41Mzd6TTMuOTk0IDFjLS4yNjguMDA1LS45ODkuMzMzLTEuNzczIDEuMDU1QzEuNDc3IDIuNzQxIDEuMDE0IDMuNDg2IDEuMDE0IDRjMCA2LjcyOSA4LjI2NCAxNSAxNC45ODYgMTUgLjUxMyAwIDEuMjU4LS40NjUgMS45NDQtMS4yMTMuNzIzLS43ODggMS4wNTEtMS41MTIgMS4wNTYtMS43ODEtLjAzMi0uMTktLjU1OC0uOTI5LTEuOTk3LTIuMDM3LTEuMjM3LS45NTItMi4yNC0xLjQ2My0yLjQ5OC0xLjQ2OS0uMDE4LjAwNS0uMTMuMDQ4LS4zNTcuMzM2LS4xOTcuMjUxLS40MDguNTk0LS42MTMuOTI2LS41Ni45MTEtMS4wODkgMS43NzItMS44NTggMS43NzJhLjk3Ljk3IDAgMCAxLS4zNjMtLjA3MWMtMi42MjQtMS4wNS01LjcyOS00LjE1NC02Ljc3OS02Ljc3OS0uMTI2LS4zMTUtLjE0Ni0uODA5LjQ3NC0xLjM3MS4zMy0uMjk5Ljc4Ni0uNTc5IDEuMjI4LS44NTEuMzMyLS4yMDQuNjc2LS40MTUuOTI2LS42MTMuMjg4LS4yMjcuMzMxLS4zMzkuMzM2LS4zNTctLjAwNy0uMjU4LS41MTctMS4yNjEtMS40NjktMi40OThDNC45MjIgMS41NTUgNC4xODMgMS4wMyAzLjk5My45OTd6bTEyLjIxMyA0IDIuMTQ2LTIuMTQ2YS41LjUgMCAwIDAtLjcwNy0uNzA3TDE1LjUgNC4yOTNsLTIuMTQ2LTIuMTQ2YS41LjUgMCAwIDAtLjcwNy43MDdMMTQuNzkzIDVsLTIuMTQ2IDIuMTQ2YS41LjUgMCAwIDAgLjcwOC43MDdsMi4xNDYtMi4xNDYgMi4xNDYgMi4xNDZhLjQ5OC40OTggMCAwIDAgLjcwOCAwIC41LjUgMCAwIDAgMC0uNzA3TDE2LjIwOSA1eiIgY2xhc3M9InRyaXBldHRvLWZpbGwiLz48L3N2Zz4="},617:function(e,t,o){o.r(t),t.default="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCI+PHBhdGggZD0iTTE3Ljg5NCA4Ljg5N2MtMS4wNDEgMC0yLjkyOC0uMzc1LTMuNTE2LS45NjMtLjM2MS0uMzYxLS40NDYtLjgxMy0uNTE1LTEuMTc3LS4wODUtLjQ0OC0uMTM2LS41ODEtLjMzMi0uNjY2LS45MDItLjM4OC0yLjE5Ni0uNjEtMy41NTEtLjYxLTEuMzQgMC0yLjYyLjIxOS0zLjUxMi42LS4xOTQuMDgzLS4yNDQuMjE2LS4zMjcuNjYzLS4wNjguMzY1LS4xNTIuODE5LS41MTIgMS4xNzktLjMyOC4zMjgtMS4wMTUuNTU0LTEuNTMzLjY4NWE4LjQzIDguNDMgMCAwIDEtMS45NjMuMjY3Yy0uNjY0IDAtMS4xMTMtLjEyNi0xLjM3Mi0uMzg2YTIuMzgzIDIuMzgzIDAgMCAxLS42ODUtMS40NjdDLjAzOSA2LjU2Ni4xMjcgNS44OS43NTYgNS4yNmMxLjAyMi0xLjAyMiAyLjM5Ni0xLjgxOSA0LjA4Ni0yLjM2OCAxLjU1NC0uNTA2IDMuMzIyLS43NzMgNS4xMTQtLjc3MyAxLjgwNCAwIDMuNTg3LjI3IDUuMTU2Ljc4MiAxLjcwNS41NTYgMy4wOTMgMS4zNjEgNC4xMjQgMi4zOTMgMS4wNSAxLjA1Ljc5IDIuNDQzLjAxMiAzLjIyMS0uMjU3LjI1Ny0uNy4zODItMS4zNTQuMzgyek05Ljk4IDQuNDgxYzEuNTA3IDAgMi45MDguMjQ2IDMuOTQ2LjY5MS43MTMuMzA2LjgzMy45MzguOTIgMS4zOTguMDUyLjI3NS4wOTcuNTEzLjI0LjY1Ni4yNTIuMjUyIDEuNzA2LjY3MSAyLjgwOS42NzEuNDgxIDAgLjYzMy0uMDgyLjY1Mi0uMDk0LjMxLS4zMTQuNjk4LTEuMDg2LS4wMTctMS44MDItMS44MDUtMS44MDUtNS4wMS0yLjg4Mi04LjU3NC0yLjg4Mi0zLjUzNSAwLTYuNzA5IDEuMDY1LTguNDkzIDIuODQ4LS4yODguMjg4LS40Mi42MTYtLjM5MS45NzQuMDI1LjMwMi4xNy42MTQuMzkuODM2LjAxOS4wMTIuMTczLjA5OC42Ny4wOTggMS4wOTggMCAyLjU0MS0uNDExIDIuNzg5LS42NTkuMTQxLS4xNDEuMTg1LS4zNzkuMjM2LS42NTQuMDg2LS40NjIuMjAzLTEuMDk1LjkxNy0xLjQgMS4wMjYtLjQzOSAyLjQxMy0uNjggMy45MDUtLjY4eiIgY2xhc3M9InRyaXBldHRvLWZpbGwiLz48cGF0aCBkPSJNMTYuNSAxOGgtMTNhMi4zNzMgMi4zNzMgMCAwIDEtMi4zODgtMi41MjVjLjAwNC0uMDc3LjExOC0xLjkwMSAxLjI3LTMuNzM5YTcuNSA3LjUgMCAwIDEgMi42ODYtMi41NzdDNi40MjkgOC4zOSA4LjA4OCA4IDEwIDhzMy41NzEuMzkgNC45MzIgMS4xNTlhNy40ODMgNy40ODMgMCAwIDEgMi42ODYgMi41NzdjMS4xNTIgMS44MzkgMS4yNjYgMy42NjMgMS4yNyAzLjczOUEyLjM3NiAyLjM3NiAwIDAgMSAxNi41IDE4ek0xMCA5Yy0zLjExNyAwLTUuMzg4IDEuMDg4LTYuNzQ5IDMuMjMzLTEuMDMgMS42MjMtMS4xMzkgMy4yODItMS4xNCAzLjI5OS0uMDIyLjM5Mi4xMTEuNzYxLjM3MyAxLjAzOHMuNjIzLjQzIDEuMDE3LjQzaDEzYy4zOTMgMCAuNzU0LS4xNTMgMS4wMTctLjQzcy4zOTUtLjY0Ni4zNzMtMS4wMzljLS4wMDEtLjAxNi0uMTExLTEuNjc1LTEuMTQtMy4yOThDMTUuMzg5IDEwLjA4OCAxMy4xMTggOSAxMC4wMDIgOXoiIGNsYXNzPSJ0cmlwZXR0by1maWxsIi8+PHBhdGggZD0iTTEwIDE2Yy0xLjY1NCAwLTMtMS4zNDYtMy0zczEuMzQ2LTMgMy0zIDMgMS4zNDYgMyAzLTEuMzQ2IDMtMyAzem0wLTVjLTEuMTAzIDAtMiAuODk3LTIgMnMuODk3IDIgMiAyIDItLjg5NyAyLTItLjg5Ny0yLTItMnoiIGNsYXNzPSJ0cmlwZXR0by1maWxsIi8+PC9zdmc+"},954:function(e){e.exports=o(975)}},i={};function n(e){var o=i[e];if(void 0!==o)return o.exports;var l=i[e]={exports:{}};return t[e].call(l.exports,l,l.exports,n),l.exports}n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var l=n(110);e.exports=l}()},191:function(e,t,o){!function(){"use strict";var t={874:function(e,t,o){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=this&&this.__decorate||function(e,t,o,i){var n,l=arguments.length,a=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(l<3?n(a):l>3?n(t,o,a):n(t,o))||a);return l>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.Choice=void 0;var a=o(954),r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.name="",t.nameVisible=!0,t}return n(t,e),t.prototype.defineSlot=function(){if(this.ref.multiple&&!(0,a.isString)(this.url)){var e=this.name&&(0,a.markdownifyToString)(this.name,a.Markdown.MarkdownFeatures.Formatting|a.Markdown.MarkdownFeatures.Hyperlinks)||void 0,t=this.ref.slots.dynamic({type:a.Slots.Boolean,reference:this.id,label:(0,a.pgettext)("block:picture-choice","Image"),sequence:this.index,name:e,alias:this.value,required:this.ref.required,exportable:"concatenate"!==this.ref.format&&this.ref.exportable,pipeable:{label:(0,a.pgettext)("block:picture-choice","Image"),content:this.moniker?{string:e||"",markdown:this.moniker}:this.name!==e?{string:e||"",markdown:this.name}:"name",alias:this.ref.alias,legacy:"Image"}});t.labelForTrue=this.labelForTrue||this.ref.labelForTrue||(0,a.pgettext)("block:picture-choice","Selected"),t.labelForFalse=this.labelForFalse||this.ref.labelForFalse||(0,a.pgettext)("block:picture-choice","Not selected")}else this.deleteSlot()},t.prototype.deleteSlot=function(){this.ref.slots.delete(this.id,"dynamic")},t.prototype.defineEditor=function(){var e=this,t=new a.Forms.Text("singleline",a.Forms.Text.bind(this,"image",void 0)).label((0,a.pgettext)("block:picture-choice","Image source URL")).inputMode("url").placeholder("https://").action("@",(0,a.insertVariable)(this)).autoValidate((function(e){return""===e.value?"unknown":a.REGEX_IS_URL.test(e.value)||e.value.length>23&&0===e.value.indexOf("data:image/jpeg;base64,")||e.value.length>22&&0===e.value.indexOf("data:image/png;base64,")||e.value.length>22&&0===e.value.indexOf("data:image/svg;base64,")||e.value.length>22&&0===e.value.indexOf("data:image/gif;base64,")||e.value.length>1&&"/"===e.value.charAt(0)?"pass":"fail"})).visible(!(0,a.isString)(this.emoji)),o=new a.Forms.Group([new a.Forms.Text("singleline",a.Forms.Text.bind(this,"emoji",void 0)).label((0,a.pgettext)("block:picture-choice","Emoji")).maxLength(12).width(65).align("center"),new a.Forms.Static((0,a.pgettext)("block:picture-choice","Windows users press: **WIN + .**")).markdown(),new a.Forms.Static((0,a.pgettext)("block:picture-choice","MacOS users press: **CTRL + CMD + Space**")).markdown()]).visible((0,a.isString)(this.emoji));this.editor.option({name:(0,a.pgettext)("block:picture-choice","Name"),form:{title:(0,a.pgettext)("block:picture-choice","Image name"),controls:[new a.Forms.Text("singleline",a.Forms.Text.bind(this,"name","")).action("@",(0,a.insertVariable)(this)).autoFocus().autoSelect(),new a.Forms.Checkbox((0,a.pgettext)("block:picture-choice","Show this name with the image"),a.Forms.Checkbox.bind(this,"nameVisible",!0))]},locked:!0}),this.editor.form({title:(0,a.pgettext)("block:picture-choice","Image"),controls:[new a.Forms.Radiobutton([{label:(0,a.pgettext)("block:picture-choice","Use an image"),value:"image"},{label:(0,a.pgettext)("block:picture-choice","Use an Emoji"),value:"emoji"}],(0,a.isString)(this.emoji)?"emoji":"image").on((function(i){e.emoji="emoji"===i.value?e.emoji||"":void 0,t.visible("image"===i.value),o.visible("emoji"===i.value)})),t,o]}),this.editor.option({name:(0,a.pgettext)("block:picture-choice","Description"),form:{title:(0,a.pgettext)("block:picture-choice","Image description"),controls:[new a.Forms.Text("singleline",a.Forms.Text.bind(this,"description",void 0)).action("@",(0,a.insertVariable)(this))]},activated:(0,a.isString)(this.description)}),this.editor.group((0,a.pgettext)("block:picture-choice","Options"));var i=new a.Forms.Checkbox((0,a.pgettext)("block:picture-choice","Open in new tab/window"),"self"!==this.target).on((function(t){e.target=t.isFeatureEnabled&&!t.isDisabled?t.isChecked?"blank":"self":void 0}));this.editor.option({name:(0,a.pgettext)("block:picture-choice","URL"),form:{title:(0,a.pgettext)("block:picture-choice","URL"),controls:[new a.Forms.Text("singleline",a.Forms.Text.bind(this,"url",void 0)).placeholder("https://").action("@",(0,a.insertVariable)(this)).autoValidate((function(e){return""===e.value?"unknown":a.REGEX_IS_URL.test(e.value)||(0===e.value.indexOf("mailto:")||0===e.value.indexOf("tel:"))&&e.value.length>10?"pass":"fail"})).on((function(e){i.isDisabled=0===e.value.indexOf("mailto:")||0===e.value.indexOf("tel:")})),i,new a.Forms.Static((0,a.pgettext)("block:picture-choice","If a URL is set, clicking the image will open it. The image cannot be selected as answer."))]},activated:(0,a.isString)(this.url),on:function(t){n.disabled(t.isActivated),s.disabled(t.isActivated),l.disabled(t.isActivated||!e.ref.multiple),u.disabled(t.isActivated||!e.ref.multiple)}});var n=this.editor.option({name:(0,a.pgettext)("block:picture-choice","Moniker"),form:{title:(0,a.pgettext)("block:picture-choice","Image moniker"),controls:[new a.Forms.Text("singleline",a.Forms.Text.bind(this,"moniker",void 0)).action("@",(0,a.insertVariable)(this)),new a.Forms.Static((0,a.pgettext)("block:picture-choice","If a moniker is set, this moniker will be used when referred to this image."))]},activated:(0,a.isString)(this.moniker),disabled:(0,a.isString)(this.url)});this.editor.option({name:(0,a.pgettext)("block:picture-choice","Color"),form:{title:(0,a.pgettext)("block:picture-choice","Image button color"),controls:[new a.Forms.ColorPicker(a.Forms.ColorPicker.bind(this,"color",void 0)).placeholder((0,a.pgettext)("block:picture-choice","Select an alternative color")).swatches(!1,!0),new a.Forms.Static((0,a.pgettext)("block:picture-choice","Here you can specify an alternative color for the image button."))]},activated:(0,a.isString)(this.color)});var l=this.editor.option({name:(0,a.pgettext)("block:picture-choice","Exclusivity"),form:{title:(0,a.pgettext)("block:picture-choice","Image exclusivity"),controls:[new a.Forms.Checkbox((0,a.pgettext)("block:picture-choice","Unselect all other selected images when selected"),a.Forms.Checkbox.bind(this,"exclusive",void 0,!0))]},activated:this.ref.multiple&&!(0,a.isString)(this.url)&&(0,a.isBoolean)(this.exclusive)||!1,disabled:!this.ref.multiple||(0,a.isString)(this.url)}),r=(0,a.pgettext)("block:picture-choice","Selected"),c=(0,a.pgettext)("block:picture-choice","Not selected"),u=this.editor.option({name:(0,a.pgettext)("block:picture-choice","Labels"),form:{title:(0,a.pgettext)("block:picture-choice","Labels"),controls:[new a.Forms.Text("singleline",a.Forms.Text.bind(this,"labelForTrue",void 0)).placeholder(r),new a.Forms.Text("singleline",a.Forms.Text.bind(this,"labelForFalse",void 0)).placeholder(c),new a.Forms.Static((0,a.pgettext)("block:picture-choice","These labels will be used in the dataset and override the default values %1 and %2.","**".concat(r,"**"),"**".concat(c,"**"))).markdown()]},activated:(0,a.isString)(this.labelForTrue)||(0,a.isString)(this.labelForFalse),disabled:!this.ref.multiple||(0,a.isString)(this.url)}),s=this.editor.option({name:(0,a.pgettext)("block:picture-choice","Identifier"),form:{title:(0,a.pgettext)("block:picture-choice","Image identifier"),controls:[new a.Forms.Text("singleline",a.Forms.Text.bind(this,"value",void 0)),new a.Forms.Static((0,a.pgettext)("block:picture-choice","If an image identifier is set, this identifier will be used instead of the label."))]},activated:(0,a.isString)(this.value),disabled:(0,a.isString)(this.url)}),d=this.ref.slots.select("score","feature");this.editor.option({name:(0,a.pgettext)("block:picture-choice","Score"),form:{title:(0,a.pgettext)("block:picture-choice","Score"),controls:[new a.Forms.Numeric(a.Forms.Numeric.bind(this,"score",void 0)).precision((null==d?void 0:d.precision)||0).digits((null==d?void 0:d.digits)||0).decimalSign((null==d?void 0:d.decimal)||"").thousands(!!(null==d?void 0:d.separator),(null==d?void 0:d.separator)||"").prefix((null==d?void 0:d.prefix)||"").prefixPlural((null==d?void 0:d.prefixPlural)||void 0).suffix((null==d?void 0:d.suffix)||"").suffixPlural((null==d?void 0:d.suffixPlural)||void 0)]},activated:!0,locked:!!d,disabled:!d})},l([(0,a.definition)("string"),a.name],t.prototype,"name",void 0),l([(0,a.definition)("boolean","optional")],t.prototype,"nameVisible",void 0),l([(0,a.definition)("string","optional")],t.prototype,"image",void 0),l([(0,a.definition)("string","optional")],t.prototype,"emoji",void 0),l([(0,a.definition)("string","optional")],t.prototype,"description",void 0),l([(0,a.definition)("string","optional"),(0,a.affects)("#refresh")],t.prototype,"url",void 0),l([(0,a.definition)("string","optional")],t.prototype,"target",void 0),l([(0,a.definition)("string","optional"),(0,a.affects)("#refresh")],t.prototype,"moniker",void 0),l([(0,a.definition)("string","optional"),a.alias],t.prototype,"value",void 0),l([(0,a.definition)("string","optional"),(0,a.affects)("#refresh")],t.prototype,"labelForTrue",void 0),l([(0,a.definition)("string","optional"),(0,a.affects)("#refresh")],t.prototype,"labelForFalse",void 0),l([(0,a.definition)("number","optional"),a.score],t.prototype,"score",void 0),l([(0,a.definition)("boolean","optional"),(0,a.affects)("#name")],t.prototype,"exclusive",void 0),l([(0,a.definition)("string","optional")],t.prototype,"color",void 0),l([a.created,a.reordered,a.renamed,a.refreshed],t.prototype,"defineSlot",null),l([a.deleted],t.prototype,"deleteSlot",null),l([a.editor],t.prototype,"defineEditor",null),t}(a.Collection.Item);t.Choice=r},282:function(e,t,o){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=this&&this.__decorate||function(e,t,o,i){var n,l=arguments.length,a=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(l<3?n(a):l>3?n(t,o,a):n(t,o))||a);return l>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.PictureChoiceCondition=void 0;var a=o(954),r=o(110),c=o(537),u=o(843),s=o(481),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),Object.defineProperty(t.prototype,"icon",{get:function(){var e,t;return(null===(e=this.node)||void 0===e?void 0:e.block)instanceof r.PictureChoice&&(null===(t=this.node)||void 0===t?void 0:t.block.multiple)?s.default:u.default},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){var e;return(null===(e=this.choice)||void 0===e?void 0:e.name)||this.type.label},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"label",{get:function(){var e;return(null===(e=this.node)||void 0===e?void 0:e.block)instanceof r.PictureChoice&&(this.node.block.alias||this.node.label)||""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"choices",{get:function(){return this.node&&this.node.block instanceof r.PictureChoice&&this.node.block.choices||void 0},enumerable:!1,configurable:!0}),t.prototype.migrate=function(){var e,t=this;if(this.choice&&(null===(e=this.node)||void 0===e?void 0:e.block)instanceof r.PictureChoice){var o=this.node.block.slots,i=this.node.block.multiple?this.choice.id:"choice";return function(){var e;return(null===(e=t.node)||void 0===e?void 0:e.block)instanceof r.PictureChoice&&(t.slot=o.select(i),!0)}}},t.prototype.defineEditor=function(){if(this.node&&this.choices){var e=[];this.choices.each((function(t){(0,a.isFilledString)(t.name)&&e.push({label:(0,a.markdownifyToString)(t.name),value:t})})),(0,a.arraySize)(e)>0&&this.editor.form({title:this.node.label,controls:[new a.Forms.Dropdown(e,a.Forms.Dropdown.bind(this,"choice",void 0))]})}},l([(0,a.affects)("#condition"),(0,a.collection)("#choices")],t.prototype,"choice",void 0),l([(0,a.detached)("slot")],t.prototype,"migrate",null),l([a.editor],t.prototype,"defineEditor",null),l([(0,a.tripetto)({type:"condition",legacyBlock:!0,context:"@tripetto/block-picture-choice",identifier:"@tripetto/block-picture-choice",version:"6.0.1",icon:c.default,alias:"picture-choice",get label(){return(0,a.pgettext)("block:picture-choice","Image")}})],t)}(a.ConditionBlock);t.PictureChoiceCondition=d},929:function(e,t,o){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=this&&this.__decorate||function(e,t,o,i){var n,l=arguments.length,a=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(l<3?n(a):l>3?n(t,o,a):n(t,o))||a);return l>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.CounterCondition=void 0;var a=o(954),r=o(948),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.allowMarkdown=!0,t.mode="equal",t}return n(t,e),Object.defineProperty(t.prototype,"label",{get:function(){return""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){var e=this.slot;if(e instanceof a.Slots.Number){var t=this.parse(e,this.value);switch(this.mode){case"between":return"".concat(t," ≤ @").concat(e.id," ≤ ").concat(this.parse(e,this.to));case"not-between":return"@".concat(e.id," < ").concat(t," ").concat((0,a.pgettext)("block:picture-choice","or")," @").concat(e.id," > ").concat(this.parse(e,this.to));case"not-equal":return"@".concat(e.id," ≠ ").concat(t);case"above":case"below":case"equal":return"@".concat(e.id," ").concat("above"===this.mode?">":"below"===this.mode?"<":"="," ").concat(t)}}return this.type.label},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){var e,t;return(null===(e=this.slot)||void 0===e?void 0:e.label)||(null===(t=this.node)||void 0===t?void 0:t.label)},enumerable:!1,configurable:!0}),t.prototype.parse=function(e,t){var o;return(0,a.isNumberFinite)(t)?e.toString(t,(function(e){return a.L10n.locale.number(e,0,!1)})):(0,a.isString)(t)&&t&&(null===(o=(0,a.lookupVariable)(this,t))||void 0===o?void 0:o.label)?"@".concat(t):"\\_\\_"},t.prototype.defineEditor=function(){var e=this;this.editor.form({title:(0,a.pgettext)("block:picture-choice","Compare mode"),controls:[new a.Forms.Radiobutton([{label:(0,a.pgettext)("block:picture-choice","Counter is equal to"),value:"equal"},{label:(0,a.pgettext)("block:picture-choice","Counter is not equal to"),value:"not-equal"},{label:(0,a.pgettext)("block:picture-choice","Counter is lower than"),value:"below"},{label:(0,a.pgettext)("block:picture-choice","Counter is higher than"),value:"above"},{label:(0,a.pgettext)("block:picture-choice","Counter is between"),value:"between"},{label:(0,a.pgettext)("block:picture-choice","Counter is not between"),value:"not-between"}],a.Forms.Radiobutton.bind(this,"mode","equal")).on((function(e){switch(i.visible("between"===e.value||"not-between"===e.value),e.value){case"equal":o.title=(0,a.pgettext)("block:picture-choice","If counter equals");break;case"not-equal":o.title=(0,a.pgettext)("block:picture-choice","If counter not equals");break;case"below":o.title=(0,a.pgettext)("block:picture-choice","If counter is lower than");break;case"above":o.title=(0,a.pgettext)("block:picture-choice","If counter is higher than");break;case"between":o.title=(0,a.pgettext)("block:picture-choice","If counter is between");break;case"not-between":o.title=(0,a.pgettext)("block:picture-choice","If counter is not between")}}))]});var t=function(t,o){var i,n=e[t],l=new a.Forms.Numeric((0,a.isNumberFinite)(n)?n:0).label((0,a.pgettext)("block:picture-choice","Use fixed number")).autoFocus("value"===t).escape(e.editor.close).enter((function(){return("between"!==e.mode&&"not-between"!==e.mode||"to"===t)&&e.editor.close()})).on((function(o){o.isFormVisible&&o.isObservable&&(e[t]=o.value)})),r=(0,a.populateVariables)(e,(function(e){return e instanceof a.Slots.Number||e instanceof a.Slots.Numeric}),(0,a.isString)(n)?n:void 0,!0,null===(i=e.slot)||void 0===i?void 0:i.id),c=new a.Forms.Dropdown(r,(0,a.isString)(n)?n:"").label((0,a.pgettext)("block:picture-choice","Use value of")).width("full").on((function(o){o.isFormVisible&&o.isObservable&&(e[t]=o.value||"")}));return e.editor.form({title:o,controls:[new a.Forms.Radiobutton([{label:(0,a.pgettext)("block:picture-choice","Number"),value:"number"},{label:(0,a.pgettext)("block:picture-choice","Value"),value:"variable",disabled:0===r.length}],(0,a.isString)(n)?"variable":"number").on((function(e){l.visible("number"===e.value),c.visible("variable"===e.value),l.isObservable&&l.focus()})),l,c]})},o=t("value",(0,a.pgettext)("block:picture-choice","If counter equals")),i=t("to",(0,a.pgettext)("block:picture-choice","And"))},l([a.definition,(0,a.affects)("#name")],t.prototype,"mode",void 0),l([a.definition,(0,a.affects)("#name")],t.prototype,"value",void 0),l([a.definition,(0,a.affects)("#name")],t.prototype,"to",void 0),l([a.editor],t.prototype,"defineEditor",null),l([(0,a.tripetto)({type:"condition",legacyBlock:!0,context:"@tripetto/block-picture-choice",identifier:"".concat("@tripetto/block-picture-choice",":counter"),version:"6.0.1",icon:r.default,get label(){return(0,a.pgettext)("block:picture-choice","Verify counter")}})],t)}(a.ConditionBlock);t.CounterCondition=c},287:function(e,t,o){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=this&&this.__decorate||function(e,t,o,i){var n,l=arguments.length,a=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(l<3?n(a):l>3?n(t,o,a):n(t,o))||a);return l>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.ScoreCondition=void 0;var a=o(954),r=o(939),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.allowMarkdown=!0,t.mode="equal",t}return n(t,e),Object.defineProperty(t.prototype,"label",{get:function(){return""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){var e=this.slot;if(e instanceof a.Slots.Numeric){var t=this.parse(e,this.value);switch(this.mode){case"between":return"".concat(t," ≤ @").concat(e.id," ≤ ").concat(this.parse(e,this.to));case"not-between":return"@".concat(e.id," < ").concat(t," ").concat((0,a.pgettext)("block:picture-choice","or")," @").concat(e.id," > ").concat(this.parse(e,this.to));case"defined":return"@".concat(e.id," ").concat((0,a.pgettext)("block:picture-choice","calculated"));case"undefined":return"@".concat(e.id," ").concat((0,a.pgettext)("block:picture-choice","not calculated"));case"not-equal":return"@".concat(e.id," ≠ ").concat(t);case"above":case"below":case"equal":return"@".concat(e.id," ").concat("above"===this.mode?">":"below"===this.mode?"<":"="," ").concat(t)}}return this.type.label},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){var e,t;return(null===(e=this.slot)||void 0===e?void 0:e.label)||(null===(t=this.node)||void 0===t?void 0:t.label)},enumerable:!1,configurable:!0}),t.prototype.parse=function(e,t){var o;return(0,a.isNumberFinite)(t)?e.toString(t,(function(e,t){return a.L10n.locale.number(e,t,!1)})):(0,a.isString)(t)&&t&&(null===(o=(0,a.lookupVariable)(this,t))||void 0===o?void 0:o.label)?"@".concat(t):"\\_\\_"},t.prototype.defineEditor=function(){var e=this;this.editor.form({title:(0,a.pgettext)("block:picture-choice","Compare mode"),controls:[new a.Forms.Radiobutton([{label:(0,a.pgettext)("block:picture-choice","Score is equal to"),value:"equal"},{label:(0,a.pgettext)("block:picture-choice","Score is not equal to"),value:"not-equal"},{label:(0,a.pgettext)("block:picture-choice","Score is lower than"),value:"below"},{label:(0,a.pgettext)("block:picture-choice","Score is higher than"),value:"above"},{label:(0,a.pgettext)("block:picture-choice","Score is between"),value:"between"},{label:(0,a.pgettext)("block:picture-choice","Score is not between"),value:"not-between"},{label:(0,a.pgettext)("block:picture-choice","Score is calculated"),value:"defined"},{label:(0,a.pgettext)("block:picture-choice","Score is not calculated"),value:"undefined"}],a.Forms.Radiobutton.bind(this,"mode","equal")).on((function(e){switch(o.visible("defined"!==e.value&&"undefined"!==e.value),i.visible("between"===e.value||"not-between"===e.value),e.value){case"equal":o.title=(0,a.pgettext)("block:picture-choice","If score equals");break;case"not-equal":o.title=(0,a.pgettext)("block:picture-choice","If score not equals");break;case"below":o.title=(0,a.pgettext)("block:picture-choice","If score is lower than");break;case"above":o.title=(0,a.pgettext)("block:picture-choice","If score is higher than");break;case"between":o.title=(0,a.pgettext)("block:picture-choice","If score is between");break;case"not-between":o.title=(0,a.pgettext)("block:picture-choice","If score is not between")}}))]});var t=function(t,o,i){var n,l=e[t],r=e.slot,c=new a.Forms.Numeric((0,a.isNumberFinite)(l)?l:0).label((0,a.pgettext)("block:picture-choice","Use fixed number")).precision((null==r?void 0:r.precision)||0).digits((null==r?void 0:r.digits)||0).decimalSign((null==r?void 0:r.decimal)||"").thousands(!!(null==r?void 0:r.separator),(null==r?void 0:r.separator)||"").prefix((null==r?void 0:r.prefix)||"").prefixPlural((null==r?void 0:r.prefixPlural)||void 0).suffix((null==r?void 0:r.suffix)||"").suffixPlural((null==r?void 0:r.suffixPlural)||void 0).autoFocus("value"===t).escape(e.editor.close).enter((function(){return("between"!==e.mode&&"not-between"!==e.mode||"to"===t)&&e.editor.close()})).on((function(o){o.isFormVisible&&o.isObservable&&(e[t]=o.value)})),u=(0,a.populateVariables)(e,(function(e){return e instanceof a.Slots.Number||e instanceof a.Slots.Numeric}),(0,a.isString)(l)?l:void 0,!0,null===(n=e.slot)||void 0===n?void 0:n.id),s=new a.Forms.Dropdown(u,(0,a.isString)(l)?l:"").label((0,a.pgettext)("block:picture-choice","Use value of")).width("full").on((function(o){o.isFormVisible&&o.isObservable&&(e[t]=o.value||"")}));return e.editor.form({title:o,controls:[new a.Forms.Radiobutton([{label:(0,a.pgettext)("block:picture-choice","Number"),value:"number"},{label:(0,a.pgettext)("block:picture-choice","Value"),value:"variable",disabled:0===u.length}],(0,a.isString)(l)?"variable":"number").on((function(e){c.visible("number"===e.value),s.visible("variable"===e.value),c.isObservable&&c.focus()})),c,s]}).visible(i)},o=t("value",(0,a.pgettext)("block:picture-choice","If score equals"),"defined"!==this.mode&&"undefined"!==this.mode),i=t("to",(0,a.pgettext)("block:picture-choice","And"),"between"===this.mode||"not-between"===this.mode)},l([a.definition,(0,a.affects)("#name")],t.prototype,"mode",void 0),l([a.definition,(0,a.affects)("#name")],t.prototype,"value",void 0),l([a.definition,(0,a.affects)("#name")],t.prototype,"to",void 0),l([a.editor],t.prototype,"defineEditor",null),l([(0,a.tripetto)({type:"condition",legacyBlock:!0,context:"@tripetto/block-picture-choice",identifier:"".concat("@tripetto/block-picture-choice",":score"),version:"6.0.1",icon:r.default,get label(){return(0,a.pgettext)("block:picture-choice","Verify score")}})],t)}(a.ConditionBlock);t.ScoreCondition=c},124:function(e,t,o){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=this&&this.__decorate||function(e,t,o,i){var n,l=arguments.length,a=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(l<3?n(a):l>3?n(t,o,a):n(t,o))||a);return l>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.PictureChoiceUndefinedCondition=void 0;var a=o(954),r=o(417),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),l([(0,a.tripetto)({type:"condition",legacyBlock:!0,context:"@tripetto/block-picture-choice",identifier:"".concat("@tripetto/block-picture-choice",":undefined"),version:"6.0.1",icon:r.default,get label(){return(0,a.pgettext)("block:picture-choice","No image selected")}})],t)}(a.ConditionBlock);t.PictureChoiceUndefinedCondition=c},110:function(e,t,o){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=this&&this.__decorate||function(e,t,o,i){var n,l=arguments.length,a=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(l<3?n(a):l>3?n(t,o,a):n(t,o))||a);return l>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.PictureChoice=void 0;var a=o(954),r=o(874),c=o(282),u=o(124),s=o(287),d=o(929),p=o(617),b=o(843),g=o(481),f=o(948),M=o(939),h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.choices=a.Collection.of(r.Choice,t),t}return n(t,e),Object.defineProperty(t.prototype,"label",{get:function(){return(0,a.npgettext)("block:picture-choice","%2 (%1 image)","%2 (%1 images)",this.choices.count,this.type.label)},enumerable:!1,configurable:!0}),t.prototype.defineSlot=function(){this.multiple?(this.slots.delete("choice","static"),this.slots.meta({type:a.Slots.Number,reference:"counter",label:(0,a.pgettext)("block:picture-choice","Counter"),exportable:!1,protected:!0}),"concatenate"===this.format||"both"===this.format?this.slots.feature({type:a.Slots.Text,reference:"concatenation",label:(0,a.pgettext)("block:picture-choice","Text value"),exportable:this.exportable,alias:this.alias,protected:!0}):this.slots.delete("concatenation","feature")):(this.slots.delete("counter","meta"),this.slots.delete("concatenation","feature"),this.slots.static({type:a.Slots.String,reference:"choice",label:(0,a.pgettext)("block:picture-choice","Image"),alias:this.alias,required:this.required,exportable:this.exportable,exchange:["alias","required","exportable"]}))},t.prototype.defineEditor=function(){var e=this;this.editor.name(!0,!0),this.editor.option({name:(0,a.pgettext)("block:picture-choice","Caption"),form:{title:(0,a.pgettext)("block:picture-choice","Caption"),controls:[new a.Forms.Text("multiline",a.Forms.Text.bind(this,"caption",void 0)).placeholder((0,a.pgettext)("block:picture-choice","Type caption text here...")).action("@",(0,a.insertVariable)(this))]},activated:(0,a.isString)(this.caption)}),this.editor.description(),this.editor.option({name:(0,a.pgettext)("block:picture-choice","Image"),form:{title:(0,a.pgettext)("block:picture-choice","Image"),controls:[new a.Forms.Text("singleline",a.Forms.Text.bind(this,"imageURL",void 0)).label((0,a.pgettext)("block:picture-choice","Image source URL")).inputMode("url").placeholder("https://").action("@",(0,a.insertVariable)(this)).autoValidate((function(e){return""===e.value?"unknown":a.REGEX_IS_URL.test(e.value)||e.value.length>23&&0===e.value.indexOf("data:image/jpeg;base64,")||e.value.length>22&&0===e.value.indexOf("data:image/png;base64,")||e.value.length>22&&0===e.value.indexOf("data:image/svg;base64,")||e.value.length>22&&0===e.value.indexOf("data:image/gif;base64,")||e.value.length>1&&"/"===e.value.charAt(0)?"pass":"fail"})),new a.Forms.Text("singleline",a.Forms.Checkbox.bind(this,"imageWidth",void 0)).label((0,a.pgettext)("block:picture-choice","Image width (optional)")).width(100).align("center"),new a.Forms.Checkbox((0,a.pgettext)("block:picture-choice","Display image on top of the paragraph"),a.Forms.Checkbox.bind(this,"imageAboveText",void 0))]},activated:(0,a.isString)(this.imageURL)}),this.editor.explanation();var t=this.editor.collection({collection:this.choices,title:(0,a.pgettext)("block:picture-choice","Images"),placeholder:(0,a.pgettext)("block:picture-choice","Unnamed image"),icon:this.multiple?g.default:b.default,autoOpen:!0,allowVariables:!0,allowImport:!0,allowExport:!0,allowDedupe:!0,showAliases:!0,markdown:a.Markdown.MarkdownFeatures.Formatting|a.Markdown.MarkdownFeatures.Hyperlinks,sorting:"manual",indicator:function(t){return e.multiple&&t.exclusive&&(0,a.pgettext)("block:picture-choice","Exclusive").toUpperCase()||void 0},emptyMessage:(0,a.pgettext)("block:picture-choice","Click the + button to add an image...")});this.editor.groups.settings(),this.editor.option({name:(0,a.pgettext)("block:picture-choice","Multiple select"),form:{title:(0,a.pgettext)("block:picture-choice","Multiple select"),controls:[new a.Forms.Checkbox((0,a.pgettext)("block:picture-choice","Allow the selection of multiple images"),a.Forms.Checkbox.bind(this,"multiple",void 0,!0)).on((function(){n.disabled(!e.multiple),c.disabled(!e.multiple),p.disabled(!e.multiple),u.disabled(e.multiple&&"concatenate"!==e.format&&"both"!==e.format||!1),t.icon=e.multiple?g.default:b.default,e.choices.each((function(e){!0===e.exclusive&&e.refresh("name")}))}))]},activated:(0,a.isBoolean)(this.multiple)});var o=new a.Forms.Numeric(a.Forms.Numeric.bind(this,"min",void 0)).min(1).max(this.max).visible((0,a.isNumber)(this.min)).indent(32).width(75).on((function(){i.min(e.min||1)})),i=new a.Forms.Numeric(a.Forms.Numeric.bind(this,"max",void 0)).min(this.min||1).visible((0,a.isNumber)(this.max)).indent(32).width(75).on((function(){o.max(e.max)})),n=this.editor.option({name:(0,a.pgettext)("block:picture-choice","Limits"),form:{title:(0,a.pgettext)("block:picture-choice","Limits"),controls:[new a.Forms.Checkbox((0,a.pgettext)("block:picture-choice","Minimum number of selected images"),(0,a.isNumber)(this.min)).on((function(e){o.visible(e.isChecked)})),o,new a.Forms.Checkbox((0,a.pgettext)("block:picture-choice","Maximum number of selected images"),(0,a.isNumber)(this.max)).on((function(e){i.visible(e.isChecked)})),i]},activated:(0,a.isNumber)(this.max)||(0,a.isNumber)(this.min),disabled:!this.multiple});this.editor.option({name:(0,a.pgettext)("block:picture-choice","Randomization"),form:{title:(0,a.pgettext)("block:picture-choice","Randomization"),controls:[new a.Forms.Checkbox((0,a.pgettext)("block:picture-choice","Randomize the images (using [Fisher-Yates shuffle](%1))","https://en.wikipedia.org/wiki/Fisher%E2%80%93Yates_shuffle"),a.Forms.Checkbox.bind(this,"randomize",void 0,!0)).markdown()]},activated:(0,a.isBoolean)(this.randomize)}),this.editor.option({name:(0,a.pgettext)("block:picture-choice","Size"),form:{title:(0,a.pgettext)("block:picture-choice","Size"),controls:[new a.Forms.Radiobutton([{label:(0,a.pgettext)("block:picture-choice","Small"),value:"small"},{label:(0,a.pgettext)("block:picture-choice","Medium"),value:"medium"},{label:(0,a.pgettext)("block:picture-choice","Large"),value:"large"}],a.Forms.Radiobutton.bind(this,"size",void 0,"medium"))]},activated:(0,a.isString)(this.size)}),this.editor.groups.options(),this.editor.required(this),this.editor.visibility();var l=(0,a.pgettext)("block:picture-choice","Selected"),r=(0,a.pgettext)("block:picture-choice","Not selected"),c=this.editor.option({name:(0,a.pgettext)("block:picture-choice","Labels"),form:{title:(0,a.pgettext)("block:picture-choice","Labels"),controls:[new a.Forms.Text("singleline",a.Forms.Text.bind(this,"labelForTrue",void 0)).placeholder(l),new a.Forms.Text("singleline",a.Forms.Text.bind(this,"labelForFalse",void 0)).placeholder(r),new a.Forms.Static((0,a.pgettext)("block:picture-choice","These labels will be used in the dataset and override the default values %1 and %2.","**".concat(l,"**"),"**".concat(r,"**"))).markdown()]},activated:(0,a.isString)(this.labelForTrue)||(0,a.isString)(this.labelForFalse),disabled:!this.multiple});this.editor.scores({target:this,collection:t,description:(0,a.pgettext)("block:picture-choice","Generates a score based on the selected choices. Open the settings panel for each choice to set the individual score for that choice.")});var u=this.editor.alias(this).disabled(this.multiple&&"concatenate"!==this.format&&"both"!==this.format||!1),s=new a.Forms.Text("singleline",a.Forms.Text.bind(this,"formatSeparatorCustom",void 0)).visible("custom"===this.formatSeparator).sanitize(!1).width(200).label((0,a.pgettext)("block:picture-choice","Use this separator:")),d=new a.Forms.Group([new a.Forms.Dropdown([{label:(0,a.pgettext)("block:picture-choice","Comma separated"),value:"comma"},{label:(0,a.pgettext)("block:picture-choice","Space separated"),value:"space"},{label:(0,a.pgettext)("block:picture-choice","List on multiple lines"),value:"list"},{label:(0,a.pgettext)("block:picture-choice","Bulleted list"),value:"bullets"},{label:(0,a.pgettext)("block:picture-choice","Numbered list"),value:"numbers"},{label:(0,a.pgettext)("block:picture-choice","Language sensitive conjunction (_, _, and _)"),value:"conjunction"},{label:(0,a.pgettext)("block:picture-choice","Language sensitive disjunction (_, _, or _)"),value:"disjunction"},{label:(0,a.pgettext)("block:picture-choice","Custom separator"),value:"custom"}],a.Forms.Radiobutton.bind(this,"formatSeparator",void 0,"comma")).label((0,a.pgettext)("block:picture-choice","How to separate the selected images:")).on((function(e){s.visible("custom"===e.value)})),s]).visible("concatenate"===this.format||"both"===this.format),p=this.editor.option({name:(0,a.pgettext)("block:picture-choice","Data format"),form:{title:(0,a.pgettext)("block:picture-choice","Data format"),controls:[new a.Forms.Radiobutton([{label:(0,a.pgettext)("block:picture-choice","Every image as a separate field"),description:(0,a.pgettext)("block:picture-choice","Every image is included in the dataset as a separate value."),value:"fields"},{label:(0,a.pgettext)("block:picture-choice","Text field with a list of all selected images"),description:(0,a.pgettext)("block:picture-choice","All the selected images are concatenated to a single string of text separated using a configurable separator."),value:"concatenate"},{label:(0,a.pgettext)("block:picture-choice","Both options above"),description:(0,a.pgettext)("block:picture-choice","Includes every image in the dataset together with the concatenated text."),value:"both"}],a.Forms.Radiobutton.bind(this,"format",void 0,"fields")).label((0,a.pgettext)("block:picture-choice","This setting determines how the data is stored in the dataset:")).on((function(t){d.visible("concatenate"===t.value||"both"===t.value),u.disabled(e.multiple&&"concatenate"!==e.format&&"both"!==e.format||!1)})),d]},activated:(0,a.isString)(this.format),disabled:!this.multiple});this.editor.exportable(this)},t.prototype.defineConditions=function(){var e=this;this.choices.each((function(t){t.name&&!(0,a.isString)(t.url)&&e.conditions.template({condition:c.PictureChoiceCondition,label:t.name,icon:e.multiple?g.default:b.default,burst:"branch",props:{choice:t,slot:e.slots.select(e.multiple?t.id:"choice")}})})),this.choices.count>0&&this.conditions.template({condition:u.PictureChoiceUndefinedCondition,separator:!0});var t=this.slots.select("counter","meta");if(t&&t.label){var o=this.conditions.group(t.label,f.default);(0,a.each)([{mode:"equal",label:(0,a.pgettext)("block:picture-choice","Counter is equal to")},{mode:"not-equal",label:(0,a.pgettext)("block:picture-choice","Counter is not equal to")},{mode:"below",label:(0,a.pgettext)("block:picture-choice","Counter is lower than")},{mode:"above",label:(0,a.pgettext)("block:picture-choice","Counter is higher than")},{mode:"between",label:(0,a.pgettext)("block:picture-choice","Counter is between")},{mode:"not-between",label:(0,a.pgettext)("block:picture-choice","Counter is not between")}],(function(e){o.template({condition:d.CounterCondition,label:e.label,autoOpen:!0,props:{slot:t,mode:e.mode,value:0,to:"between"===e.mode||"not-between"===e.mode?0:void 0}})}))}var i=this.slots.select("score","feature");if(i&&i.label){var n=this.conditions.group(i.label,M.default);(0,a.each)([{mode:"equal",label:(0,a.pgettext)("block:picture-choice","Score is equal to")},{mode:"not-equal",label:(0,a.pgettext)("block:picture-choice","Score is not equal to")},{mode:"below",label:(0,a.pgettext)("block:picture-choice","Score is lower than")},{mode:"above",label:(0,a.pgettext)("block:picture-choice","Score is higher than")},{mode:"between",label:(0,a.pgettext)("block:picture-choice","Score is between")},{mode:"not-between",label:(0,a.pgettext)("block:picture-choice","Score is not between")},{mode:"defined",label:(0,a.pgettext)("block:picture-choice","Score is calculated")},{mode:"undefined",label:(0,a.pgettext)("block:picture-choice","Score is not calculated")}],(function(e){n.template({condition:s.ScoreCondition,label:e.label,autoOpen:"defined"!==e.mode&&"undefined"!==e.mode,props:{slot:i,mode:e.mode,value:0,to:"between"===e.mode||"not-between"===e.mode?0:void 0}})}))}},l([(0,a.definition)("string","optional")],t.prototype,"caption",void 0),l([(0,a.definition)("string","optional")],t.prototype,"imageURL",void 0),l([(0,a.definition)("string","optional")],t.prototype,"imageWidth",void 0),l([(0,a.definition)("boolean","optional")],t.prototype,"imageAboveText",void 0),l([(0,a.definition)("items"),(0,a.affects)("#name"),(0,a.supplies)("#slot","choice")],t.prototype,"choices",void 0),l([(0,a.definition)("boolean","optional"),(0,a.affects)("#slots"),(0,a.affects)("#collection","choices")],t.prototype,"multiple",void 0),l([(0,a.definition)("number","optional")],t.prototype,"min",void 0),l([(0,a.definition)("number","optional")],t.prototype,"max",void 0),l([(0,a.definition)("boolean","optional"),(0,a.affects)("#required"),(0,a.affects)("#slots"),(0,a.affects)("#collection","choices")],t.prototype,"required",void 0),l([(0,a.definition)("string","optional"),(0,a.affects)("#slots"),(0,a.affects)("#collection","choices"),(0,a.affects)("#label")],t.prototype,"alias",void 0),l([(0,a.definition)("boolean","optional"),(0,a.affects)("#slots"),(0,a.affects)("#collection","choices")],t.prototype,"exportable",void 0),l([(0,a.definition)("string","optional"),(0,a.affects)("#collection","choices")],t.prototype,"labelForTrue",void 0),l([(0,a.definition)("string","optional"),(0,a.affects)("#collection","choices")],t.prototype,"labelForFalse",void 0),l([(0,a.definition)("boolean","optional")],t.prototype,"randomize",void 0),l([a.definition],t.prototype,"size",void 0),l([(0,a.definition)("string","optional"),(0,a.affects)("#slots"),(0,a.affects)("#collection","choices")],t.prototype,"format",void 0),l([(0,a.definition)("string","optional")],t.prototype,"formatSeparator",void 0),l([(0,a.definition)("string","optional")],t.prototype,"formatSeparatorCustom",void 0),l([a.slots],t.prototype,"defineSlot",null),l([a.editor],t.prototype,"defineEditor",null),l([a.conditions],t.prototype,"defineConditions",null),l([(0,a.tripetto)({type:"node",legacyBlock:!0,identifier:"@tripetto/block-picture-choice",version:"6.0.1",icon:p.default,alias:"picture-choice",get label(){return(0,a.pgettext)("block:picture-choice","Picture choice")}})],t)}(a.NodeBlock);t.PictureChoice=h},537:function(e,t,o){o.r(t),t.default="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCI+PHBhdGggZD0iTTE2LjIzIDMuMzA3Yy0uMzk2LS4yNjgtLjk0OS0uNTA0LTEuNjQzLS43MDJDMTMuMjIxIDIuMjE1IDExLjQxNSAyIDkuNSAycy0zLjcyMi4yMTUtNS4wODcuNjA1Yy0uNjk0LjE5OC0xLjI0Ni40MzQtMS42NDMuNzAyLS42MzcuNDMtLjc3Ljg4Ni0uNzcgMS4xOTNWNWMwIC40MjguMzIxIDEuMTMzLjYzOSAxLjYwOWw0Ljg5MSA3LjMzNmMuMjUxLjM3Ni40NzEgMS4xMDMuNDcxIDEuNTU1djNhLjUuNSAwIDAgMCAuNzI0LjQ0N2wyLTFhLjUuNSAwIDAgMCAuMjc2LS40NDd2LTJjMC0uNDUyLjIyLTEuMTc5LjQ3MS0xLjU1NWw0Ljg5MS03LjMzNmMuMzE3LS40NzYuNjM5LTEuMTgyLjYzOS0xLjYwOXYtLjVjMC0uMzA3LS4xMzQtLjc2My0uNzctMS4xOTN6bS0xMS41NDIuMjZDNS45NjcgMy4yMDIgNy42NzYgMyA5LjUgM3MzLjUzNC4yMDEgNC44MTIuNTY3QzE1LjY5IDMuOTYxIDE2IDQuMzgzIDE2IDQuNXMtLjMxLjU0LTEuNjg4LjkzM0MxMy4wMzMgNS43OTggMTEuMzI0IDYgOS41IDZzLTMuNTM0LS4yMDEtNC44MTItLjU2N0MzLjMxIDUuMDM5IDMgNC42MTcgMyA0LjVzLjMxLS41NCAxLjY4OC0uOTMzem01Ljk1MSA5LjgyNGMtLjM1OC41MzctLjYzOSAxLjQ2NC0uNjM5IDIuMTA5djEuNjkxbC0xIC41VjE1LjVjMC0uNjQ2LS4yODEtMS41NzItLjYzOS0yLjEwOWwtNC44OC03LjMyYy4yNzQuMTE3LjU4NS4yMjYuOTMyLjMyNEM1Ljc3OSA2Ljc4NSA3LjU4NSA3IDkuNSA3czMuNzIyLS4yMTUgNS4wODctLjYwNWMuMzQ2LS4wOTkuNjU4LS4yMDcuOTMyLS4zMjVsLTQuODggNy4zMnoiIGNsYXNzPSJ0cmlwZXR0by1maWxsIi8+PC9zdmc+"},948:function(e,t,o){o.r(t),t.default="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCI+PHBhdGggZD0iTTIgNmEuNTAyLjUwMiAwIDAgMS0uMzU0LS4xNDZsLTEuNS0xLjVhLjUuNSAwIDAgMSAuNzA3LS43MDdsMS4xNDYgMS4xNDZMNi4xNDUuNjQ3YS41LjUgMCAwIDEgLjcwNy43MDdsLTQuNSA0LjVBLjQ5OC40OTggMCAwIDEgMS45OTggNnptMTcuNS0xaC0xMmEuNS41IDAgMCAxIDAtMWgxMmEuNS41IDAgMCAxIDAgMXpNMiAxM2EuNTAyLjUwMiAwIDAgMS0uMzU0LS4xNDZsLTEuNS0xLjVhLjUuNSAwIDAgMSAuNzA3LS43MDdsMS4xNDYgMS4xNDYgNC4xNDYtNC4xNDZhLjUuNSAwIDAgMSAuNzA3LjcwN2wtNC41IDQuNWEuNDk4LjQ5OCAwIDAgMS0uMzU0LjE0NnptMTcuNS0xaC0xMmEuNS41IDAgMCAxIDAtMWgxMmEuNS41IDAgMCAxIDAgMXpNMiAyMGEuNTAyLjUwMiAwIDAgMS0uMzU0LS4xNDZsLTEuNS0xLjVhLjUuNSAwIDAgMSAuNzA3LS43MDdsMS4xNDYgMS4xNDYgNC4xNDYtNC4xNDZhLjUuNSAwIDAgMSAuNzA3LjcwN2wtNC41IDQuNWEuNDk4LjQ5OCAwIDAgMS0uMzU0LjE0NnptMTcuNS0xaC0xMmEuNS41IDAgMCAxIDAtMWgxMmEuNS41IDAgMCAxIDAgMXoiIGNsYXNzPSJ0cmlwZXR0by1maWxsIi8+PC9zdmc+"},617:function(e,t,o){o.r(t),t.default="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCI+PHBhdGggZD0iTTEzLjUgOUMxMi4xMjIgOSAxMSA3Ljg3OCAxMSA2LjVTMTIuMTIyIDQgMTMuNSA0IDE2IDUuMTIyIDE2IDYuNSAxNC44NzggOSAxMy41IDl6bTAtNGMtLjgyNyAwLTEuNS42NzMtMS41IDEuNVMxMi42NzMgOCAxMy41IDggMTUgNy4zMjcgMTUgNi41IDE0LjMyNyA1IDEzLjUgNXoiIGNsYXNzPSJ0cmlwZXR0by1maWxsIi8+PHBhdGggZD0iTTE4LjUgMGgtMTdDLjY3MyAwIDAgLjY3MyAwIDEuNXYxN2MwIC44MjcuNjczIDEuNSAxLjUgMS41aDE3Yy44MjcgMCAxLjUtLjY3MyAxLjUtMS41di0xN2MwLS44MjctLjY3My0xLjUtMS41LTEuNXpNMSAxOC41di00LjgwN2w0LjE5Ny00LjYxN2MuMDg1LS4wOTMuMTk2LS4xNDUuMzE0LS4xNDdzLjIzMS4wNDguMzE4LjEzOWw5LjUgOS45MzJIMS40OTlhLjUuNSAwIDAgMS0uNS0uNXptMTggMGEuNS41IDAgMCAxLS41LjVoLTEuNzg2TDYuNTUzIDguMzc3YTEuNDIgMS40MiAwIDAgMC0yLjA5NS4wMjdsLTMuNDU3IDMuODAzVjEuNWEuNS41IDAgMCAxIC41LS41aDE3YS41LjUgMCAwIDEgLjUuNXYxN3oiIGNsYXNzPSJ0cmlwZXR0by1maWxsIi8+PC9zdmc+"},481:function(e,t,o){o.r(t),t.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggY2xhc3M9InRyaXBldHRvLWZpbGwiIGQ9Ik0xOCAxOS41SDJjLS44MjcgMC0xLjUtLjY3My0xLjUtMS41VjJDLjUgMS4xNzMgMS4xNzMuNSAyIC41aDE2Yy44MjcgMCAxLjUuNjczIDEuNSAxLjV2MTZjMCAuODI3LS42NzMgMS41LTEuNSAxLjV6TTIgMS41YS41LjUgMCAwIDAtLjUuNXYxNmEuNS41IDAgMCAwIC41LjVoMTZhLjUuNSAwIDAgMCAuNS0uNVYyYS41LjUgMCAwIDAtLjUtLjV6Ii8+PHBhdGggY2xhc3M9InRyaXBldHRvLWZpbGwiIGQ9Ik04IDE0YS41MDIuNTAyIDAgMCAxLS4zNTQtLjE0NmwtMy0zYS41LjUgMCAwIDEgLjcwNy0uNzA3bDIuNjQ2IDIuNjQ2IDYuNjQ2LTYuNjQ2YS41LjUgMCAwIDEgLjcwNy43MDdsLTcgN2EuNDk4LjQ5OCAwIDAgMS0uMzU0LjE0NnoiLz48L3N2Zz4="},939:function(e,t,o){o.r(t),t.default="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCI+PHBhdGggZD0iTTE4LjUgOEgxM1YzLjVhLjUuNSAwIDAgMC0uNS0uNWgtNmEuNS41IDAgMCAwLS41LjVWNkguNWEuNS41IDAgMCAwLS41LjV2MTBhLjUuNSAwIDAgMCAuNS41aDE4YS41LjUgMCAwIDAgLjUtLjV2LThhLjUuNSAwIDAgMC0uNS0uNXpNNyA0aDV2MTJIN1Y0ek0xIDdoNXY5SDFWN3ptMTcgOWgtNVY5aDV2N3oiIGNsYXNzPSJ0cmlwZXR0by1maWxsIi8+PHBhdGggZD0iTTkuNSAxMGEuNS41IDAgMCAxLS41LS41di00YS41LjUgMCAwIDEgMSAwdjRhLjUuNSAwIDAgMS0uNS41em0tNSAzaC0yYS41LjUgMCAwIDEtLjUtLjV2LTJhLjUuNSAwIDAgMSAuNS0uNUg0VjlIMi41YS41LjUgMCAwIDEgMC0xaDJhLjUuNSAwIDAgMSAuNS41djJhLjUuNSAwIDAgMS0uNS41SDN2MWgxLjVhLjUuNSAwIDAgMSAwIDF6bTEyLTNoLTJhLjUuNSAwIDAgMCAwIDFIMTZ2MWgtMS41YS41LjUgMCAwIDAgMCAxSDE2djFoLTEuNWEuNS41IDAgMCAwIDAgMWgyYS41LjUgMCAwIDAgLjUtLjV2LTRhLjUuNSAwIDAgMC0uNS0uNXoiIGNsYXNzPSJ0cmlwZXR0by1maWxsIi8+PC9zdmc+"},843:function(e,t,o){o.r(t),t.default="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCI+PHBhdGggZD0iTTEwIDIwYy0yLjY3MSAwLTUuMTgyLTEuMDQtNy4wNzEtMi45MjlTMCAxMi42NzEgMCAxMGMwLTIuNjcxIDEuMDQtNS4xODIgMi45MjktNy4wNzFTNy4zMjkgMCAxMCAwYzIuNjcxIDAgNS4xODIgMS4wNCA3LjA3MSAyLjkyOVMyMCA3LjMyOSAyMCAxMGMwIDIuNjcxLTEuMDQgNS4xODItMi45MjkgNy4wNzFTMTIuNjcxIDIwIDEwIDIwem0wLTE5Yy00Ljk2MyAwLTkgNC4wMzctOSA5czQuMDM3IDkgOSA5IDktNC4wMzcgOS05LTQuMDM3LTktOS05eiIgY2xhc3M9InRyaXBldHRvLWZpbGwiLz48cGF0aCBkPSJNMTAgMTZjLTMuMzA4IDAtNi0yLjY5Mi02LTZzMi42OTItNiA2LTYgNiAyLjY5MiA2IDYtMi42OTIgNi02IDZ6bTAtMTFjLTIuNzU3IDAtNSAyLjI0My01IDVzMi4yNDMgNSA1IDUgNS0yLjI0MyA1LTUtMi4yNDMtNS01LTV6IiBjbGFzcz0idHJpcGV0dG8tZmlsbCIvPjwvc3ZnPg=="},417:function(e,t,o){o.r(t),t.default="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCI+PHBhdGggZD0ibTEwLjcwNyAxMC41IDUuNjQ2LTUuNjQ2YS41LjUgMCAwIDAtLjcwNy0uNzA3TDEwIDkuNzkzIDQuMzU0IDQuMTQ3YS41LjUgMCAwIDAtLjcwNy43MDdMOS4yOTMgMTAuNWwtNS42NDYgNS42NDZhLjUuNSAwIDAgMCAuNzA4LjcwN2w1LjY0Ni01LjY0NiA1LjY0NiA1LjY0NmEuNDk4LjQ5OCAwIDAgMCAuNzA4IDAgLjUuNSAwIDAgMCAwLS43MDdMMTAuNzA5IDEwLjV6IiBjbGFzcz0idHJpcGV0dG8tZmlsbCIvPjwvc3ZnPg=="},954:function(e){e.exports=o(975)}},i={};function n(e){var o=i[e];if(void 0!==o)return o.exports;var l=i[e]={exports:{}};return t[e].call(l.exports,l,l.exports,n),l.exports}n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var l=n(110);e.exports=l}()},65:function(e,t,o){!function(){"use strict";var t={796:function(e,t,o){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=this&&this.__decorate||function(e,t,o,i){var n,l=arguments.length,a=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(l<3?n(a):l>3?n(t,o,a):n(t,o))||a);return l>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.RadiobuttonCondition=void 0;var a=o(954),r=o(110),c=o(327),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return(this.button?(0,a.markdownifyToString)(this.button.name):"")||this.type.label},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"radiobuttons",{get:function(){return this.node&&this.node.block instanceof r.Radiobuttons&&this.node.block.buttons||void 0},enumerable:!1,configurable:!0}),t.prototype.defineEditor=function(){if(this.node&&this.radiobuttons){var e=[];this.radiobuttons.each((function(t){(0,a.isFilledString)(t.name)&&e.push({label:(0,a.markdownifyToString)(t.name),value:t})})),(0,a.arraySize)(e)>0&&this.editor.form({title:this.node.label,controls:[new a.Forms.Dropdown(e,a.Forms.Dropdown.bind(this,"button",void 0))]})}},l([(0,a.affects)("#condition"),(0,a.collection)("#buttons")],t.prototype,"button",void 0),l([a.editor],t.prototype,"defineEditor",null),l([(0,a.tripetto)({type:"condition",legacyBlock:!0,context:"@tripetto/block-radiobuttons",identifier:"@tripetto/block-radiobuttons",version:"8.0.0",icon:c.default,get label(){return(0,a.pgettext)("block:radiobuttons","Radio button choice")}})],t)}(a.ConditionBlock);t.RadiobuttonCondition=u},287:function(e,t,o){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=this&&this.__decorate||function(e,t,o,i){var n,l=arguments.length,a=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(l<3?n(a):l>3?n(t,o,a):n(t,o))||a);return l>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.ScoreCondition=void 0;var a=o(954),r=o(939),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.allowMarkdown=!0,t.mode="equal",t}return n(t,e),Object.defineProperty(t.prototype,"label",{get:function(){return""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){var e=this.slot;if(e instanceof a.Slots.Numeric){var t=this.parse(e,this.value);switch(this.mode){case"between":return"".concat(t," ≤ @").concat(e.id," ≤ ").concat(this.parse(e,this.to));case"not-between":return"@".concat(e.id," < ").concat(t," ").concat((0,a.pgettext)("block:radiobuttons","or")," @").concat(e.id," > ").concat(this.parse(e,this.to));case"defined":return"@".concat(e.id," ").concat((0,a.pgettext)("block:radiobuttons","calculated"));case"undefined":return"@".concat(e.id," ").concat((0,a.pgettext)("block:radiobuttons","not calculated"));case"not-equal":return"@".concat(e.id," ≠ ").concat(t);case"above":case"below":case"equal":return"@".concat(e.id," ").concat("above"===this.mode?">":"below"===this.mode?"<":"="," ").concat(t)}}return this.type.label},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){var e,t;return(null===(e=this.slot)||void 0===e?void 0:e.label)||(null===(t=this.node)||void 0===t?void 0:t.label)},enumerable:!1,configurable:!0}),t.prototype.parse=function(e,t){var o;return(0,a.isNumberFinite)(t)?e.toString(t,(function(e,t){return a.L10n.locale.number(e,t,!1)})):(0,a.isString)(t)&&t&&(null===(o=(0,a.lookupVariable)(this,t))||void 0===o?void 0:o.label)?"@".concat(t):"\\_\\_"},t.prototype.defineEditor=function(){var e=this;this.editor.form({title:(0,a.pgettext)("block:radiobuttons","Compare mode"),controls:[new a.Forms.Radiobutton([{label:(0,a.pgettext)("block:radiobuttons","Score is equal to"),value:"equal"},{label:(0,a.pgettext)("block:radiobuttons","Score is not equal to"),value:"not-equal"},{label:(0,a.pgettext)("block:radiobuttons","Score is lower than"),value:"below"},{label:(0,a.pgettext)("block:radiobuttons","Score is higher than"),value:"above"},{label:(0,a.pgettext)("block:radiobuttons","Score is between"),value:"between"},{label:(0,a.pgettext)("block:radiobuttons","Score is not between"),value:"not-between"},{label:(0,a.pgettext)("block:radiobuttons","Score is calculated"),value:"defined"},{label:(0,a.pgettext)("block:radiobuttons","Score is not calculated"),value:"undefined"}],a.Forms.Radiobutton.bind(this,"mode","equal")).on((function(e){switch(o.visible("defined"!==e.value&&"undefined"!==e.value),i.visible("between"===e.value||"not-between"===e.value),e.value){case"equal":o.title=(0,a.pgettext)("block:radiobuttons","If score equals");break;case"not-equal":o.title=(0,a.pgettext)("block:radiobuttons","If score not equals");break;case"below":o.title=(0,a.pgettext)("block:radiobuttons","If score is lower than");break;case"above":o.title=(0,a.pgettext)("block:radiobuttons","If score is higher than");break;case"between":o.title=(0,a.pgettext)("block:radiobuttons","If score is between");break;case"not-between":o.title=(0,a.pgettext)("block:radiobuttons","If score is not between")}}))]});var t=function(t,o,i){var n,l=e[t],r=e.slot,c=new a.Forms.Numeric((0,a.isNumberFinite)(l)?l:0).label((0,a.pgettext)("block:radiobuttons","Use fixed number")).precision((null==r?void 0:r.precision)||0).digits((null==r?void 0:r.digits)||0).decimalSign((null==r?void 0:r.decimal)||"").thousands(!!(null==r?void 0:r.separator),(null==r?void 0:r.separator)||"").prefix((null==r?void 0:r.prefix)||"").prefixPlural((null==r?void 0:r.prefixPlural)||void 0).suffix((null==r?void 0:r.suffix)||"").suffixPlural((null==r?void 0:r.suffixPlural)||void 0).autoFocus("value"===t).escape(e.editor.close).enter((function(){return("between"!==e.mode&&"not-between"!==e.mode||"to"===t)&&e.editor.close()})).on((function(o){o.isFormVisible&&o.isObservable&&(e[t]=o.value)})),u=(0,a.populateVariables)(e,(function(e){return e instanceof a.Slots.Number||e instanceof a.Slots.Numeric}),(0,a.isString)(l)?l:void 0,!0,null===(n=e.slot)||void 0===n?void 0:n.id),s=new a.Forms.Dropdown(u,(0,a.isString)(l)?l:"").label((0,a.pgettext)("block:radiobuttons","Use value of")).width("full").on((function(o){o.isFormVisible&&o.isObservable&&(e[t]=o.value||"")}));return e.editor.form({title:o,controls:[new a.Forms.Radiobutton([{label:(0,a.pgettext)("block:radiobuttons","Number"),value:"number"},{label:(0,a.pgettext)("block:radiobuttons","Value"),value:"variable",disabled:0===u.length}],(0,a.isString)(l)?"variable":"number").on((function(e){c.visible("number"===e.value),s.visible("variable"===e.value),c.isObservable&&c.focus()})),c,s]}).visible(i)},o=t("value",(0,a.pgettext)("block:radiobuttons","If score equals"),"defined"!==this.mode&&"undefined"!==this.mode),i=t("to",(0,a.pgettext)("block:radiobuttons","And"),"between"===this.mode||"not-between"===this.mode)},l([a.definition,(0,a.affects)("#name")],t.prototype,"mode",void 0),l([a.definition,(0,a.affects)("#name")],t.prototype,"value",void 0),l([a.definition,(0,a.affects)("#name")],t.prototype,"to",void 0),l([a.editor],t.prototype,"defineEditor",null),l([(0,a.tripetto)({type:"condition",legacyBlock:!0,context:"@tripetto/block-radiobuttons",identifier:"".concat("@tripetto/block-radiobuttons",":score"),version:"8.0.0",icon:r.default,get label(){return(0,a.pgettext)("block:radiobuttons","Verify score")}})],t)}(a.ConditionBlock);t.ScoreCondition=c},110:function(e,t,o){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=this&&this.__decorate||function(e,t,o,i){var n,l=arguments.length,a=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(l<3?n(a):l>3?n(t,o,a):n(t,o))||a);return l>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.Radiobuttons=void 0;var a=o(954),r=o(980),c=o(796),u=o(287),s=o(617),d=o(327),p=o(939),b=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.buttons=a.Collection.of(r.Radiobutton,t),t}return n(t,e),Object.defineProperty(t.prototype,"label",{get:function(){return(0,a.npgettext)("block:radiobuttons","%2 (%1 option)","%2 (%1 options)",this.buttons.count,this.type.label)},enumerable:!1,configurable:!0}),t.prototype.defineSlots=function(){this.radioSlot=this.slots.static({type:a.Slots.String,reference:"button",label:(0,a.pgettext)("block:radiobuttons","Selected button"),exchange:["required","alias","exportable"]})},t.prototype.defineEditor=function(){this.editor.groups.general(),this.editor.name(),this.editor.description(),this.editor.explanation();var e=this.editor.collection({collection:this.buttons,title:(0,a.pgettext)("block:radiobuttons","Radio buttons"),icon:d.default,placeholder:(0,a.pgettext)("block:radiobuttons","Unnamed radio button"),sorting:"manual",autoOpen:!0,allowVariables:!0,allowImport:!0,allowExport:!0,allowDedupe:!0,showAliases:!0,markdown:a.Markdown.MarkdownFeatures.Formatting|a.Markdown.MarkdownFeatures.Hyperlinks,emptyMessage:(0,a.pgettext)("block:radiobuttons","Click the + button to add a radio button...")});this.editor.groups.settings(),this.editor.option({name:(0,a.pgettext)("block:radiobuttons","Randomization"),form:{title:(0,a.pgettext)("block:radiobuttons","Randomization"),controls:[new a.Forms.Checkbox((0,a.pgettext)("block:radiobuttons","Randomize the answers (using [Fisher-Yates shuffle](%1))","https://en.wikipedia.org/wiki/Fisher%E2%80%93Yates_shuffle"),a.Forms.Checkbox.bind(this,"randomize",void 0,!0)).markdown()]},activated:(0,a.isBoolean)(this.randomize)}),this.editor.groups.options(),this.editor.required(this.radioSlot),this.editor.visibility(),this.editor.scores({target:this,collection:e,description:(0,a.pgettext)("block:radiobuttons","Generates a score based on the selected radio button. Open the settings panel for each button to set the score.")}),this.editor.alias(this.radioSlot),this.editor.exportable(this.radioSlot)},t.prototype.defineConditions=function(){var e=this;this.buttons.each((function(t){t.name&&e.conditions.template({condition:c.RadiobuttonCondition,markdown:t.name,burst:"branch",props:{slot:e.radioSlot,button:t}})}));var t=this.slots.select("score","feature");if(t&&t.label){var o=this.conditions.group(t.label,p.default,!1,!0);(0,a.each)([{mode:"equal",label:(0,a.pgettext)("block:radiobuttons","Score is equal to")},{mode:"not-equal",label:(0,a.pgettext)("block:radiobuttons","Score is not equal to")},{mode:"below",label:(0,a.pgettext)("block:radiobuttons","Score is lower than")},{mode:"above",label:(0,a.pgettext)("block:radiobuttons","Score is higher than")},{mode:"between",label:(0,a.pgettext)("block:radiobuttons","Score is between")},{mode:"not-between",label:(0,a.pgettext)("block:radiobuttons","Score is not between")},{mode:"defined",label:(0,a.pgettext)("block:radiobuttons","Score is calculated")},{mode:"undefined",label:(0,a.pgettext)("block:radiobuttons","Score is not calculated")}],(function(e){o.template({condition:u.ScoreCondition,label:e.label,autoOpen:"defined"!==e.mode&&"undefined"!==e.mode,props:{slot:t,mode:e.mode,value:0,to:"between"===e.mode||"not-between"===e.mode?0:void 0}})}))}},l([(0,a.definition)("items"),(0,a.affects)("#label"),(0,a.supplies)("#slot","button")],t.prototype,"buttons",void 0),l([(0,a.definition)("boolean","optional")],t.prototype,"randomize",void 0),l([a.slots],t.prototype,"defineSlots",null),l([a.editor],t.prototype,"defineEditor",null),l([a.conditions],t.prototype,"defineConditions",null),l([(0,a.tripetto)({type:"node",legacyBlock:!0,identifier:"@tripetto/block-radiobuttons",version:"8.0.0",icon:s.default,get label(){return(0,a.pgettext)("block:radiobuttons","Radio buttons")}})],t)}(a.NodeBlock);t.Radiobuttons=b},980:function(e,t,o){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=this&&this.__decorate||function(e,t,o,i){var n,l=arguments.length,a=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(l<3?n(a):l>3?n(t,o,a):n(t,o))||a);return l>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.Radiobutton=void 0;var a=o(954),r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.name="",t}return n(t,e),t.prototype.defineEditor=function(){this.editor.option({name:"Name",form:{title:(0,a.pgettext)("block:radiobuttons","Radio button name"),controls:[new a.Forms.Text("singleline",a.Forms.Text.bind(this,"name","")).action("@",(0,a.insertVariable)(this)).autoFocus().autoSelect().enter(this.editor.close).escape(this.editor.close)]},locked:!0}),this.editor.option({name:(0,a.pgettext)("block:radiobuttons","Description"),form:{title:(0,a.pgettext)("block:radiobuttons","Radio button description"),controls:[new a.Forms.Text("multiline",a.Forms.Text.bind(this,"description",void 0)).action("@",(0,a.insertVariable)(this))]},activated:(0,a.isString)(this.description)}),this.editor.group((0,a.pgettext)("block:radiobuttons","Options")),this.editor.option({name:(0,a.pgettext)("block:radiobuttons","Identifier"),form:{title:(0,a.pgettext)("block:radiobuttons","Identifier"),controls:[new a.Forms.Text("singleline",a.Forms.Text.bind(this,"value",void 0)),new a.Forms.Static((0,a.pgettext)("block:radiobuttons","If a radio button identifier is set, this identifier will be used as selected value instead of the button label."))]},activated:(0,a.isString)(this.value)});var e=this.ref.slots.select("score","feature");this.editor.option({name:(0,a.pgettext)("block:radiobuttons","Score"),form:{title:(0,a.pgettext)("block:radiobuttons","Score"),controls:[new a.Forms.Numeric(a.Forms.Numeric.bind(this,"score",void 0)).precision((null==e?void 0:e.precision)||0).digits((null==e?void 0:e.digits)||0).decimalSign((null==e?void 0:e.decimal)||"").thousands(!!(null==e?void 0:e.separator),(null==e?void 0:e.separator)||"").prefix((null==e?void 0:e.prefix)||"").prefixPlural((null==e?void 0:e.prefixPlural)||void 0).suffix((null==e?void 0:e.suffix)||"").suffixPlural((null==e?void 0:e.suffixPlural)||void 0)]},activated:!0,locked:!!e,disabled:!e})},l([(0,a.definition)("string"),a.name],t.prototype,"name",void 0),l([(0,a.definition)("string","optional")],t.prototype,"description",void 0),l([(0,a.definition)("string","optional"),a.alias],t.prototype,"value",void 0),l([(0,a.definition)("number","optional"),a.score],t.prototype,"score",void 0),l([a.editor],t.prototype,"defineEditor",null),t}(a.Collection.Item);t.Radiobutton=r},617:function(e,t,o){o.r(t),t.default="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCI+PHBhdGggZD0iTTE5LjUgMTZoLTE1YS41LjUgMCAwIDEgMC0xaDE1YS41LjUgMCAwIDEgMCAxem0wLTVoLTE1YS41LjUgMCAwIDEgMC0xaDE1YS41LjUgMCAwIDEgMCAxem0wLTVoLTE1YS41LjUgMCAwIDEgMC0xaDE1YS41LjUgMCAwIDEgMCAxem0tMTggMUMuNjczIDcgMCA2LjMyNyAwIDUuNVMuNjczIDQgMS41IDQgMyA0LjY3MyAzIDUuNSAyLjMyNyA3IDEuNSA3em0wLTJhLjUuNSAwIDEgMCAwIDEgLjUuNSAwIDAgMCAwLTF6bTAgN0MuNjczIDEyIDAgMTEuMzI3IDAgMTAuNVMuNjczIDkgMS41IDkgMyA5LjY3MyAzIDEwLjUgMi4zMjcgMTIgMS41IDEyem0wLTJhLjUuNSAwIDEgMCAwIDEgLjUuNSAwIDAgMCAwLTF6bTAgN0MuNjczIDE3IDAgMTYuMzI3IDAgMTUuNVMuNjczIDE0IDEuNSAxNHMxLjUuNjczIDEuNSAxLjVTMi4zMjcgMTcgMS41IDE3em0wLTJhLjUuNSAwIDEgMCAwIDEgLjUuNSAwIDAgMCAwLTF6IiBjbGFzcz0idHJpcGV0dG8tZmlsbCIvPjwvc3ZnPg=="},327:function(e,t,o){o.r(t),t.default="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCI+PHBhdGggZD0iTTEwIDIwYy0yLjY3MSAwLTUuMTgyLTEuMDQtNy4wNzEtMi45MjlTMCAxMi42NzEgMCAxMGMwLTIuNjcxIDEuMDQtNS4xODIgMi45MjktNy4wNzFTNy4zMjkgMCAxMCAwYzIuNjcxIDAgNS4xODIgMS4wNCA3LjA3MSAyLjkyOVMyMCA3LjMyOSAyMCAxMGMwIDIuNjcxLTEuMDQgNS4xODItMi45MjkgNy4wNzFTMTIuNjcxIDIwIDEwIDIwem0wLTE5Yy00Ljk2MyAwLTkgNC4wMzctOSA5czQuMDM3IDkgOSA5IDktNC4wMzcgOS05LTQuMDM3LTktOS05eiIgY2xhc3M9InRyaXBldHRvLWZpbGwiLz48cGF0aCBkPSJNMTAgMTZjLTMuMzA4IDAtNi0yLjY5Mi02LTZzMi42OTItNiA2LTYgNiAyLjY5MiA2IDYtMi42OTIgNi02IDZ6bTAtMTFjLTIuNzU3IDAtNSAyLjI0My01IDVzMi4yNDMgNSA1IDUgNS0yLjI0MyA1LTUtMi4yNDMtNS01LTV6IiBjbGFzcz0idHJpcGV0dG8tZmlsbCIvPjwvc3ZnPg=="},939:function(e,t,o){o.r(t),t.default="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCI+PHBhdGggZD0iTTE4LjUgOEgxM1YzLjVhLjUuNSAwIDAgMC0uNS0uNWgtNmEuNS41IDAgMCAwLS41LjVWNkguNWEuNS41IDAgMCAwLS41LjV2MTBhLjUuNSAwIDAgMCAuNS41aDE4YS41LjUgMCAwIDAgLjUtLjV2LThhLjUuNSAwIDAgMC0uNS0uNXpNNyA0aDV2MTJIN1Y0ek0xIDdoNXY5SDFWN3ptMTcgOWgtNVY5aDV2N3oiIGNsYXNzPSJ0cmlwZXR0by1maWxsIi8+PHBhdGggZD0iTTkuNSAxMGEuNS41IDAgMCAxLS41LS41di00YS41LjUgMCAwIDEgMSAwdjRhLjUuNSAwIDAgMS0uNS41em0tNSAzaC0yYS41LjUgMCAwIDEtLjUtLjV2LTJhLjUuNSAwIDAgMSAuNS0uNUg0VjlIMi41YS41LjUgMCAwIDEgMC0xaDJhLjUuNSAwIDAgMSAuNS41djJhLjUuNSAwIDAgMS0uNS41SDN2MWgxLjVhLjUuNSAwIDAgMSAwIDF6bTEyLTNoLTJhLjUuNSAwIDAgMCAwIDFIMTZ2MWgtMS41YS41LjUgMCAwIDAgMCAxSDE2djFoLTEuNWEuNS41IDAgMCAwIDAgMWgyYS41LjUgMCAwIDAgLjUtLjV2LTRhLjUuNSAwIDAgMC0uNS0uNXoiIGNsYXNzPSJ0cmlwZXR0by1maWxsIi8+PC9zdmc+"},954:function(e){e.exports=o(975)}},i={};function n(e){var o=i[e];if(void 0!==o)return o.exports;var l=i[e]={exports:{}};return t[e].call(l.exports,l,l.exports,n),l.exports}n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var l=n(110);e.exports=l}()},313:function(e,t,o){!function(){"use strict";var t={279:function(e,t,o){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=this&&this.__decorate||function(e,t,o,i){var n,l=arguments.length,a=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(l<3?n(a):l>3?n(t,o,a):n(t,o))||a);return l>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.PositionCondition=void 0;var a=o(954),r=o(110),c=o(617),u=o(669),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}var o;return n(t,e),o=t,Object.defineProperty(t.prototype,"title",{get:function(){var e;return(null===(e=this.node)||void 0===e?void 0:e.label)||o.label},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"label",{get:function(){var e;return(null===(e=this.slot)||void 0===e?void 0:e.label)&&(0,a.pgettext)("block:ranking","Position %1",this.slot.label)||o.label},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return(this.option?this.option.name:(0,a.pgettext)("block:ranking","Empty"))||this.type.label},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"icon",{get:function(){return this.option?u.default:c.default},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.node&&this.node.block instanceof r.Ranking&&this.node.block.options||void 0},enumerable:!1,configurable:!0}),t.prototype.defineEditor=function(){var e;if(this.node&&this.options){var t=[];this.options.each((function(e){(0,a.isFilledString)(e.name)&&t.push({label:(0,a.markdownifyToString)(e.name,a.Markdown.MarkdownFeatures.None),value:e})})),this.editor.form({title:(null===(e=this.slot)||void 0===e?void 0:e.label)&&(0,a.pgettext)("block:ranking","Position %1",this.slot.label)||o.label,controls:[new a.Forms.Dropdown(t,a.Forms.Dropdown.bind(this,"option",void 0))]})}},l([(0,a.affects)("#name"),(0,a.affects)("#condition"),(0,a.collection)("#options")],t.prototype,"option",void 0),l([a.editor],t.prototype,"defineEditor",null),o=l([(0,a.tripetto)({type:"condition",context:"@tripetto/block-ranking",identifier:"@tripetto/block-ranking",version:"1.0.10",icon:c.default,get label(){return(0,a.pgettext)("block:ranking","Chosen option")}})],t)}(a.ConditionBlock);t.PositionCondition=s},287:function(e,t,o){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=this&&this.__decorate||function(e,t,o,i){var n,l=arguments.length,a=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(l<3?n(a):l>3?n(t,o,a):n(t,o))||a);return l>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.ScoreCondition=void 0;var a=o(954),r=o(939),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.allowMarkdown=!0,t.mode="equal",t}return n(t,e),Object.defineProperty(t.prototype,"label",{get:function(){return""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){var e=this.slot;if(e instanceof a.Slots.Numeric){var t=this.parse(e,this.value);switch(this.mode){case"between":return"".concat(t," ≤ @").concat(e.id," ≤ ").concat(this.parse(e,this.to));case"not-between":return"@".concat(e.id," < ").concat(t," ").concat((0,a.pgettext)("block:ranking","or")," @").concat(e.id," > ").concat(this.parse(e,this.to));case"defined":return"@".concat(e.id," ").concat((0,a.pgettext)("block:ranking","calculated"));case"undefined":return"@".concat(e.id," ").concat((0,a.pgettext)("block:ranking","not calculated"));case"not-equal":return"@".concat(e.id," ≠ ").concat(t);case"above":case"below":case"equal":return"@".concat(e.id," ").concat("above"===this.mode?">":"below"===this.mode?"<":"="," ").concat(t)}}return this.type.label},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){var e,t;return(null===(e=this.slot)||void 0===e?void 0:e.label)||(null===(t=this.node)||void 0===t?void 0:t.label)},enumerable:!1,configurable:!0}),t.prototype.parse=function(e,t){var o;return(0,a.isNumberFinite)(t)?e.toString(t,(function(e,t){return a.L10n.locale.number(e,t,!1)})):(0,a.isString)(t)&&t&&(null===(o=(0,a.lookupVariable)(this,t))||void 0===o?void 0:o.label)?"@".concat(t):"\\_\\_"},t.prototype.defineEditor=function(){var e=this;this.editor.form({title:(0,a.pgettext)("block:ranking","Compare mode"),controls:[new a.Forms.Radiobutton([{label:(0,a.pgettext)("block:ranking","Score is equal to"),value:"equal"},{label:(0,a.pgettext)("block:ranking","Score is not equal to"),value:"not-equal"},{label:(0,a.pgettext)("block:ranking","Score is lower than"),value:"below"},{label:(0,a.pgettext)("block:ranking","Score is higher than"),value:"above"},{label:(0,a.pgettext)("block:ranking","Score is between"),value:"between"},{label:(0,a.pgettext)("block:ranking","Score is not between"),value:"not-between"},{label:(0,a.pgettext)("block:ranking","Score is calculated"),value:"defined"},{label:(0,a.pgettext)("block:ranking","Score is not calculated"),value:"undefined"}],a.Forms.Radiobutton.bind(this,"mode","equal")).on((function(e){switch(o.visible("defined"!==e.value&&"undefined"!==e.value),i.visible("between"===e.value||"not-between"===e.value),e.value){case"equal":o.title=(0,a.pgettext)("block:ranking","If score equals");break;case"not-equal":o.title=(0,a.pgettext)("block:ranking","If score not equals");break;case"below":o.title=(0,a.pgettext)("block:ranking","If score is lower than");break;case"above":o.title=(0,a.pgettext)("block:ranking","If score is higher than");break;case"between":o.title=(0,a.pgettext)("block:ranking","If score is between");break;case"not-between":o.title=(0,a.pgettext)("block:ranking","If score is not between")}}))]});var t=function(t,o,i){var n,l=e[t],r=e.slot,c=new a.Forms.Numeric((0,a.isNumberFinite)(l)?l:0).label((0,a.pgettext)("block:ranking","Use fixed number")).precision((null==r?void 0:r.precision)||0).digits((null==r?void 0:r.digits)||0).decimalSign((null==r?void 0:r.decimal)||"").thousands(!!(null==r?void 0:r.separator),(null==r?void 0:r.separator)||"").prefix((null==r?void 0:r.prefix)||"").prefixPlural((null==r?void 0:r.prefixPlural)||void 0).suffix((null==r?void 0:r.suffix)||"").suffixPlural((null==r?void 0:r.suffixPlural)||void 0).autoFocus("value"===t).escape(e.editor.close).enter((function(){return("between"!==e.mode&&"not-between"!==e.mode||"to"===t)&&e.editor.close()})).on((function(o){o.isFormVisible&&o.isObservable&&(e[t]=o.value)})),u=(0,a.populateVariables)(e,(function(e){return e instanceof a.Slots.Number||e instanceof a.Slots.Numeric}),(0,a.isString)(l)?l:void 0,!0,null===(n=e.slot)||void 0===n?void 0:n.id),s=new a.Forms.Dropdown(u,(0,a.isString)(l)?l:"").label((0,a.pgettext)("block:ranking","Use value of")).width("full").on((function(o){o.isFormVisible&&o.isObservable&&(e[t]=o.value||"")}));return e.editor.form({title:o,controls:[new a.Forms.Radiobutton([{label:(0,a.pgettext)("block:ranking","Number"),value:"number"},{label:(0,a.pgettext)("block:ranking","Value"),value:"variable",disabled:0===u.length}],(0,a.isString)(l)?"variable":"number").on((function(e){c.visible("number"===e.value),s.visible("variable"===e.value),c.isObservable&&c.focus()})),c,s]}).visible(i)},o=t("value",(0,a.pgettext)("block:ranking","If score equals"),"defined"!==this.mode&&"undefined"!==this.mode),i=t("to",(0,a.pgettext)("block:ranking","And"),"between"===this.mode||"not-between"===this.mode)},l([a.definition,(0,a.affects)("#name")],t.prototype,"mode",void 0),l([a.definition,(0,a.affects)("#name")],t.prototype,"value",void 0),l([a.definition,(0,a.affects)("#name")],t.prototype,"to",void 0),l([a.editor],t.prototype,"defineEditor",null),l([(0,a.tripetto)({type:"condition",context:"@tripetto/block-ranking",identifier:"".concat("@tripetto/block-ranking",":score"),version:"1.0.10",icon:r.default,get label(){return(0,a.pgettext)("block:ranking","Verify score")}})],t)}(a.ConditionBlock);t.ScoreCondition=c},110:function(e,t,o){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=this&&this.__decorate||function(e,t,o,i){var n,l=arguments.length,a=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(l<3?n(a):l>3?n(t,o,a):n(t,o))||a);return l>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.Ranking=void 0;var a=o(954),r=o(422),c=o(279),u=o(287),s=o(617),d=o(669),p=o(939),b=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.options=a.Collection.of(r.Option,t),t}return n(t,e),Object.defineProperty(t.prototype,"label",{get:function(){return(0,a.npgettext)("block:ranking","%2 (%1 option)","%2 (%1 options)",this.options.count,this.type.label)},enumerable:!1,configurable:!0}),t.prototype.defineSlot=function(){for(var e=this.max||this.options.count,t=1,o=this.slots.select("score","feature");e>0;){var i=t-1;if(this.slots.dynamic({type:a.Slots.String,reference:"position:".concat(t),label:"#".concat(t),sequence:i,required:this.required,alias:this.alias&&"".concat(this.alias," #").concat(t)||void 0,exportable:"concatenate"!==this.format&&this.exportable,pipeable:{label:(0,a.pgettext)("block:ranking","Ranking"),alias:this.alias}}),o){var n=this.slots.feature({type:a.Slots.Numeric,reference:"score:".concat(t),label:(0,a.pgettext)("block:ranking","Score #%1","".concat(t)),sequence:i,exportable:o.exportable,alias:o.alias&&"".concat(o.alias," #").concat(t)||void 0,protected:!0});n.precision=o.precision,n.digits=o.digits,n.decimal=o.decimal,n.separator=o.separator,n.prefix=o.prefix,n.prefixPlural=o.prefixPlural,n.suffix=o.suffix,n.suffixPlural=o.suffixPlural}else this.slots.delete("score:".concat(t),"feature");e--,t++}for(;this.slots.select("position:".concat(t),"dynamic");)this.slots.delete("position:".concat(t),"dynamic"),this.slots.delete("score:".concat(t),"feature"),t++;"concatenate"===this.format||"both"===this.format?this.slots.feature({type:a.Slots.Text,reference:"concatenation",label:(0,a.pgettext)("block:ranking","Text value"),exportable:this.exportable,alias:this.alias,protected:!0}):this.slots.delete("concatenation","feature")},t.prototype.defineEditor=function(){var e=this;this.editor.name(),this.editor.description(),this.editor.explanation();var t=this.editor.collection({collection:this.options,title:(0,a.pgettext)("block:ranking","Ranking options"),icon:d.default,placeholder:(0,a.pgettext)("block:ranking","Unnamed option"),sorting:"manual",autoOpen:!0,allowVariables:!0,allowImport:!0,allowExport:!0,allowDedupe:!0,showAliases:!0,markdown:a.Markdown.MarkdownFeatures.Formatting|a.Markdown.MarkdownFeatures.Hyperlinks,emptyMessage:(0,a.pgettext)("block:ranking","Click the + button to add an option..."),onResize:function(e){i.disabled(!e.count),o.max(e.count)}});this.editor.groups.settings();var o=new a.Forms.Numeric(a.Forms.Numeric.bind(this,"max",void 0,this.options.count)).label((0,a.pgettext)("block:ranking","Specify the maximum number of ranking positions.")).min(1).max(this.options.count).width(75);this.editor.option({name:(0,a.pgettext)("block:ranking","Limits"),form:{title:(0,a.pgettext)("block:ranking","Limits"),controls:[o]},activated:(0,a.isNumber)(this.max)}),this.editor.option({name:(0,a.pgettext)("block:ranking","Randomization"),form:{title:(0,a.pgettext)("block:ranking","Randomization"),controls:[new a.Forms.Checkbox((0,a.pgettext)("block:ranking","Randomize the options (using [Fisher-Yates shuffle](%1))","https://en.wikipedia.org/wiki/Fisher%E2%80%93Yates_shuffle"),a.Forms.Checkbox.bind(this,"randomize",void 0,!0)).markdown()]},activated:(0,a.isBoolean)(this.randomize)}),this.editor.groups.options(),this.editor.required(this),this.editor.visibility();var i=this.editor.scores({target:this,collection:t,label:(0,a.pgettext)("block:ranking","Score (total)"),description:(0,a.pgettext)("block:ranking","Generates scores for the ranking. Open the settings panel for each option to set the individual score for that option."),onChange:function(){return e.defineSlot()}}).disabled(!this.options.count);this.editor.alias(this);var n=new a.Forms.Text("singleline",a.Forms.Text.bind(this,"formatSeparatorCustom",void 0)).visible("custom"===this.formatSeparator).sanitize(!1).width(200).label((0,a.pgettext)("block:ranking","Use this separator:")),l=new a.Forms.Group([new a.Forms.Dropdown([{label:(0,a.pgettext)("block:ranking","Comma separated"),value:"comma"},{label:(0,a.pgettext)("block:ranking","Space separated"),value:"space"},{label:(0,a.pgettext)("block:ranking","List on multiple lines"),value:"list"},{label:(0,a.pgettext)("block:ranking","Bulleted list"),value:"bullets"},{label:(0,a.pgettext)("block:ranking","Numbered list"),value:"numbers"},{label:(0,a.pgettext)("block:ranking","Language sensitive conjunction (_, _, and _)"),value:"conjunction"},{label:(0,a.pgettext)("block:ranking","Language sensitive disjunction (_, _, or _)"),value:"disjunction"},{label:(0,a.pgettext)("block:ranking","Custom separator"),value:"custom"}],a.Forms.Radiobutton.bind(this,"formatSeparator",void 0,"comma")).label((0,a.pgettext)("block:ranking","How to separate the selected options:")).on((function(e){n.visible("custom"===e.value)})),n]).visible("concatenate"===this.format||"both"===this.format);this.editor.option({name:(0,a.pgettext)("block:ranking","Data format"),form:{title:(0,a.pgettext)("block:ranking","Data format"),controls:[new a.Forms.Radiobutton([{label:(0,a.pgettext)("block:ranking","Every position as a separate field"),description:(0,a.pgettext)("block:ranking","Every position is included in the dataset as a separate value."),value:"fields"},{label:(0,a.pgettext)("block:ranking","Single text field with the ranking"),description:(0,a.pgettext)("block:ranking","The ranking is merged into a single string of text, separated by a configurable separator."),value:"concatenate"},{label:(0,a.pgettext)("block:ranking","Both options above"),description:(0,a.pgettext)("block:ranking","Includes every position in the dataset together with the concatenated text."),value:"both"}],a.Forms.Radiobutton.bind(this,"format",void 0,"fields")).label((0,a.pgettext)("block:ranking","This setting determines how the data is stored in the dataset:")).on((function(e){l.visible("concatenate"===e.value||"both"===e.value)})),l]},activated:(0,a.isString)(this.format)}),this.editor.exportable(this)},t.prototype.defineConditions=function(){for(var e=1,t=this.slots.select("position:".concat(e),"dynamic"),o=function(){if(t.label){var o=i.conditions.group((0,a.pgettext)("block:ranking","Position #%1","".concat(e)),s.default);i.options.each((function(e){e.name&&o.template({condition:c.PositionCondition,label:e.name,icon:d.default,burst:!0,props:{slot:t,option:e}})}))}e++,t=i.slots.select("position:".concat(e),"dynamic")},i=this;t;)o();var n=this.slots.select("score","feature");if(n){var l=this.conditions.group((0,a.pgettext)("block:ranking","Scores"),p.default),r=function(e,t){if(e.label){var o=l.group(e.label,p.default,void 0,t);(0,a.each)([{mode:"equal",label:(0,a.pgettext)("block:ranking","Score is equal to")},{mode:"not-equal",label:(0,a.pgettext)("block:ranking","Score is not equal to")},{mode:"below",label:(0,a.pgettext)("block:ranking","Score is lower than")},{mode:"above",label:(0,a.pgettext)("block:ranking","Score is higher than")},{mode:"between",label:(0,a.pgettext)("block:ranking","Score is between")},{mode:"not-between",label:(0,a.pgettext)("block:ranking","Score is not between")},{mode:"defined",label:(0,a.pgettext)("block:ranking","Score is calculated")},{mode:"undefined",label:(0,a.pgettext)("block:ranking","Score is not calculated")}],(function(t){o.template({condition:u.ScoreCondition,label:t.label,autoOpen:"defined"!==t.mode&&"undefined"!==t.mode,props:{slot:e,mode:t.mode,value:0,to:"between"===t.mode||"not-between"===t.mode?0:void 0}})}))}};for(r(n,!1),e=1,n=this.slots.select("score:".concat(e),"feature");n;)r(n,1===e),e++,n=this.slots.select("score:".concat(e),"feature")}},l([(0,a.definition)("items"),(0,a.affects)("#name"),(0,a.supplies)("#slot","position:*")],t.prototype,"options",void 0),l([(0,a.definition)("boolean","optional"),(0,a.affects)("#required"),(0,a.affects)("#slots")],t.prototype,"required",void 0),l([(0,a.definition)("number","optional"),(0,a.affects)("#slots")],t.prototype,"max",void 0),l([(0,a.definition)("string","optional"),(0,a.affects)("#label"),(0,a.affects)("#slots")],t.prototype,"alias",void 0),l([(0,a.definition)("boolean","optional"),(0,a.affects)("#slots")],t.prototype,"exportable",void 0),l([(0,a.definition)("boolean","optional")],t.prototype,"randomize",void 0),l([(0,a.definition)("string","optional"),(0,a.affects)("#slots")],t.prototype,"format",void 0),l([(0,a.definition)("string","optional")],t.prototype,"formatSeparator",void 0),l([(0,a.definition)("string","optional")],t.prototype,"formatSeparatorCustom",void 0),l([a.slots],t.prototype,"defineSlot",null),l([a.editor],t.prototype,"defineEditor",null),l([a.conditions],t.prototype,"defineConditions",null),l([(0,a.tripetto)({type:"node",identifier:"@tripetto/block-ranking",version:"1.0.10",icon:s.default,get label(){return(0,a.pgettext)("block:ranking","Ranking")}})],t)}(a.NodeBlock);t.Ranking=b},422:function(e,t,o){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=this&&this.__decorate||function(e,t,o,i){var n,l=arguments.length,a=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(l<3?n(a):l>3?n(t,o,a):n(t,o))||a);return l>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.Option=void 0;var a=o(954),r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.name="",t}return n(t,e),t.prototype.defineSlot=function(){this.ref.defineSlot()},t.prototype.defineEditor=function(){this.editor.option({name:(0,a.pgettext)("block:ranking","Name"),form:{title:(0,a.pgettext)("block:ranking","Option name"),controls:[new a.Forms.Text("singleline",a.Forms.Text.bind(this,"name","")).action("@",(0,a.insertVariable)(this)).autoFocus().autoSelect().enter(this.editor.close).escape(this.editor.close)]},locked:!0}),this.editor.option({name:(0,a.pgettext)("block:ranking","Description"),form:{title:(0,a.pgettext)("block:ranking","Description"),controls:[new a.Forms.Text("multiline",a.Forms.Text.bind(this,"description",void 0)).action("@",(0,a.insertVariable)(this))]},activated:(0,a.isString)(this.description)}),this.editor.group((0,a.pgettext)("block:ranking","Options")),this.editor.option({name:(0,a.pgettext)("block:ranking","Identifier"),form:{title:(0,a.pgettext)("block:ranking","Identifier"),controls:[new a.Forms.Text("singleline",a.Forms.Text.bind(this,"value",void 0)),new a.Forms.Static((0,a.pgettext)("block:ranking","If an option identifier is set, this identifier will be used instead of the label."))]},activated:(0,a.isString)(this.value)});var e=this.ref.slots.select("score:1","feature");this.editor.option({name:(0,a.pgettext)("block:ranking","Score"),form:{title:(0,a.pgettext)("block:ranking","Score"),controls:[new a.Forms.Numeric(a.Forms.Numeric.bind(this,"score",void 0)).precision((null==e?void 0:e.precision)||0).digits((null==e?void 0:e.digits)||0).decimalSign((null==e?void 0:e.decimal)||"").thousands(!!(null==e?void 0:e.separator),(null==e?void 0:e.separator)||"").prefix((null==e?void 0:e.prefix)||"").prefixPlural((null==e?void 0:e.prefixPlural)||void 0).suffix((null==e?void 0:e.suffix)||"").suffixPlural((null==e?void 0:e.suffixPlural)||void 0)]},activated:!0,locked:!!e,disabled:!e})},l([(0,a.definition)("string"),a.name],t.prototype,"name",void 0),l([(0,a.definition)("string","optional")],t.prototype,"description",void 0),l([(0,a.definition)("string","optional"),a.alias],t.prototype,"value",void 0),l([(0,a.definition)("number","optional"),a.score],t.prototype,"score",void 0),l([a.created,a.deleted],t.prototype,"defineSlot",null),l([a.editor],t.prototype,"defineEditor",null),t}(a.Collection.Item);t.Option=r},617:function(e,t,o){o.r(t),t.default="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCI+PHBhdGggZD0iTTE4LjUgNWgtMTBhLjUuNSAwIDAgMSAwLTFoMTBhLjUuNSAwIDAgMSAwIDF6bTAgNGgtMTBhLjUuNSAwIDAgMSAwLTFoMTBhLjUuNSAwIDAgMSAwIDF6bTAgNGgtMTBhLjUuNSAwIDAgMSAwLTFoMTBhLjUuNSAwIDAgMSAwIDF6bTAgNGgtMTBhLjUuNSAwIDAgMSAwLTFoMTBhLjUuNSAwIDAgMSAwIDF6TTUuMTQ2IDEzLjY0NiA0IDE0Ljc5MlY2LjIwNmwxLjE0NiAxLjE0NmEuNDk4LjQ5OCAwIDAgMCAuNzA4IDAgLjUuNSAwIDAgMCAwLS43MDdsLTItMmEuNS41IDAgMCAwLS43MDcgMGwtMiAyYS41LjUgMCAwIDAgLjcwNy43MDdMMyA2LjIwNnY4LjU4NmwtMS4xNDYtMS4xNDZhLjUuNSAwIDAgMC0uNzA3LjcwN2wyIDJhLjQ5OC40OTggMCAwIDAgLjcwOCAwbDItMmEuNS41IDAgMCAwLS43MDctLjcwN3oiIGNsYXNzPSJ0cmlwZXR0by1maWxsIi8+PC9zdmc+"},939:function(e,t,o){o.r(t),t.default="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCI+PHBhdGggZD0iTTE4LjUgOEgxM1YzLjVhLjUuNSAwIDAgMC0uNS0uNWgtNmEuNS41IDAgMCAwLS41LjVWNkguNWEuNS41IDAgMCAwLS41LjV2MTBhLjUuNSAwIDAgMCAuNS41aDE4YS41LjUgMCAwIDAgLjUtLjV2LThhLjUuNSAwIDAgMC0uNS0uNXpNNyA0aDV2MTJIN1Y0ek0xIDdoNXY5SDFWN3ptMTcgOWgtNVY5aDV2N3oiIGNsYXNzPSJ0cmlwZXR0by1maWxsIi8+PHBhdGggZD0iTTkuNSAxMGEuNS41IDAgMCAxLS41LS41di00YS41LjUgMCAwIDEgMSAwdjRhLjUuNSAwIDAgMS0uNS41em0tNSAzaC0yYS41LjUgMCAwIDEtLjUtLjV2LTJhLjUuNSAwIDAgMSAuNS0uNUg0VjlIMi41YS41LjUgMCAwIDEgMC0xaDJhLjUuNSAwIDAgMSAuNS41djJhLjUuNSAwIDAgMS0uNS41SDN2MWgxLjVhLjUuNSAwIDAgMSAwIDF6bTEyLTNoLTJhLjUuNSAwIDAgMCAwIDFIMTZ2MWgtMS41YS41LjUgMCAwIDAgMCAxSDE2djFoLTEuNWEuNS41IDAgMCAwIDAgMWgyYS41LjUgMCAwIDAgLjUtLjV2LTRhLjUuNSAwIDAgMC0uNS0uNXoiIGNsYXNzPSJ0cmlwZXR0by1maWxsIi8+PC9zdmc+"},669:function(e,t,o){o.r(t),t.default="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCI+PHBhdGggZD0iTTE3LjUgMjBoLTE2Qy42NzMgMjAgMCAxOS4zMjcgMCAxOC41di0xNkMwIDEuNjczLjY3MyAxIDEuNSAxaDE2Yy44MjcgMCAxLjUuNjczIDEuNSAxLjV2MTZjMCAuODI3LS42NzMgMS41LTEuNSAxLjV6TTEuNSAyYS41LjUgMCAwIDAtLjUuNXYxNmEuNS41IDAgMCAwIC41LjVoMTZhLjUuNSAwIDAgMCAuNS0uNXYtMTZhLjUuNSAwIDAgMC0uNS0uNWgtMTZ6IiBjbGFzcz0idHJpcGV0dG8tZmlsbCIvPjxwYXRoIGQ9Ik03LjUgMTQuNWEuNTAyLjUwMiAwIDAgMS0uMzU0LS4xNDZsLTMtM2EuNS41IDAgMCAxIC43MDctLjcwN2wyLjY0NiAyLjY0NiA2LjY0Ni02LjY0NmEuNS41IDAgMCAxIC43MDcuNzA3bC03IDdhLjQ5OC40OTggMCAwIDEtLjM1NC4xNDZ6IiBjbGFzcz0idHJpcGV0dG8tZmlsbCIvPjwvc3ZnPg=="},954:function(e){e.exports=o(975)}},i={};function n(e){var o=i[e];if(void 0!==o)return o.exports;var l=i[e]={exports:{}};return t[e].call(l.exports,l,l.exports,n),l.exports}n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var l=n(110);e.exports=l}()},652:function(e,t,o){!function(){"use strict";var t={870:function(e,t,o){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=this&&this.__decorate||function(e,t,o,i){var n,l=arguments.length,a=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(l<3?n(a):l>3?n(t,o,a):n(t,o))||a);return l>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.RatingCompareCondition=void 0;var a=o(954),r=o(110),c=o(617),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.allowMarkdown=!0,t.mode="equal",t}return n(t,e),Object.defineProperty(t.prototype,"rating",{get:function(){var e;return(null===(e=this.node)||void 0===e?void 0:e.block)instanceof r.Rating&&this.node.block||void 0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"icon",{get:function(){var e;return(null===(e=this.rating)||void 0===e?void 0:e.shapeIcon)||c.default},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"label",{get:function(){return""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){var e=this.slot;if(e instanceof a.Slots.Number){var t=this.parse(e,this.value);switch(this.mode){case"between":return"".concat(t," ≤ @").concat(e.id," ≤ ").concat(this.parse(e,this.to));case"not-between":return"@".concat(e.id," < ").concat(t," ").concat((0,a.pgettext)("block:scale","or")," @").concat(e.id," > ").concat(this.parse(e,this.to));case"defined":return"@".concat(e.id," ").concat((0,a.pgettext)("block:rating","rated"));case"undefined":return"@".concat(e.id," ").concat((0,a.pgettext)("block:rating","not rated"));case"not-equal":return"@".concat(e.id," ≠ ").concat(t);case"above":case"below":case"equal":return"@".concat(e.id," ").concat("above"===this.mode?">":"below"===this.mode?"<":"="," ").concat(t)}}return this.type.label},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){var e;return null===(e=this.node)||void 0===e?void 0:e.label},enumerable:!1,configurable:!0}),t.prototype.parse=function(e,t){var o;return(0,a.isNumberFinite)(t)?e.toString(t):(0,a.isString)(t)&&t&&(null===(o=(0,a.lookupVariable)(this,t))||void 0===o?void 0:o.label)?"@"+t:"\\_\\_"},t.prototype.defineEditor=function(){var e=this;this.editor.form({title:(0,a.pgettext)("block:rating","Compare mode"),controls:[new a.Forms.Radiobutton([{label:(0,a.pgettext)("block:rating","Rating is equal to"),value:"equal"},{label:(0,a.pgettext)("block:rating","Rating is not equal to"),value:"not-equal"},{label:(0,a.pgettext)("block:rating","Rating is lower than"),value:"below"},{label:(0,a.pgettext)("block:rating","Rating is higher than"),value:"above"},{label:(0,a.pgettext)("block:rating","Rating is between"),value:"between"},{label:(0,a.pgettext)("block:rating","Rating is not between"),value:"not-between"},{label:(0,a.pgettext)("block:rating","Rating is given"),value:"defined"},{label:(0,a.pgettext)("block:rating","Rating is not given"),value:"undefined"}],a.Forms.Radiobutton.bind(this,"mode","equal")).on((function(e){switch(o.visible("defined"!==e.value&&"undefined"!==e.value),i.visible("between"===e.value||"not-between"===e.value),e.value){case"equal":o.title=(0,a.pgettext)("block:rating","If rating equals");break;case"not-equal":o.title=(0,a.pgettext)("block:rating","If rating not equals");break;case"below":o.title=(0,a.pgettext)("block:rating","If rating is lower than");break;case"above":o.title=(0,a.pgettext)("block:rating","If rating is higher than");break;case"between":o.title=(0,a.pgettext)("block:rating","If rating is between");break;case"not-between":o.title=(0,a.pgettext)("block:rating","If rating is not between")}}))]});var t=function(t,o,i){var n,l,r=e[t],c=new a.Forms.Numeric((0,a.isNumberFinite)(r)?r:0).label((0,a.pgettext)("block:rating","Use fixed number")).min(0).max((null===(n=e.rating)||void 0===n?void 0:n.steps)||5).autoFocus("value"===t).escape(e.editor.close).enter((function(){return("between"!==e.mode&&"not-between"!==e.mode||"to"===t)&&e.editor.close()})).on((function(o){o.isFormVisible&&o.isObservable&&(e[t]=o.value)})),u=(0,a.populateVariables)(e,(function(e){return e instanceof a.Slots.Number||e instanceof a.Slots.Numeric}),(0,a.isString)(r)?r:void 0,!1,null===(l=e.slot)||void 0===l?void 0:l.id),s=new a.Forms.Dropdown(u,(0,a.isString)(r)?r:"").label((0,a.pgettext)("block:rating","Use value of")).width("full").on((function(o){o.isFormVisible&&o.isObservable&&(e[t]=o.value||"")}));return e.editor.form({title:o,controls:[new a.Forms.Radiobutton([{label:(0,a.pgettext)("block:rating","Number"),value:"number"},{label:(0,a.pgettext)("block:rating","Value"),value:"variable",disabled:0===u.length}],(0,a.isString)(r)?"variable":"number").on((function(e){c.visible("number"===e.value),s.visible("variable"===e.value),c.isObservable&&c.focus()})),c,s]}).visible(i)},o=t("value",(0,a.pgettext)("block:rating","If rating equals"),"defined"!==this.mode&&"undefined"!==this.mode),i=t("to",(0,a.pgettext)("block:rating","And"),"between"===this.mode||"not-between"===this.mode)},l([a.definition,(0,a.affects)("#name")],t.prototype,"mode",void 0),l([a.definition,(0,a.affects)("#name")],t.prototype,"value",void 0),l([a.definition,(0,a.affects)("#name")],t.prototype,"to",void 0),l([a.editor],t.prototype,"defineEditor",null),l([(0,a.tripetto)({type:"condition",legacyBlock:!0,context:"@tripetto/block-rating",identifier:"".concat("@tripetto/block-rating",":compare"),version:"6.0.3",icon:c.default,get label(){return(0,a.pgettext)("block:rating","Compare rating")}})],t)}(a.ConditionBlock);t.RatingCompareCondition=u},703:function(e,t,o){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=this&&this.__decorate||function(e,t,o,i){var n,l=arguments.length,a=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(l<3?n(a):l>3?n(t,o,a):n(t,o))||a);return l>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.RatingMatchCondition=void 0;var a=o(954),r=o(110),c=o(617),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.stars=0,t}return n(t,e),Object.defineProperty(t.prototype,"rating",{get:function(){var e;return(null===(e=this.node)||void 0===e?void 0:e.block)instanceof r.Rating&&this.node.block||void 0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"icon",{get:function(){var e;return(null===(e=this.rating)||void 0===e?void 0:e.shapeIcon)||c.default},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){var e;return r.Rating.getShapeLabel((null===(e=this.rating)||void 0===e?void 0:e.shape)||"stars",this.stars)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){var e;return null===(e=this.node)||void 0===e?void 0:e.label},enumerable:!1,configurable:!0}),l([a.definition,(0,a.affects)("#name")],t.prototype,"stars",void 0),l([(0,a.tripetto)({type:"condition",legacyBlock:!0,context:"@tripetto/block-rating",identifier:"@tripetto/block-rating",version:"6.0.3",icon:c.default,alias:"rating",get label(){return(0,a.pgettext)("block:rating","Match rating")}})],t)}(a.ConditionBlock);t.RatingMatchCondition=u},110:function(e,t,o){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=this&&this.__decorate||function(e,t,o,i){var n,l=arguments.length,a=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(l<3?n(a):l>3?n(t,o,a):n(t,o))||a);return l>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.Rating=void 0;var a=o(954),r=o(703),c=o(870),u=o(617),s=o(693),d=o(966),p=o(889),b=o(584),g=o(904),f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}var o;return n(t,e),o=t,Object.defineProperty(t.prototype,"icon",{get:function(){return this.shape?this.shapeIcon:u.default},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"shapeIcon",{get:function(){switch(this.shape){case"hearts":return d.default;case"thumbs-up":return p.default;case"thumbs-down":return b.default;case"persons":return g.default}return s.default},enumerable:!1,configurable:!0}),t.getShapeLabel=function(e,t){switch(e){case"hearts":return(0,a.npgettext)("block:rating","1 heart","%1 hearts",t);case"thumbs-up":return(0,a.npgettext)("block:rating","1 thumb up","%1 thumbs up",t);case"thumbs-down":return(0,a.npgettext)("block:rating","1 thumb down","%1 thumbs down",t);case"persons":return(0,a.npgettext)("block:rating","1 person","%1 persons",t);case"stars":return(0,a.npgettext)("block:rating","1 star","%1 stars",t)}},t.prototype.defineSlot=function(){this.ratingSlot=this.slots.static({type:a.Slots.Number,reference:"rating",label:(0,a.pgettext)("block:rating","Rating"),exchange:["required","alias","exportable"]})},t.prototype.defineEditor=function(){this.editor.name(!0,!0),this.editor.description(),this.editor.option({name:(0,a.pgettext)("block:rating","Image"),form:{title:(0,a.pgettext)("block:rating","Image"),controls:[new a.Forms.Text("singleline",a.Forms.Text.bind(this,"imageURL",void 0)).label((0,a.pgettext)("block:rating","Image source URL")).inputMode("url").placeholder("https://").action("@",(0,a.insertVariable)(this)).autoValidate((function(e){return""===e.value?"unknown":a.REGEX_IS_URL.test(e.value)||e.value.length>23&&0===e.value.indexOf("data:image/jpeg;base64,")||e.value.length>22&&0===e.value.indexOf("data:image/png;base64,")||e.value.length>22&&0===e.value.indexOf("data:image/svg;base64,")||e.value.length>22&&0===e.value.indexOf("data:image/gif;base64,")||e.value.length>1&&"/"===e.value.charAt(0)?"pass":"fail"})),new a.Forms.Text("singleline",a.Forms.Checkbox.bind(this,"imageWidth",void 0)).label((0,a.pgettext)("block:rating","Image width (optional)")).width(100).align("center"),new a.Forms.Checkbox((0,a.pgettext)("block:rating","Display image on top of the paragraph"),a.Forms.Checkbox.bind(this,"imageAboveText",void 0))]},activated:(0,a.isString)(this.imageURL)}),this.editor.explanation(),this.editor.groups.settings(),this.editor.option({name:(0,a.pgettext)("block:rating","Shape"),form:{title:(0,a.pgettext)("block:rating","Shape"),controls:[new a.Forms.Radiobutton([{label:(0,a.pgettext)("block:rating","Stars"),value:"stars"},{label:(0,a.pgettext)("block:rating","Hearts"),value:"hearts"},{label:(0,a.pgettext)("block:rating","Thumbs up"),value:"thumbs-up"},{label:(0,a.pgettext)("block:rating","Thumbs down"),value:"thumbs-down"},{label:(0,a.pgettext)("block:rating","Persons"),value:"persons"}],a.Forms.Radiobutton.bind(this,"shape",void 0)).label((0,a.pgettext)("block:rating","Select the shape you want to use for your rating."))]},activated:(0,a.isString)(this.shape)}),this.editor.option({name:(0,a.pgettext)("block:rating","Steps"),form:{title:(0,a.pgettext)("block:rating","Number of steps"),controls:[new a.Forms.Numeric(a.Forms.Numeric.bind(this,"steps",void 0,5)).min(1).max(10)]},activated:(0,a.isNumberFinite)(this.steps)}),this.editor.groups.options(),this.editor.required(this.ratingSlot),this.editor.visibility(),this.editor.alias(this.ratingSlot),this.editor.exportable(this.ratingSlot)},t.prototype.defineConditions=function(){for(var e=this,t=this.conditions.group((0,a.pgettext)("block:rating","Match"),this.shapeIcon),i=this.conditions.group((0,a.pgettext)("block:rating","Compare"),this.shapeIcon),n=1;n<=(this.steps||5);n++)t.template({condition:r.RatingMatchCondition,icon:this.shapeIcon,label:o.getShapeLabel(this.shape||"stars",n),burst:"branch",props:{stars:n}});(0,a.each)([{mode:"equal",label:(0,a.pgettext)("block:rating","Rating is equal to")},{mode:"not-equal",label:(0,a.pgettext)("block:rating","Rating is not equal to")},{mode:"below",label:(0,a.pgettext)("block:rating","Rating is lower than")},{mode:"above",label:(0,a.pgettext)("block:rating","Rating is higher than")},{mode:"between",label:(0,a.pgettext)("block:rating","Rating is between")},{mode:"not-between",label:(0,a.pgettext)("block:rating","Rating is not between")},{mode:"defined",label:(0,a.pgettext)("block:rating","Rating is given")},{mode:"undefined",label:(0,a.pgettext)("block:rating","Rating is not given")}],(function(t){i.template({condition:c.RatingCompareCondition,icon:e.shapeIcon,label:t.label,autoOpen:"defined"!==t.mode&&"undefined"!==t.mode,props:{slot:e.ratingSlot,mode:t.mode}})}))},l([a.definition,(0,a.affects)("#icon")],t.prototype,"shape",void 0),l([a.definition],t.prototype,"steps",void 0),l([(0,a.definition)("string","optional")],t.prototype,"imageURL",void 0),l([(0,a.definition)("string","optional")],t.prototype,"imageWidth",void 0),l([(0,a.definition)("boolean","optional")],t.prototype,"imageAboveText",void 0),l([a.slots],t.prototype,"defineSlot",null),l([a.editor],t.prototype,"defineEditor",null),l([a.conditions],t.prototype,"defineConditions",null),o=l([(0,a.tripetto)({type:"node",legacyBlock:!0,identifier:"@tripetto/block-rating",version:"6.0.3",icon:u.default,alias:"rating",get label(){return(0,a.pgettext)("block:rating","Rating")}})],t)}(a.NodeBlock);t.Rating=f},617:function(e,t,o){o.r(t),t.default="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCI+PHBhdGggZD0iTTE1LjUgMTlhLjQ5Ny40OTcgMCAwIDEtLjIzOS0uMDYxbC0zLTEuNjM2YS41LjUgMCAwIDEgLjQ3OC0uODc4bDIuMDk4IDEuMTQ1LS4xNjUtLjk4N2EuNS41IDAgMCAxIC45ODYtLjE2NGwuMzMzIDJhLjUwMy41MDMgMCAwIDEtLjQ5My41ODN6bS0uNjY3LTRhLjUuNSAwIDAgMS0uNDkzLS40MThsLS4zMzMtMmEuNDk3LjQ5NyAwIDAgMSAuMTQtLjQzNmwxLTFhLjUuNSAwIDAgMSAuNzA3LjcwN2wtLjgxOC44MTguMjkxIDEuNzQ2YS41LjUgMCAwIDEtLjQ5NC41ODJ6bTIuNjY3LTVhLjUuNSAwIDAgMS0uMzU0LS44NTNsLjMxMy0uMzEzLTIuMDQyLS4zNGEuNS41IDAgMCAxIC4xNjQtLjk4NmwzIC41YS41LjUgMCAwIDEgLjI3MS44NDdsLTEgMWEuNS41IDAgMCAxLS4zNTQuMTQ3em0tMy45OTktMS44MzNhLjQ3My40NzMgMCAwIDEtLjA4My0uMDA3bC0xLS4xNjdhLjUuNSAwIDAgMS0uMzY1LS4yN2wtMS0yYS41LjUgMCAwIDEgLjg5NS0uNDQ3bC44ODYgMS43NzIuNzQ5LjEyNWEuNS41IDAgMCAxLS4wODIuOTkzeiIgY2xhc3M9InRyaXBldHRvLWZpbGwiLz48cGF0aCBkPSJNNC41IDE5YS40OTkuNDk5IDAgMCAxLS40OTMtLjU4M2wuOTU4LTUuNzQ2LTMuODE4LTMuODE4YS41MDEuNTAxIDAgMCAxIC4yNzEtLjg0N2w1Ljc0OS0uOTU4IDIuMzg2LTQuNzcyYS41LjUgMCAwIDEgLjg5NCAwbC41IDFhLjUuNSAwIDAgMS0uODk1LjQ0N2wtLjA1My0uMTA2LTIuMDUzIDQuMTA2YS41MDMuNTAzIDAgMCAxLS4zNjUuMjdsLTUuMDQyLjg0IDMuMzEzIDMuMzEzYS41MDIuNTAyIDAgMCAxIC4xNC40MzZsLS44MzEgNC45ODcgNC41OTktMi41MDhhLjUwMi41MDIgMCAwIDEgLjQ3OSAwbC41LjI3M2EuNS41IDAgMSAxLS40NzkuODc3bC0uMjYxLS4xNDItNS4yNjEgMi44NjlhLjQ5Ny40OTcgMCAwIDEtLjIzOS4wNjF6IiBjbGFzcz0idHJpcGV0dG8tZmlsbCIvPjwvc3ZnPg=="},966:function(e,t,o){o.r(t),t.default="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCI+PHBhdGggZD0iTTkuNSAxOWEuNS41IDAgMCAxLS4yNDMtLjA2M2MtLjA5NC0uMDUyLTIuMzI2LTEuMzAxLTQuNTkyLTMuMzQ3LTEuMzQxLTEuMjEtMi40MTEtMi40NDgtMy4xODMtMy42OEMuNDk4IDEwLjMzOSAwIDguNzcxIDAgNy4yNUE1LjI1NiA1LjI1NiAwIDAgMSA1LjI1IDJjLjk4IDAgMi4wMjEuMzY3IDIuOTMxIDEuMDM0LjUzMi4zOS45ODUuODYgMS4zMTkgMS4zNTlhNS41MjIgNS41MjIgMCAwIDEgMS4zMTktMS4zNTlDMTEuNzI5IDIuMzY3IDEyLjc3IDIgMTMuNzUgMkE1LjI1NiA1LjI1NiAwIDAgMSAxOSA3LjI1YzAgMS41MjEtLjQ5OSAzLjA4OS0xLjQ4MiA0LjY2LS43NzEgMS4yMzItMS44NDIgMi40Ny0zLjE4MiAzLjY4LTIuMjY2IDIuMDQ2LTQuNDk4IDMuMjk1LTQuNTkyIDMuMzQ3YS41LjUgMCAwIDEtLjI0My4wNjN6TTUuMjUgM0E0LjI1NSA0LjI1NSAwIDAgMCAxIDcuMjVjMCAzLjA0IDIuMzUgNS44MDIgNC4zMjEgNy41ODVBMjcuNzM4IDI3LjczOCAwIDAgMCA5LjUgMTcuOTIyYTI3LjczOCAyNy43MzggMCAwIDAgNC4xNzktMy4wODdDMTUuNjUgMTMuMDUzIDE4IDEwLjI5IDE4IDcuMjVBNC4yNTUgNC4yNTUgMCAwIDAgMTMuNzUgM2MtMS43MDMgMC0zLjM1NyAxLjQwMS0zLjc3NiAyLjY1OGEuNS41IDAgMCAxLS45NDggMEM4LjYwNyA0LjQwMSA2Ljk1MyAzIDUuMjUgM3oiIGNsYXNzPSJ0cmlwZXR0by1maWxsIi8+PC9zdmc+"},904:function(e,t,o){o.r(t),t.default="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCI+PHBhdGggZD0iTTkuNSAxMUM2LjQ2NyAxMSA0IDguNTMzIDQgNS41UzYuNDY3IDAgOS41IDAgMTUgMi40NjcgMTUgNS41IDEyLjUzMyAxMSA5LjUgMTF6bTAtMTBDNy4wMTkgMSA1IDMuMDE5IDUgNS41UzcuMDE5IDEwIDkuNSAxMCAxNCA3Ljk4MSAxNCA1LjUgMTEuOTgxIDEgOS41IDF6bTggMTloLTE2Qy42NzMgMjAgMCAxOS4zMjcgMCAxOC41YzAtLjA2OC4wMTQtMS42ODUgMS4yMjUtMy4zLjcwNS0uOTQgMS42Ny0xLjY4NyAyLjg2OS0yLjIxOUM1LjU1OCAxMi4zMyA3LjM3NyAxMiA5LjUgMTJzMy45NDIuMzMgNS40MDYuOTgxYzEuMTk5LjUzMyAyLjE2NCAxLjI3OSAyLjg2OSAyLjIxOUMxOC45ODYgMTYuODE1IDE5IDE4LjQzMiAxOSAxOC41YzAgLjgyNy0uNjczIDEuNS0xLjUgMS41em0tOC03Yy0zLjQ4NyAwLTYuMDYuOTUzLTcuNDQxIDIuNzU2QzEuMDI0IDE3LjEwNyAxLjAwMSAxOC40ODggMSAxOC41MDJhLjUuNSAwIDAgMCAuNS40OThoMTZhLjUuNSAwIDAgMCAuNS0uNWMwLS4wMTItLjAyMy0xLjM5My0xLjA1OS0yLjc0NEMxNS41NTkgMTMuOTUzIDEyLjk4NiAxMyA5LjUgMTN6IiBjbGFzcz0idHJpcGV0dG8tZmlsbCIvPjwvc3ZnPg=="},693:function(e,t,o){o.r(t),t.default="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCI+PHBhdGggZD0iTTE1LjUgMTlhLjQ5Ny40OTcgMCAwIDEtLjIzOS0uMDYxTDEwIDE2LjA3bC01LjI2MSAyLjg2OWEuNDk5LjQ5OSAwIDAgMS0uNzMyLS41MjJsLjk1OC01Ljc0Ni0zLjgxOC0zLjgxOGEuNTAxLjUwMSAwIDAgMSAuMjcxLS44NDdsNS43NDktLjk1OCAyLjM4Ni00Ljc3MmEuNS41IDAgMCAxIC44OTQgMGwyLjM4NiA0Ljc3MiA1Ljc0OS45NThhLjUuNSAwIDAgMSAuMjcxLjg0N2wtMy44MTggMy44MTguOTU4IDUuNzQ2QS41MDMuNTAzIDAgMCAxIDE1LjUgMTl6TTEwIDE1Yy4wODIgMCAuMTY1LjAyLjIzOS4wNjFsNC41OTkgMi41MDgtLjgzMS00Ljk4N2EuNDk3LjQ5NyAwIDAgMSAuMTQtLjQzNmwzLjMxMy0zLjMxMy01LjA0Mi0uODRhLjUuNSAwIDAgMS0uMzY1LS4yN0wxMCAzLjYxNyA3Ljk0NyA3LjcyM2EuNTAzLjUwMyAwIDAgMS0uMzY1LjI3bC01LjA0Mi44NCAzLjMxMyAzLjMxM2EuNTAyLjUwMiAwIDAgMSAuMTQuNDM2bC0uODMxIDQuOTg3IDQuNTk5LTIuNTA4QS40OTcuNDk3IDAgMCAxIDEwIDE1eiIgY2xhc3M9InRyaXBldHRvLWZpbGwiLz48L3N2Zz4="},584:function(e,t,o){o.r(t),t.default="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCI+PHBhdGggZD0iTTE4LjkxNiA4Ljc5MmMuNDQzLjUxMS42OTUgMS4zNTUuNjk1IDIuMTU5IDAgLjUzMS0uMTE1Ljk5Ni0uMzMzIDEuMzQ1QTEuNDYgMS40NiAwIDAgMSAxOCAxM2gtMi42MThjMS40MjUgMi41OTEgMS43ODUgNC41NDMgMS4wNyA1LjgwNy0uNDk5Ljg4MS0xLjQxMyAxLjE5My0yLjA0NSAxLjE5M2EuNS41IDAgMCAxLS40OTUtLjQzM2MtLjE3OS0xLjMxOS0xLjE4OC0yLjg5My0yLjc2OC00LjMxOGExNS41NDQgMTUuNTQ0IDAgMCAwLTUuMjg2LTMuMTFjLS4yNDEuNTA4LS43NTguODYtMS4zNTYuODZoLTNjLS44MjcgMC0xLjUtLjY3My0xLjUtMS41di05YzAtLjgyNy42NzMtMS41IDEuNS0xLjVoM2MuNjM0IDAgMS4xNzYuMzk1IDEuMzk2Ljk1MiAxLjk2MS0uMjQ2IDIuNjk5LS42NCAzLjQxNC0xLjAyMi44OTUtLjQ3OCAxLjczOS0uOTMgNC41MDMtLjkzLjcyIDAgMS4zOTguMTg4IDEuOTEuNTI5LjUuMzMzLjgyLjgwMS45MjYgMS4zNDMuMzk5LjE2Mi43NTMuNTM2IDEuMDI0IDEuMDkyLjI2NC41NDEuNDM1IDEuMjMyLjQzNSAxLjc2MSAwIC4wOTktLjAwNi4xOS0uMDE3LjI3NC4yNTMuMTg2LjQ4LjQ3My42NjcuODUxYTQuMzIgNC4zMiAwIDAgMSAuNDMyIDEuODI2YzAgLjQyNC0uMDc5Ljc3Ny0uMjM0IDEuMDUxbC0uMDM5LjA2NXpNNC41IDJoLTNhLjUuNSAwIDAgMC0uNS41djlhLjUuNSAwIDAgMCAuNS41aDNhLjUuNSAwIDAgMCAuNS0uNXYtOWEuNS41IDAgMCAwLS41LS41em0xMy44MzkgNy43MjZjLS4xNTEtLjMwNC0uMzA0LS40MTQtLjM3LS40MTRhLjUuNSAwIDAgMSAwLTFjLjA0MiAwIC4wNzIgMCAuMTE3LS4wNzguMDY2LS4xMTcuMTA0LS4zMi4xMDQtLjU1OCAwLS40NDUtLjEyNi0uOTc0LS4zMjgtMS4zODItLjE5OC0uMzk5LS4zOTktLjU0NC0uNDg3LS41NDRhLjUuNSAwIDAgMS0uMjY5LS45MjJjLjAzMS0uMzE3LS4xMTctMS4xNjUtLjUwMS0xLjcxOC0uMTQ1LS4yMDktLjI5OC0uMzI5LS40MTgtLjMyOWEuNS41IDAgMCAxLS41LS41YzAtLjg4LS45NzItMS4yODEtMS44NzUtMS4yODEtMi41MTMgMC0zLjIxNy4zNzYtNC4wMzIuODEyLS43NjIuNDA3LTEuNjE4Ljg2NS0zLjc4MSAxLjEzNHY4LjE4N2ExNi41NDUgMTYuNTQ1IDAgMCAxIDUuODEyIDMuMzczYzEuNTkzIDEuNDM2IDIuNjM5IDIuOTg4IDIuOTk0IDQuNDI2LjI3Mi0uMDg3LjU3OS0uMjcxLjc3Ni0uNjE4LjMzNC0uNTkuNTg0LTIuMDk2LTEuNDkzLTUuNTU3YS41LjUgMCAwIDEgLjQyOS0uNzU4SDE4Yy4xOTkgMCAuMzI3LS4wNy40My0uMjM0LjExNy0uMTg3LjE4MS0uNDc3LjE4MS0uODE1IDAtLjQyNC0uMTAyLS44ODItLjI3Mi0xLjIyNXoiIGNsYXNzPSJ0cmlwZXR0by1maWxsIi8+PC9zdmc+"},889:function(e,t,o){o.r(t),t.default="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCI+PHBhdGggZD0iTTE4LjkxNiAxMS4yMDhjLjQ0My0uNTExLjY5NS0xLjM1NS42OTUtMi4xNTkgMC0uNTMxLS4xMTUtLjk5Ni0uMzMzLTEuMzQ1QTEuNDYgMS40NiAwIDAgMCAxOCA3aC0yLjYxOGMxLjQyNS0yLjU5MSAxLjc4NS00LjU0MyAxLjA3LTUuODA3QzE1Ljk1My4zMTIgMTUuMDM5IDAgMTQuNDA3IDBhLjUuNSAwIDAgMC0uNDk1LjQzM2MtLjE3OSAxLjMxOS0xLjE4OCAyLjg5My0yLjc2OCA0LjMxOGExNS41NDQgMTUuNTQ0IDAgMCAxLTUuMjg2IDMuMTEgMS41MDIgMS41MDIgMCAwIDAtMS4zNTYtLjg2aC0zYy0uODI3IDAtMS41LjY3My0xLjUgMS41djljMCAuODI3LjY3MyAxLjUgMS41IDEuNWgzYy42MzQgMCAxLjE3Ni0uMzk1IDEuMzk2LS45NTIgMS45NjEuMjQ2IDIuNjk5LjY0IDMuNDE0IDEuMDIyLjg5NS40NzggMS43MzkuOTMgNC41MDMuOTMuNzIgMCAxLjM5OC0uMTg4IDEuOTEtLjUyOS41LS4zMzMuODItLjgwMS45MjYtMS4zNDMuMzk5LS4xNjIuNzUzLS41MzYgMS4wMjQtMS4wOTIuMjY0LS41NDEuNDM1LTEuMjMyLjQzNS0xLjc2MSAwLS4wOTktLjAwNi0uMTktLjAxNy0uMjc0LjI1My0uMTg2LjQ4LS40NzMuNjY3LS44NTFhNC4zMiA0LjMyIDAgMCAwIC40MzItMS44MjZjMC0uNDI0LS4wNzktLjc3Ny0uMjM0LTEuMDUxbC0uMDM5LS4wNjV6TTQuNSAxOGgtM2EuNS41IDAgMCAxLS41LS41di05YS41LjUgMCAwIDEgLjUtLjVoM2EuNS41IDAgMCAxIC41LjV2OWEuNS41IDAgMCAxLS41LjV6bTEzLjgzOS03LjcyNmMtLjE1MS4zMDQtLjMwNC40MTQtLjM3LjQxNGEuNS41IDAgMCAwIDAgMWMuMDQyIDAgLjA3MiAwIC4xMTcuMDc4LjA2Ni4xMTcuMTA0LjMyLjEwNC41NTggMCAuNDQ1LS4xMjYuOTc0LS4zMjggMS4zODItLjE5OC4zOTktLjM5OS41NDQtLjQ4Ny41NDRhLjUuNSAwIDAgMC0uMjY5LjkyMmMuMDMxLjMxNy0uMTE3IDEuMTY1LS41MDEgMS43MTgtLjE0NS4yMDktLjI5OC4zMjktLjQxOC4zMjlhLjUuNSAwIDAgMC0uNS41YzAgLjg4LS45NzIgMS4yODEtMS44NzUgMS4yODEtMi41MTMgMC0zLjIxNy0uMzc2LTQuMDMyLS44MTItLjc2Mi0uNDA3LTEuNjE4LS44NjUtMy43ODEtMS4xMzRWOC44NjdhMTYuNTQ1IDE2LjU0NSAwIDAgMCA1LjgxMi0zLjM3M2MxLjU5My0xLjQzNiAyLjYzOS0yLjk4OCAyLjk5NC00LjQyNi4yNzIuMDg3LjU3OS4yNzEuNzc2LjYxOC4zMzQuNTkuNTg0IDIuMDk2LTEuNDkzIDUuNTU3YS41LjUgMCAwIDAgLjQyOS43NThIMThjLjE5OSAwIC4zMjcuMDcuNDMuMjM0LjExNy4xODcuMTgxLjQ3Ny4xODEuODE1IDAgLjQyNC0uMTAyLjg4Mi0uMjcyIDEuMjI1eiIgY2xhc3M9InRyaXBldHRvLWZpbGwiLz48L3N2Zz4="},954:function(e){e.exports=o(975)}},i={};function n(e){var o=i[e];if(void 0!==o)return o.exports;var l=i[e]={exports:{}};return t[e].call(l.exports,l,l.exports,n),l.exports}n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var l=n(110);e.exports=l}()},500:function(e,t,o){!function(){"use strict";var t={110:function(e,t,o){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=this&&this.__decorate||function(e,t,o,i){var n,l=arguments.length,a=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(l<3?n(a):l>3?n(t,o,a):n(t,o))||a);return l>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.RegExCondition=void 0;var a=o(954),r=o(617),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.regex="",t.invert=!1,t}return n(t,e),Object.defineProperty(t.prototype,"label",{get:function(){return""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.variable&&"".concat(this.type.label," @").concat(this.variable)||this.type.label},enumerable:!1,configurable:!0}),t.prototype.defineEditor=function(){var e=this;this.editor.form({title:(0,a.pgettext)("block:regex","Input"),controls:[new a.Forms.Dropdown((0,a.populateVariables)(this,void 0,this.variable),this.variable).placeholder((0,a.pgettext)("block:regex","Select the input variable to use...")).on((function(t){var o;e.variable=t.value||void 0,e.slot=t.value&&(null===(o=(0,a.lookupVariable)(e,t.value))||void 0===o?void 0:o.slot)||void 0})).autoFocus()]}),this.editor.form({title:(0,a.pgettext)("block:regex","Regular expression"),controls:[new a.Forms.Text("singleline",a.Forms.Text.bind(this,"regex","")).placeholder((0,a.pgettext)("block:regex","Regex literal (for example /ab+c/)")).autoValidate((function(e){if(!e.value)return"unknown";try{var t=e.value.indexOf("/"),o=e.value.lastIndexOf("/");return 0===t&&o>t&&function(e,t){try{return new RegExp(e.substring(1,t),e.substr(t+1))instanceof RegExp}catch(e){return!1}}(e.value,o)?"pass":"fail"}catch(e){return"fail"}})).enter(this.editor.close).escape(this.editor.close),new a.Forms.Checkbox((0,a.pgettext)("block:regex","Invert regular expression"),a.Forms.Checkbox.bind(this,"invert",!1))]})},l([a.definition,(0,a.affects)("#name")],t.prototype,"variable",void 0),l([a.definition],t.prototype,"regex",void 0),l([a.definition],t.prototype,"invert",void 0),l([a.editor],t.prototype,"defineEditor",null),l([(0,a.tripetto)({type:"condition",legacyBlock:!0,context:"*",identifier:"@tripetto/block-regex",version:"4.0.2",icon:r.default,autoOpen:!0,get label(){return(0,a.pgettext)("block:regex","Regular expression")}})],t)}(a.ConditionBlock);t.RegExCondition=c},617:function(e,t,o){o.r(t),t.default="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCI+PHBhdGggZD0iTTE4LjUgMThoLTE3Qy42NzMgMTggMCAxNy4zMjcgMCAxNi41di0xM0MwIDIuNjczLjY3MyAyIDEuNSAyaDE3Yy44MjcgMCAxLjUuNjczIDEuNSAxLjV2MTNjMCAuODI3LS42NzMgMS41LTEuNSAxLjV6TTEuNSAzYS41LjUgMCAwIDAtLjUuNXYxM2EuNS41IDAgMCAwIC41LjVoMTdhLjUuNSAwIDAgMCAuNS0uNXYtMTNhLjUuNSAwIDAgMC0uNS0uNWgtMTd6IiBjbGFzcz0idHJpcGV0dG8tZmlsbCIvPjxwYXRoIGQ9Ik0zLjUgMTBhLjUuNSAwIDAgMS0uMjc4LS45MTZMNS41OTggNy41IDMuMjIyIDUuOTE2YS41LjUgMCAxIDEgLjU1NC0uODMybDMgMmEuNTAxLjUwMSAwIDAgMSAwIC44MzJsLTMgMmEuNDk3LjQ5NyAwIDAgMS0uMjc3LjA4NHptOCAwaC0zYS41LjUgMCAwIDEgMC0xaDNhLjUuNSAwIDAgMSAwIDF6IiBjbGFzcz0idHJpcGV0dG8tZmlsbCIvPjwvc3ZnPg=="},954:function(e){e.exports=o(975)}},i={};function n(e){var o=i[e];if(void 0!==o)return o.exports;var l=i[e]={exports:{}};return t[e].call(l.exports,l,l.exports,n),l.exports}n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var l=n(110);e.exports=l}()},601:function(e,t,o){!function(){"use strict";var t={870:function(e,t,o){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=this&&this.__decorate||function(e,t,o,i){var n,l=arguments.length,a=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(l<3?n(a):l>3?n(t,o,a):n(t,o))||a);return l>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.ScaleCompareCondition=void 0;var a=o(954),r=o(110),c=o(868),u=o(617),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.allowMarkdown=!0,t.mode="equal",t}return n(t,e),Object.defineProperty(t.prototype,"scale",{get:function(){var e;return(null===(e=this.node)||void 0===e?void 0:e.block)instanceof r.Scale&&this.node.block||void 0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"label",{get:function(){return""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){var e=this.slot;if(e instanceof a.Slots.Number){var t=this.parse(e,this.value);switch(this.mode){case"between":return"".concat(t," ≤ @").concat(e.id," ≤ ").concat(this.parse(e,this.to));case"not-between":return"@".concat(e.id," < ").concat(t," ").concat((0,a.pgettext)("block:scale","or")," @").concat(e.id," > ").concat(this.parse(e,this.to));case"defined":return"@".concat(e.id," ").concat((0,a.pgettext)("block:scale","not empty"));case"undefined":return"@".concat(e.id," ").concat((0,a.pgettext)("block:scale","empty"));case"not-equal":return"@".concat(e.id," ≠ ").concat(t);case"above":case"below":case"equal":return"@".concat(e.id," ").concat("above"===this.mode?">":"below"===this.mode?"<":"="," ").concat(t)}}return this.type.label},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){var e;return null===(e=this.node)||void 0===e?void 0:e.label},enumerable:!1,configurable:!0}),t.prototype.parse=function(e,t){var o;return(0,a.isNumberFinite)(t)?e.toString(t):(0,a.isString)(t)&&t&&(null===(o=(0,a.lookupVariable)(this,t))||void 0===o?void 0:o.label)?"@"+t:"\\_\\_"},t.prototype.defineEditor=function(){var e=this;this.editor.form({title:(0,a.pgettext)("block:scale","Compare mode"),controls:[new a.Forms.Radiobutton([{label:(0,a.pgettext)("block:scale","Answer is equal to"),value:"equal"},{label:(0,a.pgettext)("block:scale","Answer is not equal to"),value:"not-equal"},{label:(0,a.pgettext)("block:scale","Answer is lower than"),value:"below"},{label:(0,a.pgettext)("block:scale","Answer is higher than"),value:"above"},{label:(0,a.pgettext)("block:scale","Answer is between"),value:"between"},{label:(0,a.pgettext)("block:scale","Answer is not between"),value:"not-between"},{label:(0,a.pgettext)("block:scale","Answer is not empty"),value:"defined"},{label:(0,a.pgettext)("block:scale","Answer is empty"),value:"undefined"}],a.Forms.Radiobutton.bind(this,"mode","equal")).on((function(e){switch(o.visible("defined"!==e.value&&"undefined"!==e.value),i.visible("between"===e.value||"not-between"===e.value),e.value){case"equal":o.title=(0,a.pgettext)("block:scale","If answer equals");break;case"not-equal":o.title=(0,a.pgettext)("block:scale","If answer not equals");break;case"below":o.title=(0,a.pgettext)("block:scale","If answer is lower than");break;case"above":o.title=(0,a.pgettext)("block:scale","If answer is higher than");break;case"between":o.title=(0,a.pgettext)("block:scale","If answer is between");break;case"not-between":o.title=(0,a.pgettext)("block:scale","If answer is not between")}}))]});var t=function(t,o,i){var n,l,r,u,s,d=e[t],p=new a.Forms.Numeric((0,a.isNumberFinite)(d)?d:0).label((0,a.pgettext)("block:scale","Use fixed number")).min(a.Num.range(a.Num.min((0,a.castToNumber)(null===(n=e.scale)||void 0===n?void 0:n.from,c.MIN_DEFAULT),(0,a.castToNumber)(null===(l=e.scale)||void 0===l?void 0:l.to,c.MAX_DEFAULT)),c.MIN,c.MAX)).max(a.Num.range(a.Num.max((0,a.castToNumber)(null===(r=e.scale)||void 0===r?void 0:r.from,c.MIN_DEFAULT),(0,a.castToNumber)(null===(u=e.scale)||void 0===u?void 0:u.to,c.MAX_DEFAULT)),c.MIN,c.MAX)).autoFocus("value"===t).escape(e.editor.close).enter((function(){return("between"!==e.mode&&"not-between"!==e.mode||"to"===t)&&e.editor.close()})).on((function(o){o.isFormVisible&&o.isObservable&&(e[t]=o.value)})),b=(0,a.populateVariables)(e,(function(e){return e instanceof a.Slots.Number||e instanceof a.Slots.Numeric}),(0,a.isString)(d)?d:void 0,!1,null===(s=e.slot)||void 0===s?void 0:s.id),g=new a.Forms.Dropdown(b,(0,a.isString)(d)?d:"").label((0,a.pgettext)("block:scale","Use value of")).width("full").on((function(o){o.isFormVisible&&o.isObservable&&(e[t]=o.value||"")}));return e.editor.form({title:o,controls:[new a.Forms.Radiobutton([{label:(0,a.pgettext)("block:scale","Number"),value:"number"},{label:(0,a.pgettext)("block:scale","Value"),value:"variable",disabled:0===b.length}],(0,a.isString)(d)?"variable":"number").on((function(e){p.visible("number"===e.value),g.visible("variable"===e.value),p.isObservable&&p.focus()})),p,g]}).visible(i)},o=t("value",(0,a.pgettext)("block:scale","If answer equals"),"defined"!==this.mode&&"undefined"!==this.mode),i=t("to",(0,a.pgettext)("block:scale","And"),"between"===this.mode||"not-between"===this.mode)},l([a.definition,(0,a.affects)("#name")],t.prototype,"mode",void 0),l([a.definition,(0,a.affects)("#name")],t.prototype,"value",void 0),l([a.definition,(0,a.affects)("#name")],t.prototype,"to",void 0),l([a.editor],t.prototype,"defineEditor",null),l([(0,a.tripetto)({type:"condition",legacyBlock:!0,context:"@tripetto/block-scale",identifier:"".concat("@tripetto/block-scale",":compare"),version:"4.0.3",icon:u.default,get label(){return(0,a.pgettext)("block:scale","Compare scale answer")}})],t)}(a.ConditionBlock);t.ScaleCompareCondition=s},703:function(e,t,o){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=this&&this.__decorate||function(e,t,o,i){var n,l=arguments.length,a=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(l<3?n(a):l>3?n(t,o,a):n(t,o))||a);return l>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.ScaleMatchCondition=void 0;var a=o(954),r=o(617),c=o(718),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),Object.defineProperty(t.prototype,"icon",{get:function(){return this.option?r.default:c.default},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return(this.option?this.option.name:(0,a.pgettext)("block:scale","Unanswered"))||this.type.label},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){return this.name},enumerable:!1,configurable:!0}),l([(0,a.affects)("#name"),(0,a.affects)("#condition"),(0,a.collection)("#options")],t.prototype,"option",void 0),l([(0,a.tripetto)({type:"condition",legacyBlock:!0,context:"@tripetto/block-scale",identifier:"".concat("@tripetto/block-scale",":match"),version:"4.0.3",icon:r.default,get label(){return(0,a.pgettext)("block:scale","Match scale answer")}})],t)}(a.ConditionBlock);t.ScaleMatchCondition=u},287:function(e,t,o){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=this&&this.__decorate||function(e,t,o,i){var n,l=arguments.length,a=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(l<3?n(a):l>3?n(t,o,a):n(t,o))||a);return l>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.ScoreCondition=void 0;var a=o(954),r=o(939),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.allowMarkdown=!0,t.mode="equal",t}return n(t,e),Object.defineProperty(t.prototype,"label",{get:function(){return""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){var e=this.slot;if(e instanceof a.Slots.Numeric){var t=this.parse(e,this.value);switch(this.mode){case"between":return"".concat(t," ≤ @").concat(e.id," ≤ ").concat(this.parse(e,this.to));case"not-between":return"@".concat(e.id," < ").concat(t," ").concat((0,a.pgettext)("block:scale","or")," @").concat(e.id," > ").concat(this.parse(e,this.to));case"defined":return"@".concat(e.id," ").concat((0,a.pgettext)("block:scale","calculated"));case"undefined":return"@".concat(e.id," ").concat((0,a.pgettext)("block:scale","not calculated"));case"not-equal":return"@".concat(e.id," ≠ ").concat(t);case"above":case"below":case"equal":return"@".concat(e.id," ").concat("above"===this.mode?">":"below"===this.mode?"<":"="," ").concat(t)}}return this.type.label},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){var e,t;return(null===(e=this.slot)||void 0===e?void 0:e.label)||(null===(t=this.node)||void 0===t?void 0:t.label)},enumerable:!1,configurable:!0}),t.prototype.parse=function(e,t){var o;return(0,a.isNumberFinite)(t)?e.toString(t,(function(e,t){return a.L10n.locale.number(e,t,!1)})):(0,a.isString)(t)&&t&&(null===(o=(0,a.lookupVariable)(this,t))||void 0===o?void 0:o.label)?"@".concat(t):"\\_\\_"},t.prototype.defineEditor=function(){var e=this;this.editor.form({title:(0,a.pgettext)("block:scale","Compare mode"),controls:[new a.Forms.Radiobutton([{label:(0,a.pgettext)("block:scale","Score is equal to"),value:"equal"},{label:(0,a.pgettext)("block:scale","Score is not equal to"),value:"not-equal"},{label:(0,a.pgettext)("block:scale","Score is lower than"),value:"below"},{label:(0,a.pgettext)("block:scale","Score is higher than"),value:"above"},{label:(0,a.pgettext)("block:scale","Score is between"),value:"between"},{label:(0,a.pgettext)("block:scale","Score is not between"),value:"not-between"},{label:(0,a.pgettext)("block:scale","Score is calculated"),value:"defined"},{label:(0,a.pgettext)("block:scale","Score is not calculated"),value:"undefined"}],a.Forms.Radiobutton.bind(this,"mode","equal")).on((function(e){switch(o.visible("defined"!==e.value&&"undefined"!==e.value),i.visible("between"===e.value||"not-between"===e.value),e.value){case"equal":o.title=(0,a.pgettext)("block:scale","If score equals");break;case"not-equal":o.title=(0,a.pgettext)("block:scale","If score not equals");break;case"below":o.title=(0,a.pgettext)("block:scale","If score is lower than");break;case"above":o.title=(0,a.pgettext)("block:scale","If score is higher than");break;case"between":o.title=(0,a.pgettext)("block:scale","If score is between");break;case"not-between":o.title=(0,a.pgettext)("block:scale","If score is not between")}}))]});var t=function(t,o,i){var n,l=e[t],r=e.slot,c=new a.Forms.Numeric((0,a.isNumberFinite)(l)?l:0).label((0,a.pgettext)("block:scale","Use fixed number")).precision((null==r?void 0:r.precision)||0).digits((null==r?void 0:r.digits)||0).decimalSign((null==r?void 0:r.decimal)||"").thousands(!!(null==r?void 0:r.separator),(null==r?void 0:r.separator)||"").prefix((null==r?void 0:r.prefix)||"").prefixPlural((null==r?void 0:r.prefixPlural)||void 0).suffix((null==r?void 0:r.suffix)||"").suffixPlural((null==r?void 0:r.suffixPlural)||void 0).autoFocus("value"===t).escape(e.editor.close).enter((function(){return("between"!==e.mode&&"not-between"!==e.mode||"to"===t)&&e.editor.close()})).on((function(o){o.isFormVisible&&o.isObservable&&(e[t]=o.value)})),u=(0,a.populateVariables)(e,(function(e){return e instanceof a.Slots.Number||e instanceof a.Slots.Numeric}),(0,a.isString)(l)?l:void 0,!0,null===(n=e.slot)||void 0===n?void 0:n.id),s=new a.Forms.Dropdown(u,(0,a.isString)(l)?l:"").label((0,a.pgettext)("block:scale","Use value of")).width("full").on((function(o){o.isFormVisible&&o.isObservable&&(e[t]=o.value||"")}));return e.editor.form({title:o,controls:[new a.Forms.Radiobutton([{label:(0,a.pgettext)("block:scale","Number"),value:"number"},{label:(0,a.pgettext)("block:scale","Value"),value:"variable",disabled:0===u.length}],(0,a.isString)(l)?"variable":"number").on((function(e){c.visible("number"===e.value),s.visible("variable"===e.value),c.isObservable&&c.focus()})),c,s]}).visible(i)},o=t("value",(0,a.pgettext)("block:scale","If score equals"),"defined"!==this.mode&&"undefined"!==this.mode),i=t("to",(0,a.pgettext)("block:scale","And"),"between"===this.mode||"not-between"===this.mode)},l([a.definition,(0,a.affects)("#name")],t.prototype,"mode",void 0),l([a.definition,(0,a.affects)("#name")],t.prototype,"value",void 0),l([a.definition,(0,a.affects)("#name")],t.prototype,"to",void 0),l([a.editor],t.prototype,"defineEditor",null),l([(0,a.tripetto)({type:"condition",legacyBlock:!0,context:"@tripetto/block-scale",identifier:"".concat("@tripetto/block-scale",":score"),version:"4.0.3",icon:r.default,get label(){return(0,a.pgettext)("block:scale","Verify score")}})],t)}(a.ConditionBlock);t.ScoreCondition=c},110:function(e,t,o){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=this&&this.__assign||function(){return l=Object.assign||function(e){for(var t,o=1,i=arguments.length;o<i;o++)for(var n in t=arguments[o])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},l.apply(this,arguments)},a=this&&this.__decorate||function(e,t,o,i){var n,l=arguments.length,a=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(l<3?n(a):l>3?n(t,o,a):n(t,o))||a);return l>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.Scale=void 0;var r=o(954),c=o(422),u=o(703),s=o(870),d=o(868),p=o(287),b=o(617),g=o(718),f=o(939),M=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mode="numeric",t.options=r.Collection.of(c.ScaleOption,t),t}return n(t,e),Object.defineProperty(t.prototype,"useOptions",{get:function(){return"options"===this.mode},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"label",{get:function(){if("numeric"===this.mode){var e=r.Num.range(r.Num.min((0,r.castToNumber)(this.from,d.MIN_DEFAULT),(0,r.castToNumber)(this.to,d.MAX_DEFAULT)),d.MIN,d.MAX),t=r.Num.range(r.Num.max((0,r.castToNumber)(this.from,d.MIN_DEFAULT),(0,r.castToNumber)(this.to,d.MAX_DEFAULT)),d.MIN,d.MAX);return"".concat(this.type.label," (").concat(r.Num.format(e),"-").concat(r.Num.format(t),")")}return(0,r.npgettext)("block:scale","%2 (%1 option)","%2 (%1 options)",this.options.count,this.type.label)},enumerable:!1,configurable:!0}),t.prototype.defineSlots=function(){this.scaleSlot=this.slots.static(l(l({type:"numeric"===this.mode?r.Slots.Number:r.Slots.String,reference:"scale",label:(0,r.pgettext)("block:scale","Scale")},this.scaleSlot&&{required:this.scaleSlot.required,alias:this.scaleSlot.alias,exportable:this.scaleSlot.exportable}),{exchange:["required","alias","exportable"]}))},t.prototype.defineEditor=function(){var e=this;if((0,r.isNumberFinite)(this.from)&&(0,r.isNumberFinite)(this.to)&&this.to<this.from){var t=this.from;this.from=this.to,this.to=t}var o=new r.Forms.Text("singleline",r.Forms.Text.bind(this,"labelLeft",void 0)).placeholder((0,r.pgettext)("block:scale","Left")).action("@",(0,r.insertVariable)(this)),i=new r.Forms.Text("singleline",r.Forms.Text.bind(this,"labelCenter",void 0)).placeholder((0,r.pgettext)("block:scale","Center")).action("@",(0,r.insertVariable)(this)),n=new r.Forms.Text("singleline",r.Forms.Text.bind(this,"labelRight",void 0)).placeholder((0,r.pgettext)("block:scale","Right")).action("@",(0,r.insertVariable)(this)),l=function(){var t="options"===e.mode?(0,r.filter)(e.options.all,(function(e){return!!e.name})).length:Math.abs((0,r.castToNumber)(e.from,d.MAX_DEFAULT)-(0,r.castToNumber)(e.to,d.MIN_DEFAULT))+1;o.disabled(0===t),i.disabled(t<3),n.disabled(t<2)};this.editor.groups.general(),this.editor.name(),this.editor.description(),this.editor.explanation(),this.editor.groups.settings(),this.editor.option({name:(0,r.pgettext)("block:scale","Mode"),form:{title:(0,r.pgettext)("block:scale","Scale mode"),controls:[new r.Forms.Radiobutton([{label:(0,r.pgettext)("block:scale","Numeric scale"),value:"numeric"},{label:(0,r.pgettext)("block:scale","Text scale"),value:"options"}],r.Forms.Radiobutton.bind(this,"mode","numeric")).on((function(e){a.disabled("options"===e.value),a.visible("numeric"===e.value),c.disabled("numeric"===e.value),c.visible("options"===e.value),l()}))]},locked:!0});var a=this.editor.option({name:(0,r.pgettext)("block:scale","Scale range"),form:{title:(0,r.pgettext)("block:scale","Scale range"),controls:[new r.Forms.Numeric(r.Forms.Numeric.bind(this,"from",void 0,d.MIN_DEFAULT)).label((0,r.pgettext)("block:scale","From")).min(d.MIN).max(d.MAX).on((function(){return l()})),new r.Forms.Numeric(r.Forms.Numeric.bind(this,"to",void 0,d.MAX_DEFAULT)).label((0,r.pgettext)("block:scale","To")).min(d.MIN).max(d.MAX).on((function(){return l()})),new r.Forms.Numeric(r.Forms.Numeric.bind(this,"stepSize",void 0,1)).label((0,r.pgettext)("block:scale","Step size")).min(1).max(d.MAX).on((function(){return l()}))]},activated:!0,locked:!0,disabled:"options"===this.mode,visible:"numeric"===this.mode}),c=this.editor.option({name:(0,r.pgettext)("block:scale","Scale options"),collection:{collection:this.options,title:(0,r.pgettext)("block:scale","Scale options"),placeholder:(0,r.pgettext)("block:scale","Unnamed option"),showAliases:!0,allowVariables:!0,allowImport:!0,allowExport:!0,allowDedupe:!0,autoOpen:!0,sorting:"manual",onAdd:function(){return l()},onDelete:function(){return l()},onRename:function(){return l()},emptyMessage:(0,r.pgettext)("block:scale","Click the + button to add an option...")},activated:!0,locked:!0,disabled:"numeric"===this.mode,visible:"options"===this.mode});this.editor.option({name:(0,r.pgettext)("block:scale","Labels"),form:{title:(0,r.pgettext)("block:scale","Labels"),controls:[o,i,n]},activated:(0,r.isString)(this.labelLeft)||(0,r.isString)(this.labelCenter)||(0,r.isString)(this.labelRight)}),this.editor.option({name:(0,r.pgettext)("block:scale","Width"),form:{title:(0,r.pgettext)("block:scale","Width"),controls:[new r.Forms.Checkbox((0,r.pgettext)("block:scale","Justify the scale across the available width"),r.Forms.Checkbox.bind(this,"justify",void 0,!0))]},activated:(0,r.isBoolean)(this.justify)}),this.editor.groups.options(),this.editor.required((function(){return e.scaleSlot})),this.editor.visibility(),this.editor.scores({target:this,collection:c,description:(0,r.pgettext)("block:scale","Generates a score based on the selected option. Open the settings panel for each option to set the score.")}),this.editor.alias((function(){return e.scaleSlot})),this.editor.exportable((function(){return e.scaleSlot}))},t.prototype.defineConditions=function(){var e=this;"options"===this.mode?(this.options.each((function(t){t.name&&e.conditions.template({condition:u.ScaleMatchCondition,label:t.name,burst:"branch",props:{slot:e.scaleSlot,option:t}})})),this.conditions.template({condition:u.ScaleMatchCondition,label:(0,r.pgettext)("block:scale","Unanswered"),icon:g.default,separator:!0,props:{slot:this.scaleSlot}})):(0,r.each)([{mode:"equal",label:(0,r.pgettext)("block:scale","Answer is equal to")},{mode:"not-equal",label:(0,r.pgettext)("block:scale","Answer is not equal to")},{mode:"below",label:(0,r.pgettext)("block:scale","Answer is lower than")},{mode:"above",label:(0,r.pgettext)("block:scale","Answer is higher than")},{mode:"between",label:(0,r.pgettext)("block:scale","Answer is between")},{mode:"not-between",label:(0,r.pgettext)("block:scale","Answer is not between")},{mode:"defined",label:(0,r.pgettext)("block:scale","Answer is not empty")},{mode:"undefined",label:(0,r.pgettext)("block:scale","Answer is empty")}],(function(t){e.conditions.template({condition:s.ScaleCompareCondition,label:t.label,autoOpen:"defined"!==t.mode&&"undefined"!==t.mode,props:{slot:e.scaleSlot,mode:t.mode,value:0,to:"between"===t.mode||"not-between"===t.mode?0:void 0}})}));var t=this.slots.select("score","feature");if(t&&t.label){var o=this.conditions.group(t.label,f.default,!1,"options"!==this.mode);(0,r.each)([{mode:"equal",label:(0,r.pgettext)("block:scale","Score is equal to")},{mode:"not-equal",label:(0,r.pgettext)("block:scale","Score is not equal to")},{mode:"below",label:(0,r.pgettext)("block:scale","Score is lower than")},{mode:"above",label:(0,r.pgettext)("block:scale","Score is higher than")},{mode:"between",label:(0,r.pgettext)("block:scale","Score is between")},{mode:"not-between",label:(0,r.pgettext)("block:scale","Score is not between")},{mode:"defined",label:(0,r.pgettext)("block:scale","Score is calculated")},{mode:"undefined",label:(0,r.pgettext)("block:scale","Score is not calculated")}],(function(e){o.template({condition:p.ScoreCondition,label:e.label,autoOpen:"defined"!==e.mode&&"undefined"!==e.mode,props:{slot:t,mode:e.mode,value:0,to:"between"===e.mode||"not-between"===e.mode?0:void 0}})}))}},a([r.definition,(0,r.affects)("#label"),(0,r.affects)("#slots")],t.prototype,"mode",void 0),a([(0,r.definition)("items"),(0,r.affects)("#label"),(0,r.supplies)("#slot","scale",!0,"useOptions")],t.prototype,"options",void 0),a([(0,r.definition)("number","optional"),(0,r.affects)("#label")],t.prototype,"from",void 0),a([(0,r.definition)("number","optional"),(0,r.affects)("#label")],t.prototype,"to",void 0),a([(0,r.definition)("number","optional")],t.prototype,"stepSize",void 0),a([(0,r.definition)("string","optional")],t.prototype,"labelLeft",void 0),a([(0,r.definition)("string","optional")],t.prototype,"labelCenter",void 0),a([(0,r.definition)("string","optional")],t.prototype,"labelRight",void 0),a([(0,r.definition)("boolean","optional")],t.prototype,"justify",void 0),a([r.slots],t.prototype,"defineSlots",null),a([r.editor],t.prototype,"defineEditor",null),a([r.conditions],t.prototype,"defineConditions",null),a([(0,r.tripetto)({type:"node",legacyBlock:!0,identifier:"@tripetto/block-scale",version:"4.0.3",icon:b.default,get label(){return(0,r.pgettext)("block:scale","Scale")}})],t)}(r.NodeBlock);t.Scale=M},422:function(e,t,o){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=this&&this.__decorate||function(e,t,o,i){var n,l=arguments.length,a=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(l<3?n(a):l>3?n(t,o,a):n(t,o))||a);return l>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.ScaleOption=void 0;var a=o(954),r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.name="",t}return n(t,e),t.prototype.defineEditor=function(){this.editor.option({name:(0,a.pgettext)("block:scale","Name"),form:{title:(0,a.pgettext)("block:scale","Option name"),controls:[new a.Forms.Text("singleline",a.Forms.Text.bind(this,"name","")).action("@",(0,a.insertVariable)(this)).autoFocus().autoSelect().enter(this.editor.close).escape(this.editor.close)]},locked:!0}),this.editor.group((0,a.pgettext)("block:scale","Options")),this.editor.option({name:(0,a.pgettext)("block:scale","Identifier"),form:{title:(0,a.pgettext)("block:scale","Option identifier"),controls:[new a.Forms.Text("singleline",a.Forms.Text.bind(this,"value",void 0,"")),new a.Forms.Static((0,a.pgettext)("block:scale","If an option identifier is set, this identifier will be used as selected option value instead of the option label."))]},activated:(0,a.isString)(this.value)});var e=this.ref.slots.select("score","feature");this.editor.option({name:(0,a.pgettext)("block:scale","Score"),form:{title:(0,a.pgettext)("block:scale","Score"),controls:[new a.Forms.Numeric(a.Forms.Numeric.bind(this,"score",void 0)).precision((null==e?void 0:e.precision)||0).digits((null==e?void 0:e.digits)||0).decimalSign((null==e?void 0:e.decimal)||"").thousands(!!(null==e?void 0:e.separator),(null==e?void 0:e.separator)||"").prefix((null==e?void 0:e.prefix)||"").prefixPlural((null==e?void 0:e.prefixPlural)||void 0).suffix((null==e?void 0:e.suffix)||"").suffixPlural((null==e?void 0:e.suffixPlural)||void 0)]},activated:!0,locked:!!e,disabled:!e})},l([(0,a.definition)("string"),a.name],t.prototype,"name",void 0),l([(0,a.definition)("string","optional"),a.alias],t.prototype,"value",void 0),l([(0,a.definition)("number","optional"),a.score],t.prototype,"score",void 0),l([a.editor],t.prototype,"defineEditor",null),t}(a.Collection.Item);t.ScaleOption=r},868:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MAX_DEFAULT=t.MAX=t.MIN_DEFAULT=t.MIN=void 0,t.MIN=-25,t.MIN_DEFAULT=0,t.MAX=25,t.MAX_DEFAULT=10},617:function(e,t,o){o.r(t),t.default="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCI+PHBhdGggZD0iTTE3LjUgN2gtMTZDLjY3MyA3IDAgNy42NzMgMCA4LjV2M2MwIC44MjcuNjczIDEuNSAxLjUgMS41aDE2Yy44MjcgMCAxLjUtLjY3MyAxLjUtMS41di0zYzAtLjgyNy0uNjczLTEuNS0xLjUtMS41em0uNSA0LjVhLjUuNSAwIDAgMS0uNS41SDE2di0xLjVhLjUuNSAwIDAgMC0xIDBWMTJoLTJWOS41YS41LjUgMCAwIDAtMSAwVjEyaC0ydi0xLjVhLjUuNSAwIDAgMC0xIDBWMTJIN1Y5LjVhLjUuNSAwIDAgMC0xIDBWMTJINHYtMS41YS41LjUgMCAwIDAtMSAwVjEySDEuNWEuNS41IDAgMCAxLS41LS41di0zYS41LjUgMCAwIDEgLjUtLjVoMTZhLjUuNSAwIDAgMSAuNS41djN6IiBjbGFzcz0idHJpcGV0dG8tZmlsbCIvPjwvc3ZnPg=="},939:function(e,t,o){o.r(t),t.default="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCI+PHBhdGggZD0iTTE4LjUgOEgxM1YzLjVhLjUuNSAwIDAgMC0uNS0uNWgtNmEuNS41IDAgMCAwLS41LjVWNkguNWEuNS41IDAgMCAwLS41LjV2MTBhLjUuNSAwIDAgMCAuNS41aDE4YS41LjUgMCAwIDAgLjUtLjV2LThhLjUuNSAwIDAgMC0uNS0uNXpNNyA0aDV2MTJIN1Y0ek0xIDdoNXY5SDFWN3ptMTcgOWgtNVY5aDV2N3oiIGNsYXNzPSJ0cmlwZXR0by1maWxsIi8+PHBhdGggZD0iTTkuNSAxMGEuNS41IDAgMCAxLS41LS41di00YS41LjUgMCAwIDEgMSAwdjRhLjUuNSAwIDAgMS0uNS41em0tNSAzaC0yYS41LjUgMCAwIDEtLjUtLjV2LTJhLjUuNSAwIDAgMSAuNS0uNUg0VjlIMi41YS41LjUgMCAwIDEgMC0xaDJhLjUuNSAwIDAgMSAuNS41djJhLjUuNSAwIDAgMS0uNS41SDN2MWgxLjVhLjUuNSAwIDAgMSAwIDF6bTEyLTNoLTJhLjUuNSAwIDAgMCAwIDFIMTZ2MWgtMS41YS41LjUgMCAwIDAgMCAxSDE2djFoLTEuNWEuNS41IDAgMCAwIDAgMWgyYS41LjUgMCAwIDAgLjUtLjV2LTRhLjUuNSAwIDAgMC0uNS0uNXoiIGNsYXNzPSJ0cmlwZXR0by1maWxsIi8+PC9zdmc+"},718:function(e,t,o){o.r(t),t.default="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCI+PHBhdGggZD0ibTEwLjcwNyAxMC41IDUuNjQ2LTUuNjQ2YS41LjUgMCAwIDAtLjcwNy0uNzA3TDEwIDkuNzkzIDQuMzU0IDQuMTQ3YS41LjUgMCAwIDAtLjcwNy43MDdMOS4yOTMgMTAuNWwtNS42NDYgNS42NDZhLjUuNSAwIDAgMCAuNzA4LjcwN2w1LjY0Ni01LjY0NiA1LjY0NiA1LjY0NmEuNDk4LjQ5OCAwIDAgMCAuNzA4IDAgLjUuNSAwIDAgMCAwLS43MDdMMTAuNzA5IDEwLjV6IiBjbGFzcz0idHJpcGV0dG8tZmlsbCIvPjwvc3ZnPg=="},954:function(e){e.exports=o(975)}},i={};function n(e){var o=i[e];if(void 0!==o)return o.exports;var l=i[e]={exports:{}};return t[e].call(l.exports,l,l.exports,n),l.exports}n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var l=n(110);e.exports=l}()},210:function(e,t,o){!function(){"use strict";var t={199:function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0}),t.getIcon=void 0;var i=o(954),n=o(617),l=o(982),a=o(257),r=o(953),c=o(701),u=o(392),s=o(939);t.getIcon=function(e){if(e instanceof i.Slots.Number||e instanceof i.Slots.Numeric)switch(e.reference){case"calculator":return u.default;case"score":return s.default;default:return r.default}return e instanceof i.Slots.Boolean?l.default:e instanceof i.Slots.Date?a.default:e instanceof i.Slots.String||e instanceof i.Slots.Text?c.default:n.default}},110:function(e,t,o){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=this&&this.__decorate||function(e,t,o,i){var n,l=arguments.length,a=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(l<3?n(a):l>3?n(t,o,a):n(t,o))||a);return l>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.Setter=void 0;var a=o(954),r=o(585),c=o(238),u=o(617),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.values=a.Collection.of(r.Value,t),t}return n(t,e),Object.defineProperty(t.prototype,"isAdvanced",{get:function(){return this.purpose?this.purpose.value||!1:(0,a.isBoolean)(this.advanced)?this.advanced:this.verifyPurpose()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"label",{get:function(){return(0,a.npgettext)("block:setter","%2 %1 value","%2 %1 values",this.values.count,this.isAdvanced?(0,a.pgettext)("block:setter","Set"):(0,a.pgettext)("block:setter","Prefill"))},enumerable:!1,configurable:!0}),t.prototype.generateName=function(){!1!==this.node.nameVisible&&(this.node.name=a.Str.iterateToString(this.values.all," ",(function(e){return"@"+e.variable})))},t.prototype.verifyPurpose=function(){var e=this,t=!!(0,a.findFirst)(this.values.all,(function(t){if((0,a.isBoolean)(t.lock)||(0,a.isFilledString)(t.mode)||void 0===t.value)return!0;var o=t.variable&&(0,a.lookupVariable)(e,t.variable);return o&&t.value===(o.slot instanceof a.Slots.Boolean&&0)||!1}));return this.purpose&&this.purpose.buttonDisabled(!1)!==t&&this.purpose.buttonDisabled(!1,t),this.advanced=this.values.all.length>0||(0,a.isBoolean)(this.advanced)?t:void 0,t},t.prototype.defineEditor=function(){var e=this,t=this.isAdvanced;this.editor.form({title:(0,a.pgettext)("block:setter","Explanation"),controls:[new a.Forms.Static((0,a.pgettext)("block:setter","With this block you can change, lock or unlock values of (block) variables.")).markdown()]}),this.purpose=new a.Forms.Radiobutton([{label:(0,a.pgettext)("block:setter","Prefilling"),description:(0,a.pgettext)("block:setter","Prefill blocks with initial values."),value:!1,disabled:t},{label:(0,a.pgettext)("block:setter","Advanced"),description:(0,a.pgettext)("block:setter","Use options like value locking, write modes and more."),value:!0}],t).on((function(){var i;t!==(null===(i=e.purpose)||void 0===i?void 0:i.value)&&(t=!t,e.rerender(),o.refresh())})),this.editor.option({name:(0,a.pgettext)("block:setter","Purpose"),form:{title:(0,a.pgettext)("block:setter","Purpose"),controls:[this.purpose]},activated:!0,locked:!0});var o=this.editor.option({name:(0,a.pgettext)("block:setter","Values"),collection:{collection:this.values,title:(0,a.pgettext)("block:setter","Values"),icon:!0,allowAutoSorting:!1,allowCleanup:(0,a.pgettext)("block:setter","Remove invalid variables"),placeholder:(0,a.pgettext)("block:setter","Invalid variable"),allowVariables:!0,allowFormatting:!0,showAliases:!0,markdown:a.Markdown.MarkdownFeatures.Formatting|a.Markdown.MarkdownFeatures.InlineCode,indicator:function(e){return(0,a.isBoolean)(e.lock)&&(e.lock?(0,a.pgettext)("block:setter","Lock"):(0,a.pgettext)("block:setter","Unlock")).toUpperCase()||void 0},menu:function(){return(0,c.variablesMenu)(e,e.values,t)},onResize:function(){0===e.values.count&&e.verifyPurpose(),e.generateName()},onReposition:function(){return e.generateName()},emptyMessage:{message:"**"+(0,a.pgettext)("block:setter","Here you can specify the values you want to set.")+"**\n\n"+(0,a.pgettext)("block:setter","Click the + button to select a block or variable."),height:96}},activated:!0,locked:!0}).card;this.editor.option({name:(0,a.pgettext)("block:setter","Description"),form:{title:(0,a.pgettext)("block:setter","Description"),controls:[new a.Forms.Text("singleline",!this.node.nameVisible&&this.node.name||"").on((function(t){e.node.nameVisible=!t.isFeatureEnabled,e.node.nameVisible?e.generateName():e.node.name=t.value}))]},activated:!1===this.node.nameVisible}),this.editor.groups.options(),this.editor.visibility()},l([a.definition,(0,a.affects)("#name")],t.prototype,"values",void 0),l([a.editor],t.prototype,"defineEditor",null),l([(0,a.tripetto)({type:"node",legacyBlock:!0,identifier:"@tripetto/block-setter",version:"3.0.3",kind:"headless",icon:u.default,get label(){return(0,a.pgettext)("block:setter","Set value")}})],t)}(a.NodeBlock);t.Setter=s},238:function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0}),t.variablesMenu=void 0;var i=o(954),n=o(199);t.variablesMenu=function(e,t,o){var l,a=[],r=function(e){if((null==e?void 0:e.id)!==l){var t=null==e?void 0:e.name;(a.length>0||t)&&a.push(new i.Components.MenuSeparator),t&&a.push(new i.Components.MenuLabel(t)),l=null==e?void 0:e.id}},c=function(e){return!(o||!(0,i.findFirst)(t.all,(function(t){return t.variable===e})))};return(0,i.each)((0,i.populateSlots)(e,{pipes:"exclude"}),(function(e){if(e.slots){var o=[];(0,i.each)(e.slots,(function(e){"slot"===e.type&&e.id&&e.slot&&!e.slot.protected&&o.push(new i.Components.MenuItemWithImage((0,n.getIcon)(e.slot),e.label,(function(){return t.append().attachVariable(e.id)}),c(e.id)))})),o.length>0&&(r(e.block.node.section),a.push(new i.Components.MenuSubmenuWithImage(e.icon||e.block.type.icon,e.label,o)))}else e.id&&e.slot&&!e.slot.protected&&(r(e.block.node.section),a.push(new i.Components.MenuItemWithImage(e.icon||e.block.type.icon,e.label,(function(){return t.append().attachVariable(e.id)}),c(e.id))))})),a}},755:function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0}),(0,o(954).mountNamespace)("@tripetto/block-setter")},582:function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0}),(0,o(954).unmountNamespace)()},585:function(e,t,o){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=this&&this.__decorate||function(e,t,o,i){var n,l=arguments.length,a=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(l<3?n(a):l>3?n(t,o,a):n(t,o))||a);return l>3&&a&&Object.defineProperty(t,o,a),a},a=this&&this.__spreadArray||function(e,t,o){if(o||2===arguments.length)for(var i,n=0,l=t.length;n<l;n++)!i&&n in t||(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.Value=void 0;var r=o(954),c=o(110),u=o(199);o(755);var s=o(659);o(582);var d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.startBlank=!0,t.operations=r.Collection.of(s.Operation,t,!0),t}return n(t,e),Object.defineProperty(t.prototype,"setter",{get:function(){return this.ref},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currentVariable",{get:function(){return this.variable&&(0,r.lookupVariable)(this.setter,this.variable)||void 0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"block",{get:function(){return this.setter},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"icon",{get:function(){var e;return(0,u.getIcon)((null===(e=this.currentVariable)||void 0===e?void 0:e.slot)||void 0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){var e,t,o,i,n=this.currentVariable;return n?(n.slot instanceof r.Slots.String||n.slot instanceof r.Slots.Text)&&(0,r.isString)(this.value)?"@".concat(n.key," ").concat("concatenate"===this.mode?"+ ".concat((this.separator||"").replace("\n\n","¶").replace("\n","↵")):"= ").concat(!this.querystring&&(0,r.isVariable)(this.value)?(null===(e=(0,r.lookupVariable)(this.setter,this.value))||void 0===e?void 0:e.label)&&"@".concat(this.value)||"":"".concat(this.querystring?"`?":"").concat((0,r.makeMarkdownSafe)(r.Str.replace(this.value,"\n","↵"))||(this.querystring?"...":"\\_\\_")).concat(this.querystring?"=...`":"")):(n.slot instanceof r.Slots.Number||n.slot instanceof r.Slots.Numeric)&&(!0===this.value||(0,r.isNumberFinite)(this.value)||(0,r.isString)(this.value))?"@".concat(n.key," ").concat("+"===this.mode||"-"===this.mode?this.mode:"*"===this.mode?"×":"/"===this.mode?"÷":"="," ").concat(this.querystring?"`?".concat((0,r.isFilledString)(this.value)&&(0,r.makeMarkdownSafe)(this.value)||"...","=...`"):!0===this.value?"`"+(0,r.pgettext)("block:setter","Calculation outcome").toUpperCase()+"`":(0,r.isFilledString)(this.value)?(null===(t=(0,r.lookupVariable)(this.setter,this.value))||void 0===t?void 0:t.label)&&"@".concat(this.value)||"":"**".concat(n.slot.toString(this.value,(function(e,t){return r.L10n.locale.number(e,t,!1)})),"**")):n.slot instanceof r.Slots.Boolean&&((0,r.isBoolean)(this.value)||(0,r.isString)(this.value))?"@".concat(n.key," ").concat("OR"===this.mode||"NOR"===this.mode||"AND"===this.mode||"NAND"===this.mode||"XOR"===this.mode||"XNOR"===this.mode?this.mode:"="," ").concat(this.querystring?"`?".concat((0,r.isFilledString)(this.value)&&(0,r.makeMarkdownSafe)(this.value)||"...","=...`"):(0,r.isFilledString)(this.value)?(null===(o=(0,r.lookupVariable)(this.setter,this.value))||void 0===o?void 0:o.label)&&"@".concat(this.value)||"":"**".concat((0,r.makeMarkdownSafe)(n.slot.toString(this.value)),"**")):n.slot instanceof r.Slots.Date&&(!0===this.value||(0,r.isNumberFinite)(this.value)||(0,r.isString)(this.value))?"@".concat(n.key," = ").concat(this.querystring?"`?".concat((0,r.isFilledString)(this.value)&&(0,r.makeMarkdownSafe)(this.value)||"...","=...`"):!0===this.value?"`"+(0,r.pgettext)("block:setter","Now").toUpperCase()+"`":(0,r.isFilledString)(this.value)?(null===(i=(0,r.lookupVariable)(this.setter,this.value))||void 0===i?void 0:i.label)&&"@".concat(this.value)||"":"**".concat(n.slot.supportsTime?r.L10n.locale.dateTimeShort(n.slot.toValue(this.value),!0):r.L10n.locale.dateShort(n.slot.toValue(this.value),!0),"**")):"@"+n.key:""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){var e;return(null===(e=this.currentVariable)||void 0===e?void 0:e.label)||(0,r.pgettext)("block:setter","Invalid variable")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"overwriteLabel",{get:function(){var e=this.currentVariable;return void 0===this.value&&(0,r.pgettext)("block:setter","Unchanged").toUpperCase()||this.value===((null==e?void 0:e.slot)instanceof r.Slots.Boolean&&0)&&(0,r.pgettext)("block:setter","Clear").toUpperCase()||void 0===this.mode&&this.setter.isAdvanced&&(0,r.pgettext)("block:setter","Prefill").toUpperCase()||void 0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){var e;return(null===(e=this.currentVariable)||void 0===e?void 0:e.slot)instanceof r.Slots.Date?475:400},enumerable:!1,configurable:!0}),t.prototype.attachVariable=function(e){var t,o,i=this,n=this.currentVariable;return e&&((0,r.set)(this,"variable",e),(null==(n=this.currentVariable)?void 0:n.slot)instanceof r.Slots.String||(null==n?void 0:n.slot)instanceof r.Slots.Text?this.value="":(null==n?void 0:n.slot)instanceof r.Slots.Number||(null==n?void 0:n.slot)instanceof r.Slots.Numeric?this.value=0:((null==n?void 0:n.slot)instanceof r.Slots.Boolean||(null==n?void 0:n.slot)instanceof r.Slots.Date)&&(this.value=!0),this.setter.isAdvanced&&(this.mode="overwrite"),this.open()),null===(t=null==n?void 0:n.node)||void 0===t||t.hook("OnBlockUnassign","framed",(function(){return i.close()}),this),null===(o=null==n?void 0:n.node)||void 0===o||o.hook("OnItemPop","framed",(function(){return i.delete()}),this),this},t.prototype.detachVariable=function(){var e,t;null===(t=null===(e=this.currentVariable)||void 0===e?void 0:e.node)||void 0===t||t.unhookContext(this)},t.prototype.defineEditor=function(){var e,t=this,o=this.currentVariable;if(o&&o.block instanceof r.NodeBlock){var i=void 0,n=void 0,l=r.Collection.find(o);if(l)l.sole?n=(0,r.map)(l.collection.all,(function(e){return{value:e.id,label:e.labelWithoutMarkdown}})):i=(0,r.map)(l.collection.all,(function(e){return{id:e.id,name:e.labelWithoutMarkdown}}));else{var u=(0,r.getMetadata)(o.block,"calculator");if(u){var d=u[(null===(e=o.slot)||void 0===e?void 0:e.reference)||"*"]||u["*"];if(d&&d.scores){var p=(0,r.filter)(d.scores,(function(e){return!(!(0,r.isFilledString)(e.reference)||!e.label)}));!1===d.allowDefault?n=(0,r.map)(p,(function(e){return{value:e.reference,label:e.label}})):i=(0,r.map)(p,(function(e){return{id:e.reference,name:e.label}}))}}}var b=(0,r.isFilledString)(this.value)&&(0,r.isVariable)(this.value)?this.value:void 0,g=(0,r.populateVariables)(this.setter,(function(e,t){return o.slot instanceof r.Slots.String||o.slot instanceof r.Slots.Text||(o.slot instanceof r.Slots.Number||o.slot instanceof r.Slots.Numeric?e instanceof r.Slots.Number||e instanceof r.Slots.Numeric:o.slot instanceof r.Slots.Boolean?!t&&e instanceof r.Slots.Boolean:o.slot instanceof r.Slots.Date&&e instanceof r.Slots.Date)}),b,!1,o.key),f=o.slot instanceof r.Slots.String||o.slot instanceof r.Slots.Text?[n?new r.Forms.Dropdown(n,b||this.querystring||!(0,r.isFilledString)(this.reference)?"":this.reference).on((function(e){e.isObservable&&(t.value=e.optionLabel(e.value)||"",t.reference=e.value||void 0)})).label((0,r.pgettext)("block:setter","Use fixed value")).disabled(0===n.length).autoFocus():new r.Forms.Text(i?"singleline":"multiline",b||this.querystring||!(0,r.isFilledString)(this.value)?"":this.value).on((function(e){var o;e.isObservable&&(t.value=e.value,t.reference=(null===(o=e.suggestion)||void 0===o?void 0:o.id)||void 0)})).label((0,r.pgettext)("block:setter","Use fixed text")).suggestions(i).action("@",(0,r.insertVariable)(this.setter,"validated")).autoFocus().escape(this.editor.close)]:o.slot instanceof r.Slots.Number||o.slot instanceof r.Slots.Numeric?[new r.Forms.Numeric((0,r.isNumberFinite)(this.value)?this.value:0).label((0,r.pgettext)("block:setter","Use fixed number")).precision(o.slot instanceof r.Slots.Numeric&&o.slot.precision||0).digits(o.slot instanceof r.Slots.Numeric&&o.slot.digits||0).decimalSign(o.slot instanceof r.Slots.Numeric&&o.slot.decimal||"").thousands(!!(o.slot instanceof r.Slots.Numeric&&o.slot.separator),o.slot instanceof r.Slots.Numeric&&o.slot.separator||"").prefix(o.slot instanceof r.Slots.Numeric&&o.slot.prefix||"").prefixPlural(o.slot instanceof r.Slots.Numeric&&o.slot.prefixPlural||void 0).suffix(o.slot instanceof r.Slots.Numeric&&o.slot.suffix||"").suffixPlural(o.slot instanceof r.Slots.Numeric&&o.slot.suffixPlural||void 0).min(o.slot instanceof r.Slots.Numeric&&o.slot.minimum||void 0).max(o.slot instanceof r.Slots.Numeric&&o.slot.maximum||void 0).autoFocus().escape(this.editor.close).enter(this.editor.close).on((function(e){e.isObservable&&(t.value=e.value)}))]:o.slot instanceof r.Slots.Date?[new r.Forms.DateTime((0,r.isNumberFinite)(this.value)?this.value:r.DateTime.UTCToday).label(o.slot.supportsTime?(0,r.pgettext)("block:setter","Use fixed date/time"):(0,r.pgettext)("block:setter","Use fixed date")).features(1|(o.slot.supportsTime?8:32)).years((new Date).getFullYear()-150,(new Date).getFullYear()+50).zone("UTC").width("full").required().on((function(e){e.isObservable&&(t.value=e.value)}))]:[],M=new r.Forms.Text("singleline",(0,r.isString)(this.separator)&&"\n"!==this.separator&&"\n\n"!==this.separator&&", "!==this.separator?this.separator:"").sanitize(!1).placeholder((0,r.pgettext)("block:setter","Type separator here...")).visible((0,r.isString)(this.separator)&&"\n"!==this.separator&&"\n\n"!==this.separator&&", "!==this.separator).on((function(e){e.isObservable&&(t.separator=e.value)})),h=new r.Forms.Group([new r.Forms.Dropdown([{value:void 0,label:(0,r.pgettext)("block:setter","Nothing")},{value:"\n",label:"↵ "+(0,r.pgettext)("block:setter","New line (single enter)"),disabled:!!i},{value:"\n\n",label:"¶ "+(0,r.pgettext)("block:setter","New paragraph (double enter)"),disabled:!!i},{value:", ",label:(0,r.pgettext)("block:setter","Comma + space"),disabled:!!i},{value:!0,label:(0,r.pgettext)("block:setter","Custom")}],"\n"===this.separator||"\n\n"===this.separator||", "===this.separator?this.separator:!!(0,r.isString)(this.separator)||void 0).label((0,r.pgettext)("block:setter","Separate concatenated values with")).on((function(e){e.isObservable&&e.value?(0,r.isString)(e.value)&&(t.separator=e.value):t.separator=void 0,M.visible(!0===e.value)})),M]).visible("concatenate"===this.mode),m=new r.Forms.Dropdown(g,b||"").label((0,r.pgettext)("block:setter","Use value of")).width("full").visible(!!b).disabled(0===g.length).on((function(e){e.isObservable&&(t.value=e.value||"",t.reference=void 0)})),v=new r.Forms.Text("singleline",this.querystring&&(0,r.isFilledString)(this.value)?this.value:"").on((function(e){e.isObservable&&(t.value=e.value,t.reference=void 0)})).label((0,r.pgettext)("block:setter","Query string parameter")).autoFocus().enter(this.editor.close).escape(this.editor.close),x=this.editor.form({controls:[new r.Forms.Notification((0,r.pgettext)("block:setter","This value will only be set when there is _no_ current value!"),"info").markdown()]}).visible(void 0===this.mode&&void 0!==this.value&&this.value!==(o.slot instanceof r.Slots.Boolean&&0));this.editor.form({title:(0,r.pgettext)("block:setter","Value"),controls:a(a([new r.Forms.Radiobutton(a(a(a(a([{label:"**"+(0,r.pgettext)("block:setter","Do not change")+"**",value:void 0,markdown:!0,visible:this.setter.isAdvanced}],o.slot instanceof r.Slots.String||o.slot instanceof r.Slots.Text?[{label:n?(0,r.pgettext)("block:setter","Fixed value"):(0,r.pgettext)("block:setter","Fixed text"),value:"value",disabled:n&&0===n.length}]:o.slot instanceof r.Slots.Number||o.slot instanceof r.Slots.Numeric?[{label:(0,r.pgettext)("block:setter","Fixed number"),value:"value"}]:o.slot instanceof r.Slots.Boolean?[{label:o.slot.labelForTrue||(0,r.pgettext)("block:setter","Set to %1","**True**"),value:!0,markdown:!o.slot.labelForTrue},{label:o.slot.labelForFalse||(0,r.pgettext)("block:setter","Set to %1","**False**"),value:!1,markdown:!o.slot.labelForFalse}]:o.slot instanceof r.Slots.Date?[{label:o.slot.supportsTime?(0,r.pgettext)("block:setter","Current date/time"):(0,r.pgettext)("block:setter","Current date"),value:"auto"},{label:o.slot.supportsTime?(0,r.pgettext)("block:setter","Fixed date/time"):(0,r.pgettext)("block:setter","Fixed date"),value:"value"}]:[],!0),[{label:(0,r.pgettext)("block:setter","From other variable"),value:"variable",disabled:0===g.length},{label:(0,r.pgettext)("block:setter","From query string"),value:"querystring"}],!1),o.slot instanceof r.Slots.Number||o.slot instanceof r.Slots.Numeric?[{label:(0,r.pgettext)("block:setter","Calculation"),value:"auto"}]:[],!0),[{label:(0,r.pgettext)("block:setter","Clear"),value:"clear",visible:this.setter.isAdvanced}],!1),this.querystring?"querystring":this.value===(o.slot instanceof r.Slots.Boolean&&0)?"clear":b?"variable":(o.slot instanceof r.Slots.Number||o.slot instanceof r.Slots.Numeric||o.slot instanceof r.Slots.Date)&&!0===this.value?"auto":!0===this.value||!1===this.value?this.value:(0,r.isDefined)(this.value)?"value":void 0).on((function(e){1===f.length&&f[0].visible("value"===e.value),m.visible("variable"===e.value),v.visible("querystring"===e.value),y.visible((o.slot instanceof r.Slots.Number||o.slot instanceof r.Slots.Numeric)&&"auto"===e.value),w.visible(t.setter.isAdvanced&&void 0!==e.value&&"clear"!==e.value),h.visible(w.isObservable&&"concatenate"===t.mode),!1===e.value||!0===e.value||void 0===e.value?(t.value=e.value,t.reference=void 0):"auto"===e.value?(t.value=!0,t.reference=void 0):"clear"===e.value&&(t.value=o.slot instanceof r.Slots.Boolean&&0,t.reference=void 0),t.querystring="querystring"===e.value||void 0,t.setter.verifyPurpose()})),h],f,!0),[m,v],!1)});var y=this.editor.collection((0,s.calculator)(this,void 0,(0,r.pgettext)("block:setter","Calculator"))).visible((o.slot instanceof r.Slots.Number||o.slot instanceof r.Slots.Numeric)&&!0===this.value),w=this.editor.form({title:(0,r.pgettext)("block:setter","Mode"),controls:[new r.Forms.Radiobutton(a(a(a(a([{label:"**"+(0,r.pgettext)("block:setter","Overwrite")+"**",description:(0,r.pgettext)("block:setter","Always overwrite the current value."),markdown:!0,value:"overwrite"}],!n&&(o.slot instanceof r.Slots.String||o.slot instanceof r.Slots.Text)?[{label:(0,r.pgettext)("block:setter","Concatenate"),description:(0,r.pgettext)("block:setter","Appends text to the current value."),value:"concatenate"}]:[],!0),o.slot instanceof r.Slots.Number||o.slot instanceof r.Slots.Numeric?[{label:(0,r.pgettext)("block:setter","Add")+" **+**",description:(0,r.pgettext)("block:setter","Add to the current value."),value:"+",markdown:!0},{label:(0,r.pgettext)("block:setter","Subtract")+" **-**",description:(0,r.pgettext)("block:setter","Subtract from the current value."),value:"-",markdown:!0},{label:(0,r.pgettext)("block:setter","Multiply")+" **×**",description:(0,r.pgettext)("block:setter","Multiply the current value with."),value:"*",markdown:!0},{label:(0,r.pgettext)("block:setter","Divide")+" **÷**",description:(0,r.pgettext)("block:setter","Divide the current value by."),value:"/",markdown:!0}]:[],!0),o.slot instanceof r.Slots.Boolean?[{label:"OR [?](https://en.wikipedia.org/wiki/OR_gate)",description:(0,r.pgettext)("block:setter","Set value and/or current value is true."),markdown:!0,value:"OR"},{label:"NOR [?](https://en.wikipedia.org/wiki/NOR_gate)",description:(0,r.pgettext)("block:setter","Set value and current value are both false."),markdown:!0,value:"NOR"},{label:"AND [?](https://en.wikipedia.org/wiki/AND_gate)",description:(0,r.pgettext)("block:setter","Set value and current value are both true."),markdown:!0,value:"AND"},{label:"NAND [?](https://en.wikipedia.org/wiki/NAND_gate)",description:(0,r.pgettext)("block:setter","Set value and current value are not both true."),markdown:!0,value:"NAND"},{label:"XOR [?](https://en.wikipedia.org/wiki/XOR_gate)",description:(0,r.pgettext)("block:setter","Set value is not equal to the current value."),markdown:!0,value:"XOR"},{label:"XNOR [?](https://en.wikipedia.org/wiki/XNOR_gate)",description:(0,r.pgettext)("block:setter","Set value is equal to the current value."),markdown:!0,value:"XNOR"}]:[],!0),[{label:(0,r.pgettext)("block:setter","Prefill"),description:(0,r.pgettext)("block:setter","Only set when there is no value yet."),value:void 0}],!1),r.Forms.Radiobutton.bind(this,"mode",void 0)).on((function(e){x.visible(void 0===e.value&&void 0!==t.value&&t.value!==(o.slot instanceof r.Slots.Boolean&&0)),h.visible(e.isObservable&&"concatenate"===e.value),t.setter.verifyPurpose()}))]}).visible(this.setter.isAdvanced&&(0,r.isDefined)(this.value)&&this.value!==(o.slot instanceof r.Slots.Boolean&&0)||!1);this.editor.form({title:(0,r.pgettext)("block:setter","Locking"),controls:[new r.Forms.Radiobutton([{label:"**"+(0,r.pgettext)("block:setter","Do not change")+"**",description:(0,r.pgettext)("block:setter","Do not lock or unlock the variable."),markdown:!0,value:void 0},{label:(0,r.pgettext)("block:setter","Lock"),description:(0,r.pgettext)("block:setter","Prevent further changes to the variable. If the variable is a visible block, it will become readonly."),value:!0},{label:(0,r.pgettext)("block:setter","Unlock"),description:(0,r.pgettext)("block:setter","Remove a lock and allow changes to the variable again."),value:!1}],r.Forms.Radiobutton.bind(this,"lock",void 0)).on((function(){return t.setter.verifyPurpose()})),new r.Forms.Static((0,r.pgettext)("block:setter","When a variable is locked its value can only be changed using the **%1** block.",c.Setter.label)).markdown()]}).visible(this.setter.isAdvanced)}},l([r.definition,(0,r.affects)("#name")],t.prototype,"operations",void 0),l([r.definition],t.prototype,"variable",void 0),l([r.definition,(0,r.affects)("#name")],t.prototype,"value",void 0),l([r.definition],t.prototype,"reference",void 0),l([r.definition,(0,r.affects)("#name")],t.prototype,"querystring",void 0),l([r.definition,(0,r.affects)("#name")],t.prototype,"lock",void 0),l([r.definition,(0,r.affects)("#name")],t.prototype,"mode",void 0),l([r.definition,(0,r.affects)("#name")],t.prototype,"separator",void 0),l([r.icon],t.prototype,"icon",null),l([r.name],t.prototype,"name",null),l([r.title],t.prototype,"title",null),l([r.alias],t.prototype,"overwriteLabel",null),l([r.width],t.prototype,"width",null),l([r.created],t.prototype,"attachVariable",null),l([r.deleted],t.prototype,"detachVariable",null),l([r.editor],t.prototype,"defineEditor",null),t}(r.Collection.Item);t.Value=d},982:function(e,t,o){o.r(t),t.default="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbDpzcGFjZT0icHJlc2VydmUiIHdpZHRoPSI1ODAiIGhlaWdodD0iNTgwIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiIgdGV4dC1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiIgaW1hZ2UtcmVuZGVyaW5nPSJvcHRpbWl6ZVF1YWxpdHkiIHZpZXdCb3g9IjAgMCA1ODAwIDU4MDAiPjxwYXRoIGNsYXNzPSJ0cmlwZXR0by1maWxsIiBkPSJNMTkwMCAyOTAwVjEwMDBjMC0xNjUgMTM1LTMwMCAzMDAtMzAwaDE0MDBjMTY1IDAgMzAwIDEzNSAzMDAgMzAwdjE5MDBIMTkwMHptMTEwMC0xODAwaC0yMDB2MTQwMGgyMDBWMTEwMHpNMjIwMCAxMDBoMTQwMGM0OTUgMCA5MDAgNDA1IDkwMCA5MDB2MzgwMGMwIDQ5NS00MDUgOTAwLTkwMCA5MDBIMjIwMGMtNDk1IDAtOTAwLTQwNS05MDAtOTAwVjEwMDBjMC00OTUgNDA1LTkwMCA5MDAtOTAwem0xNDAwIDIwMEgyMjAwYy0zODUgMC03MDAgMzE1LTcwMCA3MDB2MzgwMGMwIDM4NSAzMTUgNzAwIDcwMCA3MDBoMTQwMGMzODUgMCA3MDAtMzE1IDcwMC03MDBWMTAwMGMwLTM4NS0zMTUtNzAwLTcwMC03MDB6bS04MTMgMzAwMGgyMDBjMjc2IDAgNTAwIDIyNSA1MDAgNTAwdjQwNWMwIDI3NS0yMjQgNTAwLTUwMCA1MDBoLTIwMGMtMjc1IDAtNTAwLTIyNS01MDAtNTAwdi00MDVjMC0yNzUgMjI1LTUwMCA1MDAtNTAwem0yMDAgMjAwaC0yMDBjLTE2NSAwLTMwMCAxMzUtMzAwIDMwMHY0MDVjMCAxNjUgMTM1IDMwMCAzMDAgMzAwaDIwMGMxNjUgMCAzMDAtMTM1IDMwMC0zMDB2LTQwNWMwLTE2NS0xMzUtMzAwLTMwMC0zMDB6Ii8+PC9zdmc+"},392:function(e,t,o){o.r(t),t.default="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCI+PHBhdGggZD0iTTcuNSAxMGgtNkMuNjczIDEwIDAgOS4zMjcgMCA4LjV2LTZDMCAxLjY3My42NzMgMSAxLjUgMWg2QzguMzI3IDEgOSAxLjY3MyA5IDIuNXY2YzAgLjgyNy0uNjczIDEuNS0xLjUgMS41em0tNi04YS41LjUgMCAwIDAtLjUuNXY2YS41LjUgMCAwIDAgLjUuNWg2YS41LjUgMCAwIDAgLjUtLjV2LTZhLjUuNSAwIDAgMC0uNS0uNWgtNnptNiAxOGgtNkMuNjczIDIwIDAgMTkuMzI3IDAgMTguNXYtNmMwLS44MjcuNjczLTEuNSAxLjUtMS41aDZjLjgyNyAwIDEuNS42NzMgMS41IDEuNXY2YzAgLjgyNy0uNjczIDEuNS0xLjUgMS41em0tNi04YS41LjUgMCAwIDAtLjUuNXY2YS41LjUgMCAwIDAgLjUuNWg2YS41LjUgMCAwIDAgLjUtLjV2LTZhLjUuNSAwIDAgMC0uNS0uNWgtNnoiIGNsYXNzPSJ0cmlwZXR0by1maWxsIi8+PHBhdGggZD0iTTYuNSA2aC00YS41LjUgMCAwIDEgMC0xaDRhLjUuNSAwIDAgMSAwIDF6bTAgOUg1di0xLjVhLjUuNSAwIDAgMC0xIDBWMTVIMi41YS41LjUgMCAwIDAgMCAxSDR2MS41YS41LjUgMCAwIDAgMSAwVjE2aDEuNWEuNS41IDAgMCAwIDAtMXptMTEgNWgtNmMtLjgyNyAwLTEuNS0uNjczLTEuNS0xLjV2LTE2YzAtLjgyNy42NzMtMS41IDEuNS0xLjVoNmMuODI3IDAgMS41LjY3MyAxLjUgMS41djE2YzAgLjgyNy0uNjczIDEuNS0xLjUgMS41em0tNi0xOGEuNS41IDAgMCAwLS41LjV2MTZhLjUuNSAwIDAgMCAuNS41aDZhLjUuNSAwIDAgMCAuNS0uNXYtMTZhLjUuNSAwIDAgMC0uNS0uNWgtNnoiIGNsYXNzPSJ0cmlwZXR0by1maWxsIi8+PHBhdGggZD0iTTE2LjUgMTBoLTRhLjUuNSAwIDAgMSAwLTFoNGEuNS41IDAgMCAxIDAgMXptMCAyaC00YS41LjUgMCAwIDEgMC0xaDRhLjUuNSAwIDAgMSAwIDF6IiBjbGFzcz0idHJpcGV0dG8tZmlsbCIvPjwvc3ZnPg=="},257:function(e,t,o){o.r(t),t.default="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCI+PHBhdGggZD0iTTE4LjUgMkgxNnYtLjVhLjUuNSAwIDAgMC0xIDBWMkg1di0uNWEuNS41IDAgMCAwLTEgMFYySDEuNUMuNjczIDIgMCAyLjY3MyAwIDMuNXYxNGMwIC44MjcuNjczIDEuNSAxLjUgMS41aDE3Yy44MjcgMCAxLjUtLjY3MyAxLjUtMS41di0xNGMwLS44MjctLjY3My0xLjUtMS41LTEuNXptLTE3IDFINHYxLjVhLjUuNSAwIDAgMCAxIDBWM2gxMHYxLjVhLjUuNSAwIDAgMCAxIDBWM2gyLjVhLjUuNSAwIDAgMSAuNS41VjZIMVYzLjVhLjUuNSAwIDAgMSAuNS0uNXptMTcgMTVoLTE3YS41LjUgMCAwIDEtLjUtLjVWN2gxOHYxMC41YS41LjUgMCAwIDEtLjUuNXoiIGNsYXNzPSJ0cmlwZXR0by1maWxsIi8+PHBhdGggZD0iTTguNSAxNS41YS41MDIuNTAyIDAgMCAxLS4zNTQtLjE0NmwtMi0yYS41LjUgMCAwIDEgLjcwNy0uNzA3bDEuNjQ2IDEuNjQ2IDQuNjQ2LTQuNjQ2YS41LjUgMCAwIDEgLjcwNy43MDdsLTUgNWEuNDk4LjQ5OCAwIDAgMS0uMzU0LjE0NnoiIGNsYXNzPSJ0cmlwZXR0by1maWxsIi8+PC9zdmc+"},617:function(e,t,o){o.r(t),t.default="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCI+PHBhdGggZD0iTTE5LjEwMy44OTZDMTguNTQxLjMzNCAxNy43OTQuMDI1IDE3IC4wMjVzLTEuNTQyLjMwOS0yLjEwMy44NzFsLTkuNzUgOS43NWEuNDk2LjQ5NiAwIDAgMC0uMTE2LjE4M2wtMiA1LjVhLjUuNSAwIDAgMCAuNjQxLjY0MWw1LjUtMmEuNTEuNTEgMCAwIDAgLjE4My0uMTE2bDkuNzUtOS43NWMuNTYyLS41NjIuODcxLTEuMzA5Ljg3MS0yLjEwNHMtLjMwOS0xLjU0Mi0uODcxLTIuMTA0ek04LjcyNSAxNC4wNjhsLTQuMzg5IDEuNTk2IDEuNTk2LTQuMzg5TDE0IDMuMjA3IDE2Ljc5MyA2bC04LjA2OCA4LjA2OHptOS42NzItOS42NzItLjg5Ny44OTYtMi43OTMtMi43OTMuODk3LS44OTZjLjM3My0uMzczLjg2OS0uNTc4IDEuMzk2LS41NzhzMS4wMjMuMjA1IDEuMzk3LjU3OGMuMzczLjM3My41NzguODY5LjU3OCAxLjM5NnMtLjIwNSAxLjAyMy0uNTc4IDEuMzk2eiIgY2xhc3M9InRyaXBldHRvLWZpbGwiLz48cGF0aCBkPSJNMTcuNSAyMGgtMTZDLjY3MyAyMCAwIDE5LjMyNyAwIDE4LjV2LTE2QzAgMS42NzMuNjczIDEgMS41IDFoMTBhLjUuNSAwIDAgMSAwIDFoLTEwYS41LjUgMCAwIDAtLjUuNXYxNmEuNS41IDAgMCAwIC41LjVoMTZhLjUuNSAwIDAgMCAuNS0uNXYtMTBhLjUuNSAwIDAgMSAxIDB2MTBjMCAuODI3LS42NzMgMS41LTEuNSAxLjV6IiBjbGFzcz0idHJpcGV0dG8tZmlsbCIvPjwvc3ZnPg=="},953:function(e,t,o){o.r(t),t.default="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbDpzcGFjZT0icHJlc2VydmUiIHdpZHRoPSI1ODAiIGhlaWdodD0iNTgwIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiIgdGV4dC1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiIgaW1hZ2UtcmVuZGVyaW5nPSJvcHRpbWl6ZVF1YWxpdHkiIHZpZXdCb3g9IjAgMCA1ODAwIDU4MDAiPjxwYXRoIGNsYXNzPSJ0cmlwZXR0by1maWxsIiBkPSJNNzAwIDE1MDBoNDQwMGMyMjAgMCA0MDAgMTgwIDQwMCA0MDB2MjAwMGMwIDIyMC0xODAgNDAwLTQwMCA0MDBINzAwYy0yMjAgMC00MDAtMTgwLTQwMC00MDBWMTkwMGMwLTIyMCAxODAtNDAwIDQwMC00MDB6bTMxMDAgMjAwdjI0MDBoMTMwMGMxMTAgMCAyMDAtOTAgMjAwLTIwMFYxOTAwYzAtMTEwLTkwLTIwMC0yMDAtMjAwSDM4MDB6bS0yMDAgMjQwMFYxNzAwSDcwMGMtMTEwIDAtMjAwIDkwLTIwMCAyMDB2MjAwMGMwIDExMCA5MCAyMDAgMjAwIDIwMGgyOTAwem0xMzAwLTE0MDBjMC0xMjEtNzktMjAwLTIwMC0yMDBoLTIwMGMtMTIxIDAtMjAwIDc5LTIwMCAyMDB2NDAwYzAgMTIxIDc5IDIwMCAyMDAgMjAwaDIwMGMxMjEgMCAyMDAtNzkgMjAwLTIwMHYtNDAwem0yMDAgMHY0MDBjMCAyMzEtMTY5IDQwMC00MDAgNDAwaC0yMDBjLTIzMSAwLTQwMC0xNjktNDAwLTQwMHYtNDAwYzAtMjMxIDE2OS00MDAgNDAwLTQwMGgyMDBjMjMxIDAgNDAwIDE2OSA0MDAgNDAwem0tMjAwMCAwYzAtMTIxLTc5LTIwMC0yMDAtMjAwaC0yMDBjLTEyMSAwLTIwMCA3OS0yMDAgMjAwdjQwMGMwIDEyMSA3OSAyMDAgMjAwIDIwMGgyMDBjMTIxIDAgMjAwLTc5IDIwMC0yMDB2LTQwMHptMjAwIDB2NDAwYzAgMjMxLTE2OSA0MDAtNDAwIDQwMGgtMjAwYy0yMzEgMC00MDAtMTY5LTQwMC00MDB2LTQwMGMwLTIzMSAxNjktNDAwIDQwMC00MDBoMjAwYzIzMSAwIDQwMCAxNjkgNDAwIDQwMHptLTE2MDAgMGMwLTEyMS03OS0yMDAtMjAwLTIwMGgtMjAwYy0xMjEgMC0yMDAgNzktMjAwIDIwMHY0MDBjMCAxMjEgNzkgMjAwIDIwMCAyMDBoMjAwYzEyMSAwIDIwMC03OSAyMDAtMjAwdi00MDB6bTIwMCAwdjQwMGMwIDIzMS0xNjkgNDAwLTQwMCA0MDBoLTIwMGMtMjMxIDAtNDAwLTE2OS00MDAtNDAwdi00MDBjMC0yMzEgMTY5LTQwMCA0MDAtNDAwaDIwMGMyMzEgMCA0MDAgMTY5IDQwMCA0MDB6Ii8+PC9zdmc+"},939:function(e,t,o){o.r(t),t.default="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCI+PHBhdGggZD0iTTE4LjUgOEgxM1YzLjVhLjUuNSAwIDAgMC0uNS0uNWgtNmEuNS41IDAgMCAwLS41LjVWNkguNWEuNS41IDAgMCAwLS41LjV2MTBhLjUuNSAwIDAgMCAuNS41aDE4YS41LjUgMCAwIDAgLjUtLjV2LThhLjUuNSAwIDAgMC0uNS0uNXpNNyA0aDV2MTJIN1Y0ek0xIDdoNXY5SDFWN3ptMTcgOWgtNVY5aDV2N3oiIGNsYXNzPSJ0cmlwZXR0by1maWxsIi8+PHBhdGggZD0iTTkuNSAxMGEuNS41IDAgMCAxLS41LS41di00YS41LjUgMCAwIDEgMSAwdjRhLjUuNSAwIDAgMS0uNS41em0tNSAzaC0yYS41LjUgMCAwIDEtLjUtLjV2LTJhLjUuNSAwIDAgMSAuNS0uNUg0VjlIMi41YS41LjUgMCAwIDEgMC0xaDJhLjUuNSAwIDAgMSAuNS41djJhLjUuNSAwIDAgMS0uNS41SDN2MWgxLjVhLjUuNSAwIDAgMSAwIDF6bTEyLTNoLTJhLjUuNSAwIDAgMCAwIDFIMTZ2MWgtMS41YS41LjUgMCAwIDAgMCAxSDE2djFoLTEuNWEuNS41IDAgMCAwIDAgMWgyYS41LjUgMCAwIDAgLjUtLjV2LTRhLjUuNSAwIDAgMC0uNS0uNXoiIGNsYXNzPSJ0cmlwZXR0by1maWxsIi8+PC9zdmc+"},701:function(e,t,o){o.r(t),t.default="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCI+PHBhdGggZD0iTTE3LjUgNWgtMTVhLjUuNSAwIDAgMSAwLTFoMTVhLjUuNSAwIDAgMSAwIDF6bS00IDNoLTExYS41LjUgMCAwIDEgMC0xaDExYS41LjUgMCAwIDEgMCAxem00IDNoLTE1YS41LjUgMCAwIDEgMC0xaDE1YS41LjUgMCAwIDEgMCAxem0tNCAzaC0xMWEuNS41IDAgMCAxIDAtMWgxMWEuNS41IDAgMCAxIDAgMXptNCAzaC0xNWEuNS41IDAgMCAxIDAtMWgxNWEuNS41IDAgMCAxIDAgMXoiIGNsYXNzPSJ0cmlwZXR0by1maWxsIi8+PC9zdmc+"},659:function(e){e.exports=o(373)},954:function(e){e.exports=o(975)}},i={};function n(e){var o=i[e];if(void 0!==o)return o.exports;var l=i[e]={exports:{}};return t[e].call(l.exports,l,l.exports,n),l.exports}n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var l=n(110);e.exports=l}()},317:function(e,t,o){!function(){"use strict";var t={377:function(e,t,o){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=this&&this.__decorate||function(e,t,o,i){var n,l=arguments.length,a=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(l<3?n(a):l>3?n(t,o,a):n(t,o))||a);return l>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.SignatureCondition=void 0;var a=o(331),r=o(812),c=o(541),u=o(436),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isSigned=!0,t}return n(t,e),Object.defineProperty(t.prototype,"icon",{get:function(){return this.isSigned?c.default:u.default},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.isSigned?(0,a.pgettext)("block:signature","Signed"):(0,a.pgettext)("block:signature","Not signed")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){var e;return null===(e=this.node)||void 0===e?void 0:e.label},enumerable:!1,configurable:!0}),l([a.definition,(0,a.affects)("#name")],t.prototype,"isSigned",void 0),l([(0,a.tripetto)({type:"condition",legacyBlock:!0,context:"@tripetto/block-signature",identifier:"@tripetto/block-signature",version:"1.0.6",icon:r.default,get label(){return(0,a.pgettext)("block:signature","Signed state")}})],t)}(a.ConditionBlock);t.SignatureCondition=s},908:function(e,t,o){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=this&&this.__decorate||function(e,t,o,i){var n,l=arguments.length,a=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(l<3?n(a):l>3?n(t,o,a):n(t,o))||a);return l>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.Signature=void 0;var a=o(331),r=o(377),c=o(812),u=o(541),s=o(436),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.defineSlots=function(){this.signatureSlot=this.slots.static({type:a.Slots.String,reference:"signature",label:(0,a.pgettext)("block:signature","Signature"),protected:!0,exchange:["required","alias"]})},t.prototype.defineEditor=function(){this.editor.name(),this.editor.description(),this.editor.explanation(),this.editor.groups.settings(),this.editor.option({name:(0,a.pgettext)("block:signature","Color"),form:{title:(0,a.pgettext)("block:signature","Color"),controls:[new a.Forms.ColorPicker(a.Forms.ColorPicker.bind(this,"color",void 0,"darkblue")).supportAlpha(!1).placeholder((0,a.pgettext)("block:signature","Ink color")).swatches(!1,!0),new a.Forms.Static((0,a.pgettext)("block:signature","Here, you can specify the color of the signature ink when signing. The signature will always be saved using black ink in the dataset."))]},activated:(0,a.isString)(this.color)}),this.editor.option({name:(0,a.pgettext)("block:signature","Size"),form:{title:(0,a.pgettext)("block:signature","Size"),controls:[new a.Forms.Radiobutton([{label:(0,a.pgettext)("block:signature","Small"),value:"sm"},{label:(0,a.pgettext)("block:signature","Medium"),value:"md"},{label:(0,a.pgettext)("block:signature","Large"),value:"lg"}],a.Forms.Radiobutton.bind(this,"size",void 0,"md"))]},activated:(0,a.isString)(this.size)}),this.editor.groups.options(),this.editor.required(this.signatureSlot),this.editor.visibility(),this.editor.alias(this.signatureSlot)},t.prototype.defineConditions=function(){var e=this;(0,a.each)([{label:(0,a.pgettext)("block:signature","Signed"),icon:u.default,isSigned:!0},{label:(0,a.pgettext)("block:signature","Not signed"),icon:s.default,isSigned:!1}],(function(t){e.conditions.template({condition:r.SignatureCondition,label:t.label,icon:t.icon,burst:!0,props:{slot:e.signatureSlot,isSigned:t.isSigned}})}))},l([(0,a.definition)("string","optional")],t.prototype,"size",void 0),l([(0,a.definition)("string","optional")],t.prototype,"color",void 0),l([a.slots],t.prototype,"defineSlots",null),l([a.editor],t.prototype,"defineEditor",null),l([a.conditions],t.prototype,"defineConditions",null),l([(0,a.tripetto)({type:"node",identifier:"@tripetto/block-signature",version:"1.0.6",icon:c.default,get label(){return(0,a.pgettext)("block:signature","Signature")}})],t)}(a.NodeBlock);t.Signature=d},541:function(e,t,o){o.r(t),t.default="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCI+PHBhdGggZD0iTTkuNSAyMGEuNTAzLjUwMyAwIDAgMS0uMTU4LS4wMjZjLTEuODM5LS42MTMtNC4xNDctMi42NTEtNS44OC01LjE5M0ExOS45NDQgMTkuOTQ0IDAgMCAxIDAgMy40OTlhLjUuNSAwIDAgMSAuNS0uNWMyLjgxNCAwIDcuMjM4LTEuOTI2IDguNzIzLTIuOTE2YS41LjUgMCAwIDEgLjU1NSAwYzEuNDg1Ljk5IDUuOTA5IDIuOTE2IDguNzIzIDIuOTE2YS41LjUgMCAwIDEgLjUuNWMwIDUuMTI4LTEuODgzIDguOTY1LTMuNDYyIDExLjI4Mi0xLjczMyAyLjU0MS00LjA0MSA0LjU4LTUuODggNS4xOTNhLjUwMy41MDMgMCAwIDEtLjE1OC4wMjZ6TTEuMDA2IDMuOTg0YTE4LjkzNSAxOC45MzUgMCAwIDAgMy4yODIgMTAuMjM1YzEuNzY5IDIuNTk0IDMuODU2IDQuMjMgNS4yMTIgNC43NTEgMS4zNTYtLjUyMSAzLjQ0My0yLjE1NiA1LjIxMi00Ljc1MWExOC45MzUgMTguOTM1IDAgMCAwIDMuMjgyLTEwLjIzNWMtMS42MjgtLjEwMi0zLjQ0Mi0uNjYyLTQuNzMtMS4xNC0xLjQxOC0uNTI1LTIuODQ5LTEuMTkzLTMuNzY0LTEuNzUxLS45MTUuNTU4LTIuMzQ2IDEuMjI2LTMuNzY0IDEuNzUxLTEuMjg5LjQ3Ny0zLjEwMiAxLjAzOC00LjczIDEuMTR6IiBjbGFzcz0idHJpcGV0dG8tZmlsbCIvPjxwYXRoIGQ9Ik04LjUgMTIuNWEuNTAyLjUwMiAwIDAgMS0uMzU0LS4xNDZsLTItMmEuNS41IDAgMCAxIC43MDctLjcwN2wxLjY0NiAxLjY0NiA0LjY0Ni00LjY0NmEuNS41IDAgMCAxIC43MDcuNzA3bC01IDVhLjQ5OC40OTggMCAwIDEtLjM1NC4xNDZ6IiBjbGFzcz0idHJpcGV0dG8tZmlsbCIvPjwvc3ZnPg=="},436:function(e,t,o){o.r(t),t.default="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCI+PHBhdGggZD0iTTkuNSAyMGEuNTAzLjUwMyAwIDAgMS0uMTU4LS4wMjZjLTEuODM5LS42MTMtNC4xNDctMi42NTEtNS44OC01LjE5M0ExOS45NDQgMTkuOTQ0IDAgMCAxIDAgMy40OTlhLjUuNSAwIDAgMSAuNS0uNWMyLjgxNCAwIDcuMjM4LTEuOTI2IDguNzIzLTIuOTE2YS41LjUgMCAwIDEgLjU1NSAwYzEuNDg1Ljk5IDUuOTA5IDIuOTE2IDguNzIzIDIuOTE2YS41LjUgMCAwIDEgLjUuNWMwIDUuMTI4LTEuODgzIDguOTY1LTMuNDYyIDExLjI4Mi0xLjczMyAyLjU0MS00LjA0MSA0LjU4LTUuODggNS4xOTNhLjUwMy41MDMgMCAwIDEtLjE1OC4wMjZ6TTEuMDA2IDMuOTg0YTE4LjkzNSAxOC45MzUgMCAwIDAgMy4yODIgMTAuMjM1YzEuNzY5IDIuNTk0IDMuODU2IDQuMjMgNS4yMTIgNC43NTEgMS4zNTYtLjUyMSAzLjQ0My0yLjE1NiA1LjIxMi00Ljc1MWExOC45MzUgMTguOTM1IDAgMCAwIDMuMjgyLTEwLjIzNWMtMS42MjgtLjEwMi0zLjQ0Mi0uNjYyLTQuNzMtMS4xNC0xLjQxOC0uNTI1LTIuODQ5LTEuMTkzLTMuNzY0LTEuNzUxLS45MTUuNTU4LTIuMzQ2IDEuMjI2LTMuNzY0IDEuNzUxLTEuMjg5LjQ3Ny0zLjEwMiAxLjAzOC00LjczIDEuMTR6IiBjbGFzcz0idHJpcGV0dG8tZmlsbCIvPjxwYXRoIGQ9Ik0xMy4zMjUgMTIuMTIgMTAuMjY4IDkuNWwzLjA1Ny0yLjYyYS41LjUgMCAxIDAtLjY1MS0uNzU5TDkuNDk5IDguODQyIDYuMzI0IDYuMTIxYS41LjUgMCAwIDAtLjY1MS43NTlMOC43MyA5LjVsLTMuMDU3IDIuNjJhLjUuNSAwIDEgMCAuNjUxLjc2bDMuMTc1LTIuNzIxIDMuMTc1IDIuNzIxYS40OTcuNDk3IDAgMCAwIC43MDUtLjA1NS41LjUgMCAwIDAtLjA1NC0uNzA1eiIgY2xhc3M9InRyaXBldHRvLWZpbGwiLz48L3N2Zz4="},812:function(e,t,o){o.r(t),t.default="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCI+PHBhdGggZD0iTTIuNSAxN2EuNS41IDAgMCAxLS40ODEtLjYzN2wxLTMuNWEuNDk0LjQ5NCAwIDAgMSAuMTI3LS4yMTZsMTEtMTFhLjUuNSAwIDAgMSAuNzA3IDBsMi41IDIuNWEuNS41IDAgMCAxIDAgLjcwN2wtMTEgMTFhLjQ5NC40OTQgMCAwIDEtLjIxNi4xMjdsLTMuNSAxQS40OTguNDk4IDAgMCAxIDIuNSAxN3ptMS40NDUtMy43MzgtLjcxNyAyLjUxIDIuNTEtLjcxN0wxNi4yOTMgNC41IDE0LjUgMi43MDcgMy45NDUgMTMuMjYyek0xNy41IDE5aC0xNWEuNS41IDAgMCAxIDAtMWgxNWEuNS41IDAgMCAxIDAgMXoiIGNsYXNzPSJ0cmlwZXR0by1maWxsIi8+PC9zdmc+"},331:function(e){e.exports=o(975)}},i={};function n(e){var o=i[e];if(void 0!==o)return o.exports;var l=i[e]={exports:{}};return t[e].call(l.exports,l,l.exports,n),l.exports}n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var l=n(908);e.exports=l}()},2:function(e,t,o){!function(){"use strict";var t={110:function(e,t,o){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=this&&this.__decorate||function(e,t,o,i){var n,l=arguments.length,a=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(l<3?n(a):l>3?n(t,o,a):n(t,o))||a);return l>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.Statement=void 0;var a=o(954),r=o(617),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.defineEditor=function(){this.editor.name(!1,!0,(0,a.pgettext)("block:statement","Statement")),this.editor.description(),this.editor.option({name:(0,a.pgettext)("block:statement","Image"),form:{title:(0,a.pgettext)("block:statement","Image"),controls:[new a.Forms.Text("singleline",a.Forms.Text.bind(this,"imageURL",void 0)).label((0,a.pgettext)("block:statement","Image source URL")).inputMode("url").placeholder("https://").action("@",(0,a.insertVariable)(this)).autoValidate((function(e){return""===e.value?"unknown":a.REGEX_IS_URL.test(e.value)||e.value.length>23&&0===e.value.indexOf("data:image/jpeg;base64,")||e.value.length>22&&0===e.value.indexOf("data:image/png;base64,")||e.value.length>22&&0===e.value.indexOf("data:image/svg;base64,")||e.value.length>22&&0===e.value.indexOf("data:image/gif;base64,")||e.value.length>1&&"/"===e.value.charAt(0)?"pass":"fail"})),new a.Forms.Text("singleline",a.Forms.Checkbox.bind(this,"imageWidth",void 0)).label((0,a.pgettext)("block:statement","Image width (optional)")).width(100).align("center"),new a.Forms.Checkbox((0,a.pgettext)("block:statement","Display image on top of the paragraph"),a.Forms.Checkbox.bind(this,"imageAboveText",void 0))]},activated:(0,a.isString)(this.imageURL)}),this.editor.explanation(),this.editor.groups.options(),this.editor.visibility()},l([(0,a.definition)("string","optional")],t.prototype,"imageURL",void 0),l([(0,a.definition)("string","optional")],t.prototype,"imageWidth",void 0),l([(0,a.definition)("boolean","optional")],t.prototype,"imageAboveText",void 0),l([a.editor],t.prototype,"defineEditor",null),l([(0,a.tripetto)({type:"node",legacyBlock:!0,identifier:"@tripetto/block-statement",version:"5.0.3",icon:r.default,alias:"statement",get label(){return(0,a.pgettext)("block:statement","Statement")}})],t)}(a.NodeBlock);t.Statement=c},617:function(e,t,o){o.r(t),t.default="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCI+PHBhdGggZD0iTS41IDE5YS41LjUgMCAwIDEtLjI1Ny0uOTI5IDYuMjExIDYuMjExIDAgMCAwIDIuNjQxLTMuMTc5QzEuMDQ2IDEzLjQ4NSAwIDExLjUzOCAwIDkuNWMwLTEuMDI5LjI1OC0yLjAyNi43NjgtMi45NjQuNDg2LS44OTQgMS4xOC0xLjY5NSAyLjA2MS0yLjM4MUM0LjYxNiAyLjc2NSA2Ljk4NSAxLjk5OSA5LjUgMS45OTlzNC44ODQuNzY2IDYuNjcxIDIuMTU2Yy44ODEuNjg1IDEuNTc1IDEuNDg2IDIuMDYxIDIuMzgxLjUxLjkzNy43NjggMS45MzQuNzY4IDIuOTY0cy0uMjU4IDIuMDI2LS43NjggMi45NjRjLS40ODYuODk0LTEuMTggMS42OTUtMi4wNjEgMi4zODEtMS43ODcgMS4zOS00LjE1NiAyLjE1Ni02LjY3MSAyLjE1Ni0xLjAzMyAwLTIuMDQ3LS4xMjktMy4wMTYtLjM4NWEyMC43NCAyMC43NCAwIDAgMS0yLjE4OSAxLjI3Yy0xLjQ4OC43NC0yLjc2NCAxLjExNS0zLjc5NCAxLjExNXptOS0xNkM0LjgxMyAzIDEgNS45MTYgMSA5LjVjMCAxLjgxNSAxLjAwNSAzLjU2MiAyLjc1NiA0Ljc5Mi4xNzIuMTIxLjI1LjMzNi4xOTYuNTM5LS4xMTcuNDM2LS41MTUgMS42MzMtMS41OCAyLjc4OCAxLjMwMi0uNDU2IDIuNzA0LTEuMjQ3IDMuNzM5LTEuOTU5YS40OTkuNDk5IDAgMCAxIC40MjEtLjA2OUM3LjQ4IDE1Ljg2MiA4LjQ3OSAxNiA5LjUgMTZjNC42ODcgMCA4LjUtMi45MTYgOC41LTYuNVMxNC4xODcgMyA5LjUgM3oiIGNsYXNzPSJ0cmlwZXR0by1maWxsIi8+PHBhdGggZD0iTTYuNSA4Yy0uMTcgMC0uMzM2LjAxNy0uNDk3LjA1QTMuNDkzIDMuNDkzIDAgMCAxIDguNSA3YS41LjUgMCAwIDAgMC0xQTQuNTA1IDQuNTA1IDAgMCAwIDQgMTAuNUM0IDExLjg3OCA1LjEyMiAxMyA2LjUgMTNTOSAxMS44NzggOSAxMC41IDcuODc4IDggNi41IDh6bTAgNGMtLjgyNyAwLTEuNS0uNjczLTEuNS0xLjVTNS42NzMgOSA2LjUgOSA4IDkuNjczIDggMTAuNSA3LjMyNyAxMiA2LjUgMTJ6bTYtNGMtLjE3IDAtLjMzNi4wMTctLjQ5Ny4wNUEzLjQ5MyAzLjQ5MyAwIDAgMSAxNC41IDdhLjUuNSAwIDAgMCAwLTEgNC41MDUgNC41MDUgMCAwIDAtNC41IDQuNWMwIDEuMzc4IDEuMTIyIDIuNSAyLjUgMi41czIuNS0xLjEyMiAyLjUtMi41UzEzLjg3OCA4IDEyLjUgOHptMCA0Yy0uODI3IDAtMS41LS42NzMtMS41LTEuNVMxMS42NzMgOSAxMi41IDlzMS41LjY3MyAxLjUgMS41LS42NzMgMS41LTEuNSAxLjV6IiBjbGFzcz0idHJpcGV0dG8tZmlsbCIvPjwvc3ZnPg=="},954:function(e){e.exports=o(975)}},i={};function n(e){var o=i[e];if(void 0!==o)return o.exports;var l=i[e]={exports:{}};return t[e].call(l.exports,l,l.exports,n),l.exports}n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var l=n(110);e.exports=l}()},725:function(e,t,o){!function(){"use strict";var t={110:function(e,t,o){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=this&&this.__decorate||function(e,t,o,i){var n,l=arguments.length,a=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(l<3?n(a):l>3?n(t,o,a):n(t,o))||a);return l>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.Stop=void 0;var a=o(954),r=o(617),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.defineEditor=function(){this.editor.form({title:(0,a.pgettext)("block:stop","Explanation"),controls:[new a.Forms.Static((0,a.pgettext)("block:stop","Stops the form without completing it. This assures no data for the form will be submitted.")).markdown()]}),this.editor.name(!0,!0),this.editor.description(),this.editor.option({name:(0,a.pgettext)("block:stop","Image"),form:{title:(0,a.pgettext)("block:stop","Image"),controls:[new a.Forms.Text("singleline",a.Forms.Text.bind(this,"imageURL",void 0)).label((0,a.pgettext)("block:stop","Image source URL")).inputMode("url").placeholder("https://").action("@",(0,a.insertVariable)(this)).autoValidate((function(e){return""===e.value?"unknown":a.REGEX_IS_URL.test(e.value)||e.value.length>23&&0===e.value.indexOf("data:image/jpeg;base64,")||e.value.length>22&&0===e.value.indexOf("data:image/png;base64,")||e.value.length>22&&0===e.value.indexOf("data:image/svg;base64,")||e.value.length>22&&0===e.value.indexOf("data:image/gif;base64,")||e.value.length>1&&"/"===e.value.charAt(0)?"pass":"fail"})),new a.Forms.Text("singleline",a.Forms.Checkbox.bind(this,"imageWidth",void 0)).label((0,a.pgettext)("block:stop","Image width (optional)")).width(100).align("center"),new a.Forms.Checkbox((0,a.pgettext)("block:stop","Display image on top of the paragraph"),a.Forms.Checkbox.bind(this,"imageAboveText",void 0))]},activated:(0,a.isString)(this.imageURL)}),this.editor.groups.options(),this.editor.visibility()},l([(0,a.definition)("string","optional")],t.prototype,"imageURL",void 0),l([(0,a.definition)("boolean","optional")],t.prototype,"imageAboveText",void 0),l([(0,a.definition)("string","optional")],t.prototype,"imageWidth",void 0),l([a.editor],t.prototype,"defineEditor",null),l([(0,a.tripetto)({type:"node",legacyBlock:!0,identifier:"@tripetto/block-stop",version:"3.0.2",kind:"headless",icon:r.default,get label(){return(0,a.pgettext)("block:stop","Force stop")}})],t)}(a.NodeBlock);t.Stop=c},617:function(e,t,o){o.r(t),t.default="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCI+PHBhdGggZD0iTTIwIDVWMy41YS41LjUgMCAwIDAtLjUtLjVILjVhLjUuNSAwIDAgMC0uNS41djZhLjUuNSAwIDAgMCAuNS41SDJ2NmgtLjVhLjUuNSAwIDAgMCAwIDFoNGEuNS41IDAgMCAwIDAtMUg1di0zaDEwdjNoLS41YS41LjUgMCAwIDAgMCAxaDRhLjUuNSAwIDAgMCAwLTFIMTh2LTZoMS41YS41LjUgMCAwIDAgLjUtLjVWNXptLTEtLjIwN0wxNC43OTMgOWgtMy41ODZsNS01SDE5di43OTN6TTYuMjA3IDlsNS01aDMuNTg2bC01IDVINi4yMDd6bS01IDAgNS01aDMuNTg2bC01IDVIMS4yMDd6bTMuNTg2LTVMMSA3Ljc5M1Y0aDMuNzkzek0zIDE2di02aDF2Nkgzem0yLTR2LTJoMTB2Mkg1em0xMiA0aC0xdi02aDF2NnptLS43OTMtN0wxOSA2LjIwN1Y5aC0yLjc5M3oiIGNsYXNzPSJ0cmlwZXR0by1maWxsIi8+PC9zdmc+"},954:function(e){e.exports=o(975)}},i={};function n(e){var o=i[e];if(void 0!==o)return o.exports;var l=i[e]={exports:{}};return t[e].call(l.exports,l,l.exports,n),l.exports}n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var l=n(110);e.exports=l}()},842:function(e,t,o){!function(){"use strict";var t={287:function(e,t,o){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=this&&this.__decorate||function(e,t,o,i){var n,l=arguments.length,a=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(l<3?n(a):l>3?n(t,o,a):n(t,o))||a);return l>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.ScoreCondition=void 0;var a=o(954),r=o(939),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.allowMarkdown=!0,t.mode="equal",t}return n(t,e),Object.defineProperty(t.prototype,"label",{get:function(){return""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){var e=this.slot;if(e instanceof a.Slots.Numeric){var t=this.parse(e,this.value);switch(this.mode){case"between":return"".concat(t," ≤ @").concat(e.id," ≤ ").concat(this.parse(e,this.to));case"not-between":return"@".concat(e.id," < ").concat(t," ").concat((0,a.pgettext)("block:text","or")," @").concat(e.id," > ").concat(this.parse(e,this.to));case"defined":return"@".concat(e.id," ").concat((0,a.pgettext)("block:text","calculated"));case"undefined":return"@".concat(e.id," ").concat((0,a.pgettext)("block:text","not calculated"));case"not-equal":return"@".concat(e.id," ≠ ").concat(t);case"above":case"below":case"equal":return"@".concat(e.id," ").concat("above"===this.mode?">":"below"===this.mode?"<":"="," ").concat(t)}}return this.type.label},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){var e,t;return(null===(e=this.slot)||void 0===e?void 0:e.label)||(null===(t=this.node)||void 0===t?void 0:t.label)},enumerable:!1,configurable:!0}),t.prototype.parse=function(e,t){var o;return(0,a.isNumberFinite)(t)?e.toString(t,(function(e,t){return a.L10n.locale.number(e,t,!1)})):(0,a.isString)(t)&&t&&(null===(o=(0,a.lookupVariable)(this,t))||void 0===o?void 0:o.label)?"@".concat(t):"\\_\\_"},t.prototype.defineEditor=function(){var e=this;this.editor.form({title:(0,a.pgettext)("block:text","Compare mode"),controls:[new a.Forms.Radiobutton([{label:(0,a.pgettext)("block:text","Score is equal to"),value:"equal"},{label:(0,a.pgettext)("block:text","Score is not equal to"),value:"not-equal"},{label:(0,a.pgettext)("block:text","Score is lower than"),value:"below"},{label:(0,a.pgettext)("block:text","Score is higher than"),value:"above"},{label:(0,a.pgettext)("block:text","Score is between"),value:"between"},{label:(0,a.pgettext)("block:text","Score is not between"),value:"not-between"},{label:(0,a.pgettext)("block:text","Score is calculated"),value:"defined"},{label:(0,a.pgettext)("block:text","Score is not calculated"),value:"undefined"}],a.Forms.Radiobutton.bind(this,"mode","equal")).on((function(e){switch(o.visible("defined"!==e.value&&"undefined"!==e.value),i.visible("between"===e.value||"not-between"===e.value),e.value){case"equal":o.title=(0,a.pgettext)("block:text","If score equals");break;case"not-equal":o.title=(0,a.pgettext)("block:text","If score not equals");break;case"below":o.title=(0,a.pgettext)("block:text","If score is lower than");break;case"above":o.title=(0,a.pgettext)("block:text","If score is higher than");break;case"between":o.title=(0,a.pgettext)("block:text","If score is between");break;case"not-between":o.title=(0,a.pgettext)("block:text","If score is not between")}}))]});var t=function(t,o,i){var n,l=e[t],r=e.slot,c=new a.Forms.Numeric((0,a.isNumberFinite)(l)?l:0).label((0,a.pgettext)("block:text","Use fixed number")).precision((null==r?void 0:r.precision)||0).digits((null==r?void 0:r.digits)||0).decimalSign((null==r?void 0:r.decimal)||"").thousands(!!(null==r?void 0:r.separator),(null==r?void 0:r.separator)||"").prefix((null==r?void 0:r.prefix)||"").prefixPlural((null==r?void 0:r.prefixPlural)||void 0).suffix((null==r?void 0:r.suffix)||"").suffixPlural((null==r?void 0:r.suffixPlural)||void 0).autoFocus("value"===t).escape(e.editor.close).enter((function(){return("between"!==e.mode&&"not-between"!==e.mode||"to"===t)&&e.editor.close()})).on((function(o){o.isFormVisible&&o.isObservable&&(e[t]=o.value)})),u=(0,a.populateVariables)(e,(function(e){return e instanceof a.Slots.Number||e instanceof a.Slots.Numeric}),(0,a.isString)(l)?l:void 0,!0,null===(n=e.slot)||void 0===n?void 0:n.id),s=new a.Forms.Dropdown(u,(0,a.isString)(l)?l:"").label((0,a.pgettext)("block:text","Use value of")).width("full").on((function(o){o.isFormVisible&&o.isObservable&&(e[t]=o.value||"")}));return e.editor.form({title:o,controls:[new a.Forms.Radiobutton([{label:(0,a.pgettext)("block:text","Number"),value:"number"},{label:(0,a.pgettext)("block:text","Value"),value:"variable",disabled:0===u.length}],(0,a.isString)(l)?"variable":"number").on((function(e){c.visible("number"===e.value),s.visible("variable"===e.value),c.isObservable&&c.focus()})),c,s]}).visible(i)},o=t("value",(0,a.pgettext)("block:text","If score equals"),"defined"!==this.mode&&"undefined"!==this.mode),i=t("to",(0,a.pgettext)("block:text","And"),"between"===this.mode||"not-between"===this.mode)},l([a.definition,(0,a.affects)("#name")],t.prototype,"mode",void 0),l([a.definition,(0,a.affects)("#name")],t.prototype,"value",void 0),l([a.definition,(0,a.affects)("#name")],t.prototype,"to",void 0),l([a.editor],t.prototype,"defineEditor",null),l([(0,a.tripetto)({type:"condition",legacyBlock:!0,context:"@tripetto/block-text",identifier:"".concat("@tripetto/block-text",":score"),version:"6.0.2",icon:r.default,get label(){return(0,a.pgettext)("block:text","Verify score")}})],t)}(a.ConditionBlock);t.ScoreCondition=c},789:function(e,t,o){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=this&&this.__decorate||function(e,t,o,i){var n,l=arguments.length,a=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(l<3?n(a):l>3?n(t,o,a):n(t,o))||a);return l>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.TextCondition=void 0;var a=o(954),r=o(110),c=o(537),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.allowMarkdown=!0,t.mode="exact",t}return n(t,e),Object.defineProperty(t.prototype,"block",{get:function(){var e;return(null===(e=this.node)||void 0===e?void 0:e.block)instanceof r.Text&&this.node.block||void 0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"label",{get:function(){return""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){var e,t,o=this;if(this.slot instanceof a.Slots.Text){var i=((0,a.isVariable)(this.match)?(null===(e=(0,a.lookupVariable)(this,this.match))||void 0===e?void 0:e.label)&&"@".concat(this.match):this.match&&((t=(0,a.makeMarkdownSafe)(this.match))&&("contains"===o.mode||"not-contains"===o.mode||"starts"===o.mode||"ends"===o.mode)&&"_".concat(t,"_")||t))||"\\_\\_";switch(this.mode){case"exact":case"not-exact":return"@".concat(this.slot.id," ").concat("not-exact"===this.mode?"≠":"="," ").concat(i);case"contains":case"not-contains":case"starts":case"ends":return"@".concat(this.slot.id," ").concat("not-contains"===this.mode?(0,a.pgettext)("block:text","does not contain"):"starts"===this.mode?(0,a.pgettext)("block:text","starts with"):"ends"===this.mode?(0,a.pgettext)("block:text","ends with"):(0,a.pgettext)("block:text","contains")," ").concat(i);case"defined":return"@".concat(this.slot.id," ").concat((0,a.pgettext)("block:text","not empty"));case"undefined":return"@".concat(this.slot.id," ").concat((0,a.pgettext)("block:text","empty"))}}return this.type.label},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){var e;return null===(e=this.node)||void 0===e?void 0:e.label},enumerable:!1,configurable:!0}),t.prototype.defineEditor=function(){var e,t,o=this;this.editor.form({title:(0,a.pgettext)("block:text","Compare mode"),controls:[new a.Forms.Radiobutton([{label:(0,a.pgettext)("block:text","Text matches"),value:"exact"},{label:(0,a.pgettext)("block:text","Text does not match"),value:"not-exact"},{label:(0,a.pgettext)("block:text","Text contains"),value:"contains"},{label:(0,a.pgettext)("block:text","Text does not contain"),value:"not-contains"},{label:(0,a.pgettext)("block:text","Text starts with"),value:"starts"},{label:(0,a.pgettext)("block:text","Text ends with"),value:"ends"},{label:(0,a.pgettext)("block:text","Text is not empty"),value:"defined"},{label:(0,a.pgettext)("block:text","Text is empty"),value:"undefined"}],a.Forms.Radiobutton.bind(this,"mode","exact")).on((function(e){switch(c.visible("defined"!==e.value&&"undefined"!==e.value),e.value){case"exact":c.title=(0,a.pgettext)("block:text","If text matches");break;case"not-exact":c.title=(0,a.pgettext)("block:text","If text does not match");break;case"contains":c.title=(0,a.pgettext)("block:text","If text contains");break;case"not-contains":c.title=(0,a.pgettext)("block:text","If text does not contain");break;case"starts":c.title=(0,a.pgettext)("block:text","If text starts with");break;case"ends":c.title=(0,a.pgettext)("block:text","If text ends with")}l.isInteractable&&l.focus()}))]});var i=this.match&&(0,a.isVariable)(this.match)||!1,n=(0,a.populateVariables)(this,void 0,i?this.match:void 0,!1,null===(e=this.slot)||void 0===e?void 0:e.id),l=new a.Forms.Text("singleline",i?"":this.match).label((0,a.pgettext)("block:text","Use fixed text")).action("@",(0,a.insertVariable)(this,"exclude")).suggestions(null===(t=this.block)||void 0===t?void 0:t.suggestions.all).autoFocus().enter(this.editor.close).escape(this.editor.close).on((function(e){e.isFormVisible&&e.isVisible&&(o.match=e.value)})),r=new a.Forms.Dropdown(n,i?this.match:"").label((0,a.pgettext)("block:text","Use value of")).width("full").on((function(e){e.isFormVisible&&e.isObservable&&(o.match=e.value||void 0)})),c=this.editor.form({title:(0,a.pgettext)("block:text","If text matches"),controls:[new a.Forms.Radiobutton([{label:(0,a.pgettext)("block:text","Text"),value:"text"},{label:(0,a.pgettext)("block:text","Value"),value:"variable",disabled:0===n.length}],i?"variable":"text").on((function(e){l.visible("text"===e.value),r.visible("variable"===e.value),l.isInteractable&&l.focus()})),l,r,new a.Forms.Checkbox((0,a.pgettext)("block:text","Ignore case"),a.Forms.Checkbox.bind(this,"ignoreCase",void 0,!0))]}).visible("defined"!==this.mode&&"undefined"!==this.mode)},l([a.definition,(0,a.affects)("#name")],t.prototype,"mode",void 0),l([a.definition,(0,a.affects)("#name")],t.prototype,"match",void 0),l([a.definition],t.prototype,"ignoreCase",void 0),l([a.editor],t.prototype,"defineEditor",null),l([(0,a.tripetto)({type:"condition",legacyBlock:!0,context:"@tripetto/block-text",identifier:"@tripetto/block-text",version:"6.0.2",icon:c.default,get label(){return(0,a.pgettext)("block:text","Text match")}})],t)}(a.ConditionBlock);t.TextCondition=u},110:function(e,t,o){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=this&&this.__decorate||function(e,t,o,i){var n,l=arguments.length,a=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(l<3?n(a):l>3?n(t,o,a):n(t,o))||a);return l>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.Text=void 0;var a=o(954),r=o(789),c=o(476),u=o(287),s=o(701),d=o(939),p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.suggestions=a.Collection.of(c.TextSuggestion,t),t}return n(t,e),Object.defineProperty(t.prototype,"label",{get:function(){return this.useSuggestions?(0,a.npgettext)("block:text","Text (%1 suggestion)","Text (%1 suggestions)",this.suggestions.count):this.type.label},enumerable:!1,configurable:!0}),t.prototype.defineSlot=function(){this.textSlot=this.slots.static({type:a.Slots.Text,reference:"value",label:(0,a.pgettext)("block:text","Text"),exchange:["required","alias","exportable","maxLength","transformation"]})},t.prototype.defineEditor=function(){var e=this;this.editor.name(),this.editor.description(),this.editor.placeholder(),this.editor.explanation(),this.editor.groups.settings();var t=new a.Forms.Numeric(a.Forms.Numeric.bind(this,"minLength",void 0)).min(1).max(this.textSlot.maxLength).visible((0,a.isNumber)(this.minLength)).indent(32).width(75).on((function(){o.min(e.minLength||1)})),o=new a.Forms.Numeric(a.Forms.Numeric.bind(this.textSlot,"maxLength",void 0)).min(this.minLength||1).visible((0,a.isNumber)(this.textSlot.maxLength)).indent(32).width(75).on((function(){t.max(e.textSlot.maxLength)}));this.editor.option({name:(0,a.pgettext)("block:text","Limits"),form:{title:(0,a.pgettext)("block:text","Limits"),controls:[new a.Forms.Checkbox((0,a.pgettext)("block:text","Minimum"),(0,a.isNumber)(this.minLength)).on((function(e){t.visible(e.isChecked)})),t,new a.Forms.Checkbox((0,a.pgettext)("block:text","Maximum"),(0,a.isNumber)(this.textSlot.maxLength)).on((function(e){o.visible(e.isChecked)})),o]},activated:(0,a.isNumber)(this.textSlot.maxLength)||(0,a.isNumber)(this.minLength)}),this.editor.option({name:(0,a.pgettext)("block:text","Autocomplete"),form:{title:(0,a.pgettext)("block:text","Autocomplete"),controls:[new a.Forms.Radiobutton([{label:(0,a.pgettext)("block:text","Name"),value:"name",description:(0,a.pgettext)("block:text","Person's full name.")},{label:(0,a.pgettext)("block:text","Organization"),value:"organization",description:(0,a.pgettext)("block:text","Company or organization name.")},{label:(0,a.pgettext)("block:text","Job/organization title"),value:"organization-title",description:(0,a.pgettext)("block:text","Job title, or the title a person has within an organization.")},{label:(0,a.pgettext)("block:text","Street address"),value:"street-address",description:(0,a.pgettext)("block:text","Location of the address within a city or town.")},{label:(0,a.pgettext)("block:text","Postal code"),value:"postal-code",description:(0,a.pgettext)("block:text","Postal code (in the United States, this is the ZIP code).")},{label:(0,a.pgettext)("block:text","City (address level 2)"),value:"address-level2",description:(0,a.pgettext)("block:text","City, town, village, or other locality in which the address is located.")},{label:(0,a.pgettext)("block:text","Province or state (address level 1)"),value:"address-level1",description:(0,a.pgettext)("block:text","Typically the province in which the address is located. In the United States, this would be the state. In Switzerland, the canton. In the United Kingdom, the post town.")},{label:(0,a.pgettext)("block:text","Country"),value:"country-name",description:(0,a.pgettext)("block:text","Name of the country.")},{label:(0,a.pgettext)("block:text","Telephone number"),value:"tel",description:(0,a.pgettext)("block:text","Full telephone number, including the country code.")},{label:(0,a.pgettext)("block:text","Gender identity"),value:"sex",description:(0,a.pgettext)("block:text","Gender identity as freeform text.")},{label:(0,a.pgettext)("block:text","Username"),value:"username",description:(0,a.pgettext)("block:text","Username or account name for the active domain.")}],a.Forms.Radiobutton.bind(this,"autoComplete",void 0)).label((0,a.pgettext)("block:text","Use the following autocomplete attribute for autocompletion:"))]},activated:(0,a.isString)(this.autoComplete)});var i=this.editor.option({name:(0,a.pgettext)("block:text","Suggestions"),collection:{collection:this.suggestions,title:(0,a.pgettext)("block:text","Suggestions"),placeholder:(0,a.pgettext)("block:text","Unnamed suggestion"),autoOpen:!0,editable:!0,allowImport:!0,allowExport:!0,allowDedupe:!0,showScores:!0,sorting:"manual",emptyMessage:(0,a.pgettext)("block:text","Click the + button to add an suggestion...")},activated:!0===this.useSuggestions}).onToggle((function(){e.useSuggestions=!!i.isActivated||void 0}));this.editor.transformations(this.textSlot),this.editor.groups.options(),this.editor.option({name:(0,a.pgettext)("block:text","Prefill"),form:{title:(0,a.pgettext)("block:text","Prefill"),controls:[new a.Forms.Text("singleline",a.Forms.Text.bind(this,"prefill",void 0)).label((0,a.pgettext)("block:text","Prefill with the following text:"))]},activated:(0,a.isString)(this.prefill)}),this.editor.required(this.textSlot),this.editor.visibility(),this.editor.scores({target:this,collection:i,description:(0,a.pgettext)("block:text","Generates a score based on the selected suggestion. Open the settings panel for each suggestion to set the score.")}),this.editor.alias(this.textSlot),this.editor.exportable(this.textSlot)},t.prototype.defineCondition=function(){var e=this;(0,a.each)([{mode:"exact",label:(0,a.pgettext)("block:text","Text matches")},{mode:"not-exact",label:(0,a.pgettext)("block:text","Text does not match")},{mode:"contains",label:(0,a.pgettext)("block:text","Text contains")},{mode:"not-contains",label:(0,a.pgettext)("block:text","Text does not contain")},{mode:"starts",label:(0,a.pgettext)("block:text","Text starts with")},{mode:"ends",label:(0,a.pgettext)("block:text","Text ends with")},{mode:"defined",label:(0,a.pgettext)("block:text","Text is not empty")},{mode:"undefined",label:(0,a.pgettext)("block:text","Text is empty")}],(function(t){e.conditions.template({condition:r.TextCondition,label:t.label,autoOpen:"defined"!==t.mode&&"undefined"!==t.mode,props:{slot:e.textSlot,mode:t.mode}})}));var t=this.slots.select("score","feature");if(t&&t.label){var o=this.conditions.group(t.label,d.default,!1,!0);(0,a.each)([{mode:"equal",label:(0,a.pgettext)("block:text","Score is equal to")},{mode:"not-equal",label:(0,a.pgettext)("block:text","Score is not equal to")},{mode:"below",label:(0,a.pgettext)("block:text","Score is lower than")},{mode:"above",label:(0,a.pgettext)("block:text","Score is higher than")},{mode:"between",label:(0,a.pgettext)("block:text","Score is between")},{mode:"not-between",label:(0,a.pgettext)("block:text","Score is not between")},{mode:"defined",label:(0,a.pgettext)("block:text","Score is calculated")},{mode:"undefined",label:(0,a.pgettext)("block:text","Score is not calculated")}],(function(e){o.template({condition:u.ScoreCondition,label:e.label,autoOpen:"defined"!==e.mode&&"undefined"!==e.mode,props:{slot:t,mode:e.mode,value:0,to:"between"===e.mode||"not-between"===e.mode?0:void 0}})}))}},l([a.definition],t.prototype,"autoComplete",void 0),l([a.definition,(0,a.affects)("#label")],t.prototype,"useSuggestions",void 0),l([(0,a.definition)("items"),(0,a.affects)("#label"),(0,a.supplies)("#slot","value",!1,"useSuggestions")],t.prototype,"suggestions",void 0),l([(0,a.definition)("string","optional")],t.prototype,"prefill",void 0),l([(0,a.definition)("number","optional")],t.prototype,"minLength",void 0),l([a.slots],t.prototype,"defineSlot",null),l([a.editor],t.prototype,"defineEditor",null),l([a.conditions],t.prototype,"defineCondition",null),l([(0,a.tripetto)({type:"node",legacyBlock:!0,identifier:"@tripetto/block-text",version:"6.0.2",icon:s.default,get label(){return(0,a.pgettext)("block:text","Text (single line)")}})],t)}(a.NodeBlock);t.Text=p},476:function(e,t,o){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=this&&this.__decorate||function(e,t,o,i){var n,l=arguments.length,a=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(l<3?n(a):l>3?n(t,o,a):n(t,o))||a);return l>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.TextSuggestion=void 0;var a=o(954),r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.name="",t}return n(t,e),t.prototype.defineEditor=function(){this.editor.option({name:(0,a.pgettext)("block:text","Suggestion"),form:{title:(0,a.pgettext)("block:text","Suggestion"),controls:[new a.Forms.Text("singleline",a.Forms.Text.bind(this,"name","")).autoFocus().autoSelect().enter(this.editor.close).escape(this.editor.close)]},locked:!0});var e=this.ref.slots.select("score","feature");this.editor.group((0,a.pgettext)("block:text","Options")),this.editor.option({name:(0,a.pgettext)("block:text","Score"),form:{title:(0,a.pgettext)("block:text","Score"),controls:[new a.Forms.Numeric(a.Forms.Numeric.bind(this,"score",void 0)).precision((null==e?void 0:e.precision)||0).digits((null==e?void 0:e.digits)||0).decimalSign((null==e?void 0:e.decimal)||"").thousands(!!(null==e?void 0:e.separator),(null==e?void 0:e.separator)||"").prefix((null==e?void 0:e.prefix)||"").prefixPlural((null==e?void 0:e.prefixPlural)||void 0).suffix((null==e?void 0:e.suffix)||"").suffixPlural((null==e?void 0:e.suffixPlural)||void 0)]},activated:!0,locked:!!e,disabled:!e})},l([(0,a.definition)("string"),a.name],t.prototype,"name",void 0),l([(0,a.definition)("number","optional"),a.score],t.prototype,"score",void 0),l([a.editor],t.prototype,"defineEditor",null),t}(a.Collection.Item);t.TextSuggestion=r},537:function(e,t,o){o.r(t),t.default="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCI+PHBhdGggZD0iTTE3LjUgNWgtMTVhLjUuNSAwIDAgMSAwLTFoMTVhLjUuNSAwIDAgMSAwIDF6bS00IDNoLTExYS41LjUgMCAwIDEgMC0xaDExYS41LjUgMCAwIDEgMCAxem00IDNoLTE1YS41LjUgMCAwIDEgMC0xaDE1YS41LjUgMCAwIDEgMCAxem0tNCAzaC0xMWEuNS41IDAgMCAxIDAtMWgxMWEuNS41IDAgMCAxIDAgMXptNCAzaC0xNWEuNS41IDAgMCAxIDAtMWgxNWEuNS41IDAgMCAxIDAgMXoiIGNsYXNzPSJ0cmlwZXR0by1maWxsIi8+PC9zdmc+"},939:function(e,t,o){o.r(t),t.default="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCI+PHBhdGggZD0iTTE4LjUgOEgxM1YzLjVhLjUuNSAwIDAgMC0uNS0uNWgtNmEuNS41IDAgMCAwLS41LjVWNkguNWEuNS41IDAgMCAwLS41LjV2MTBhLjUuNSAwIDAgMCAuNS41aDE4YS41LjUgMCAwIDAgLjUtLjV2LThhLjUuNSAwIDAgMC0uNS0uNXpNNyA0aDV2MTJIN1Y0ek0xIDdoNXY5SDFWN3ptMTcgOWgtNVY5aDV2N3oiIGNsYXNzPSJ0cmlwZXR0by1maWxsIi8+PHBhdGggZD0iTTkuNSAxMGEuNS41IDAgMCAxLS41LS41di00YS41LjUgMCAwIDEgMSAwdjRhLjUuNSAwIDAgMS0uNS41em0tNSAzaC0yYS41LjUgMCAwIDEtLjUtLjV2LTJhLjUuNSAwIDAgMSAuNS0uNUg0VjlIMi41YS41LjUgMCAwIDEgMC0xaDJhLjUuNSAwIDAgMSAuNS41djJhLjUuNSAwIDAgMS0uNS41SDN2MWgxLjVhLjUuNSAwIDAgMSAwIDF6bTEyLTNoLTJhLjUuNSAwIDAgMCAwIDFIMTZ2MWgtMS41YS41LjUgMCAwIDAgMCAxSDE2djFoLTEuNWEuNS41IDAgMCAwIDAgMWgyYS41LjUgMCAwIDAgLjUtLjV2LTRhLjUuNSAwIDAgMC0uNS0uNXoiIGNsYXNzPSJ0cmlwZXR0by1maWxsIi8+PC9zdmc+"},701:function(e,t,o){o.r(t),t.default="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbDpzcGFjZT0icHJlc2VydmUiIHdpZHRoPSI1ODAiIGhlaWdodD0iNTgwIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiIgdGV4dC1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiIgaW1hZ2UtcmVuZGVyaW5nPSJvcHRpbWl6ZVF1YWxpdHkiIHZpZXdCb3g9IjAgMCA1ODAwIDU4MDAiPjxwYXRoIGNsYXNzPSJ0cmlwZXR0by1maWxsIiBkPSJNNTAwIDMzMDBoMjAwVjIzMDBINTAwdi0yMDBoNjAwdjIwMEg5MDB2MTAwMGgyMDB2MjAwSDUwMHYtMjAwem01MjAwLTE2MDB2MjIwMEgxMDBWMTcwMGg1NjAwem0tMjAwIDIwMEgzMDB2MTgwMGg1MjAwVjE5MDB6Ii8+PC9zdmc+"},954:function(e){e.exports=o(975)}},i={};function n(e){var o=i[e];if(void 0!==o)return o.exports;var l=i[e]={exports:{}};return t[e].call(l.exports,l,l.exports,n),l.exports}n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var l=n(110);e.exports=l}()},683:function(e,t,o){!function(){"use strict";var t={583:function(e,t,o){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=this&&this.__decorate||function(e,t,o,i){var n,l=arguments.length,a=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(l<3?n(a):l>3?n(t,o,a):n(t,o))||a);return l>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.TextareaCondition=void 0;var a=o(954),r=o(537),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.allowMarkdown=!0,t.mode="exact",t}return n(t,e),Object.defineProperty(t.prototype,"label",{get:function(){return""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){var e,t,o=this;if(this.slot instanceof a.Slots.Text){var i=((0,a.isVariable)(this.match)?(null===(e=(0,a.lookupVariable)(this,this.match))||void 0===e?void 0:e.label)&&"@".concat(this.match):this.match&&((t=(0,a.makeMarkdownSafe)(a.Str.replace(this.match,"\n","↵")))&&("contains"===o.mode||"not-contains"===o.mode||"starts"===o.mode||"ends"===o.mode)&&"_".concat(t,"_")||t))||"\\_\\_";switch(this.mode){case"exact":case"not-exact":return"@".concat(this.slot.id," ").concat("not-exact"===this.mode?"≠":"="," ").concat(i);case"contains":case"not-contains":case"starts":case"ends":return"@".concat(this.slot.id," ").concat("not-contains"===this.mode?(0,a.pgettext)("block:textarea","does not contain"):"starts"===this.mode?(0,a.pgettext)("block:textarea","starts with"):"ends"===this.mode?(0,a.pgettext)("block:textarea","ends with"):(0,a.pgettext)("block:textarea","contains")," ").concat(i);case"defined":return"@".concat(this.slot.id," ").concat((0,a.pgettext)("block:textarea","not empty"));case"undefined":return"@".concat(this.slot.id," ").concat((0,a.pgettext)("block:textarea","empty"))}}return this.type.label},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){var e;return null===(e=this.node)||void 0===e?void 0:e.label},enumerable:!1,configurable:!0}),t.prototype.defineEditor=function(){var e,t=this;this.editor.form({title:(0,a.pgettext)("block:textarea","Compare mode"),controls:[new a.Forms.Radiobutton([{label:(0,a.pgettext)("block:textarea","Text matches"),value:"exact"},{label:(0,a.pgettext)("block:textarea","Text does not match"),value:"not-exact"},{label:(0,a.pgettext)("block:textarea","Text contains"),value:"contains"},{label:(0,a.pgettext)("block:textarea","Text does not contain"),value:"not-contains"},{label:(0,a.pgettext)("block:textarea","Text starts with"),value:"starts"},{label:(0,a.pgettext)("block:textarea","Text ends with"),value:"ends"},{label:(0,a.pgettext)("block:textarea","Text is not empty"),value:"defined"},{label:(0,a.pgettext)("block:textarea","Text is empty"),value:"undefined"}],a.Forms.Radiobutton.bind(this,"mode","exact")).on((function(e){switch(r.visible("defined"!==e.value&&"undefined"!==e.value),e.value){case"exact":r.title=(0,a.pgettext)("block:textarea","If text matches");break;case"not-exact":r.title=(0,a.pgettext)("block:textarea","If text does not match");break;case"contains":r.title=(0,a.pgettext)("block:textarea","If text contains");break;case"not-contains":r.title=(0,a.pgettext)("block:textarea","If text does not contain");break;case"starts":r.title=(0,a.pgettext)("block:textarea","If text starts with");break;case"ends":r.title=(0,a.pgettext)("block:textarea","If text ends with")}n.isInteractable&&n.focus()}))]});var o=this.match&&(0,a.isVariable)(this.match)||!1,i=(0,a.populateVariables)(this,void 0,o?this.match:void 0,!1,null===(e=this.slot)||void 0===e?void 0:e.id),n=new a.Forms.Text("multiline",o?"":this.match).label((0,a.pgettext)("block:textarea","Use fixed text")).action("@",(0,a.insertVariable)(this,"exclude")).autoFocus().enter(this.editor.close).escape(this.editor.close).on((function(e){e.isFormVisible&&e.isObservable&&(t.match=e.value)})),l=new a.Forms.Dropdown(i,o?this.match:"").label((0,a.pgettext)("block:textarea","Use value of")).width("full").on((function(e){e.isFormVisible&&e.isObservable&&(t.match=e.value||void 0)})),r=this.editor.form({title:(0,a.pgettext)("block:textarea","If text matches"),controls:[new a.Forms.Radiobutton([{label:(0,a.pgettext)("block:textarea","Text"),value:"text"},{label:(0,a.pgettext)("block:textarea","Value"),value:"variable",disabled:0===i.length}],o?"variable":"text").on((function(e){n.visible("text"===e.value),l.visible("variable"===e.value),n.isInteractable&&n.focus()})),n,l,new a.Forms.Checkbox((0,a.pgettext)("block:textarea","Ignore case"),a.Forms.Checkbox.bind(this,"ignoreCase",void 0,!0))]}).visible("defined"!==this.mode&&"undefined"!==this.mode)},l([a.definition,(0,a.affects)("#name")],t.prototype,"mode",void 0),l([a.definition,(0,a.affects)("#name")],t.prototype,"match",void 0),l([a.definition],t.prototype,"ignoreCase",void 0),l([a.editor],t.prototype,"defineEditor",null),l([(0,a.tripetto)({type:"condition",legacyBlock:!0,context:"@tripetto/block-textarea",identifier:"@tripetto/block-textarea",version:"6.0.3",icon:r.default,get label(){return(0,a.pgettext)("block:textarea","Text contains")}})],t)}(a.ConditionBlock);t.TextareaCondition=c},110:function(e,t,o){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=this&&this.__decorate||function(e,t,o,i){var n,l=arguments.length,a=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(l<3?n(a):l>3?n(t,o,a):n(t,o))||a);return l>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.Textarea=void 0;var a=o(954),r=o(583),c=o(617),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.defineSlot=function(){this.textareaSlot=this.slots.static({type:a.Slots.Text,reference:"value",label:(0,a.pgettext)("block:textarea","Multi-line text"),exchange:["required","alias","exportable","maxLength","transformation"]})},t.prototype.defineEditor=function(){var e=this;this.editor.name(),this.editor.description(),this.editor.placeholder(),this.editor.explanation(),this.editor.groups.settings();var t=new a.Forms.Numeric(a.Forms.Numeric.bind(this,"minLength",void 0)).min(1).max(this.textareaSlot.maxLength).visible((0,a.isNumber)(this.minLength)).indent(32).width(75).on((function(){o.min(e.minLength||1)})),o=new a.Forms.Numeric(a.Forms.Numeric.bind(this.textareaSlot,"maxLength",void 0)).min(this.minLength||1).visible((0,a.isNumber)(this.textareaSlot.maxLength)).indent(32).width(75).on((function(){t.max(e.textareaSlot.maxLength)}));this.editor.option({name:(0,a.pgettext)("block:textarea","Limits"),form:{title:(0,a.pgettext)("block:textarea","Limits"),controls:[new a.Forms.Checkbox((0,a.pgettext)("block:textarea","Minimum"),(0,a.isNumber)(this.minLength)).on((function(e){t.visible(e.isChecked)})),t,new a.Forms.Checkbox((0,a.pgettext)("block:textarea","Maximum"),(0,a.isNumber)(this.textareaSlot.maxLength)).on((function(e){o.visible(e.isChecked)})),o]},activated:(0,a.isNumber)(this.textareaSlot.maxLength)||(0,a.isNumber)(this.minLength)}),this.editor.transformations(this.textareaSlot),this.editor.groups.options(),this.editor.option({name:(0,a.pgettext)("block:textarea","Prefill"),form:{title:(0,a.pgettext)("block:textarea","Prefill"),controls:[new a.Forms.Text("multiline",a.Forms.Text.bind(this,"prefill",void 0)).label((0,a.pgettext)("block:textarea","Prefill with the following text:"))]},activated:(0,a.isString)(this.prefill)}),this.editor.required(this.textareaSlot),this.editor.visibility(),this.editor.alias(this.textareaSlot),this.editor.exportable(this.textareaSlot)},t.prototype.defineCondition=function(){var e=this;(0,a.each)([{mode:"exact",label:(0,a.pgettext)("block:textarea","Text matches")},{mode:"not-exact",label:(0,a.pgettext)("block:textarea","Text does not match")},{mode:"contains",label:(0,a.pgettext)("block:textarea","Text contains")},{mode:"not-contains",label:(0,a.pgettext)("block:textarea","Text does not contain")},{mode:"starts",label:(0,a.pgettext)("block:textarea","Text starts with")},{mode:"ends",label:(0,a.pgettext)("block:textarea","Text ends with")},{mode:"defined",label:(0,a.pgettext)("block:textarea","Text is not empty")},{mode:"undefined",label:(0,a.pgettext)("block:textarea","Text is empty")}],(function(t){e.conditions.template({condition:r.TextareaCondition,label:t.label,autoOpen:"defined"!==t.mode&&"undefined"!==t.mode,props:{slot:e.textareaSlot,mode:t.mode}})}))},l([(0,a.definition)("string","optional")],t.prototype,"prefill",void 0),l([(0,a.definition)("number","optional")],t.prototype,"minLength",void 0),l([a.slots],t.prototype,"defineSlot",null),l([a.editor],t.prototype,"defineEditor",null),l([a.conditions],t.prototype,"defineCondition",null),l([(0,a.tripetto)({type:"node",legacyBlock:!0,identifier:"@tripetto/block-textarea",version:"6.0.3",icon:c.default,get label(){return(0,a.pgettext)("block:textarea","Text (multiple lines)")}})],t)}(a.NodeBlock);t.Textarea=u},537:function(e,t,o){o.r(t),t.default="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCI+PHBhdGggZD0iTTE3LjUgNWgtMTVhLjUuNSAwIDAgMSAwLTFoMTVhLjUuNSAwIDAgMSAwIDF6bS00IDNoLTExYS41LjUgMCAwIDEgMC0xaDExYS41LjUgMCAwIDEgMCAxem00IDNoLTE1YS41LjUgMCAwIDEgMC0xaDE1YS41LjUgMCAwIDEgMCAxem0tNCAzaC0xMWEuNS41IDAgMCAxIDAtMWgxMWEuNS41IDAgMCAxIDAgMXptNCAzaC0xNWEuNS41IDAgMCAxIDAtMWgxNWEuNS41IDAgMCAxIDAgMXoiIGNsYXNzPSJ0cmlwZXR0by1maWxsIi8+PC9zdmc+"},617:function(e,t,o){o.r(t),t.default="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCI+PHBhdGggZD0iTTE3LjUgNWgtMTVhLjUuNSAwIDAgMSAwLTFoMTVhLjUuNSAwIDAgMSAwIDF6bTAgMTJoLTE1YS41LjUgMCAwIDEgMC0xaDE1YS41LjUgMCAwIDEgMCAxem0tMi05aC0xM2EuNS41IDAgMCAwIDAgMWgxM2MuODI3IDAgMS41LjY3MyAxLjUgMS41cy0uNjczIDEuNS0xLjUgMS41aC01LjI5M2wxLjE0Ni0xLjE0NmEuNS41IDAgMCAwLS43MDctLjcwN2wtMiAyYS41LjUgMCAwIDAgMCAuNzA3bDIgMmEuNDk4LjQ5OCAwIDAgMCAuNzA4IDAgLjUuNSAwIDAgMCAwLS43MDdsLTEuMTQ2LTEuMTQ2aDUuMjkzYzEuMzc4IDAgMi41LTEuMTIyIDIuNS0yLjVzLTEuMTIyLTIuNS0yLjUtMi41eiIgY2xhc3M9InRyaXBldHRvLWZpbGwiLz48cGF0aCBkPSJNNi41IDEzaC00YS41LjUgMCAwIDEgMC0xaDRhLjUuNSAwIDAgMSAwIDF6IiBjbGFzcz0idHJpcGV0dG8tZmlsbCIvPjwvc3ZnPg=="},954:function(e){e.exports=o(975)}},i={};function n(e){var o=i[e];if(void 0!==o)return o.exports;var l=i[e]={exports:{}};return t[e].call(l.exports,l,l.exports,n),l.exports}n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var l=n(110);e.exports=l}()},138:function(e,t,o){!function(){"use strict";var t={583:function(e,t,o){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=this&&this.__decorate||function(e,t,o,i){var n,l=arguments.length,a=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(l<3?n(a):l>3?n(t,o,a):n(t,o))||a);return l>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.URLCondition=void 0;var a=o(954),r=o(617),c=o(513),u=o(626),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mode="defined",t}return n(t,e),Object.defineProperty(t.prototype,"icon",{get:function(){return"defined"===this.mode?c.default:u.default},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"label",{get:function(){return""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){if(this.slot)switch(this.mode){case"defined":return"@".concat(this.slot.id," ").concat((0,a.pgettext)("block:url","not empty"));case"undefined":return"@".concat(this.slot.id," ").concat((0,a.pgettext)("block:url","empty"))}return this.type.label},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){var e;return null===(e=this.node)||void 0===e?void 0:e.label},enumerable:!1,configurable:!0}),t.prototype.defineEditor=function(){this.editor.form({title:(0,a.pgettext)("block:url","When URL:"),controls:[new a.Forms.Radiobutton([{label:(0,a.pgettext)("block:url","Is not empty"),value:"defined"},{label:(0,a.pgettext)("block:url","Is empty"),value:"undefined"}],a.Forms.Radiobutton.bind(this,"mode","defined"))]})},l([a.definition,(0,a.affects)("#name")],t.prototype,"mode",void 0),l([a.editor],t.prototype,"defineEditor",null),l([(0,a.tripetto)({type:"condition",legacyBlock:!0,context:"@tripetto/block-url",identifier:"@tripetto/block-url",version:"6.0.2",icon:r.default,get label(){return(0,a.pgettext)("block:url","Verify URL")}})],t)}(a.ConditionBlock);t.URLCondition=s},110:function(e,t,o){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=this&&this.__decorate||function(e,t,o,i){var n,l=arguments.length,a=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(l<3?n(a):l>3?n(t,o,a):n(t,o))||a);return l>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.URL=void 0;var a=o(954),r=o(583),c=o(617),u=o(513),s=o(626),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}var o;return n(t,e),o=t,t.prototype.defineSlot=function(){this.urlSlot=this.slots.static({type:a.Slots.String,reference:"url",label:o.label,exchange:["required","alias","exportable"]})},t.prototype.defineEditor=function(){this.editor.name(),this.editor.description(),this.editor.placeholder(),this.editor.explanation(),this.editor.groups.options(),this.editor.required(this.urlSlot),this.editor.visibility(),this.editor.alias(this.urlSlot),this.editor.exportable(this.urlSlot)},t.prototype.defineCondition=function(){var e=this;(0,a.each)([{mode:"defined",label:(0,a.pgettext)("block:url","URL is not empty"),icon:u.default},{mode:"undefined",label:(0,a.pgettext)("block:url","URL is empty"),icon:s.default}],(function(t){e.conditions.template({condition:r.URLCondition,label:t.label,icon:t.icon,burst:!0,props:{slot:e.urlSlot,mode:t.mode}})}))},l([a.slots],t.prototype,"defineSlot",null),l([a.editor],t.prototype,"defineEditor",null),l([a.conditions],t.prototype,"defineCondition",null),o=l([(0,a.tripetto)({type:"node",legacyBlock:!0,identifier:"@tripetto/block-url",version:"6.0.2",icon:c.default,get label(){return(0,a.pgettext)("block:url","URL")}})],t)}(a.NodeBlock);t.URL=d},513:function(e,t,o){o.r(t),t.default="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCI+PHBhdGggZD0iTTEwLjY4MiAxMi45OThhMy42NzEgMy42NzEgMCAwIDEtMi42MDQtMS4wNzcuNS41IDAgMCAxIC43MDctLjcwNyAyLjY4NSAyLjY4NSAwIDAgMCAzLjc5MyAwbDMuNjM2LTMuNjM2YzEuMDQ2LTEuMDQ2IDEuMDQ2LTIuNzQ3IDAtMy43OTNzLTIuNzQ3LTEuMDQ2LTMuNzkzIDBMOS4zNTMgNi44NTNhLjUuNSAwIDAgMS0uNzA3LS43MDdsMy4wNjgtMy4wNjhjMS40MzYtMS40MzYgMy43NzItMS40MzYgNS4yMDcgMHMxLjQzNiAzLjc3MiAwIDUuMjA3bC0zLjYzNiAzLjYzNmEzLjY3MSAzLjY3MSAwIDAgMS0yLjYwNCAxLjA3N3oiIGNsYXNzPSJ0cmlwZXR0by1maWxsIi8+PHBhdGggZD0iTTQuNjgyIDE4Ljk5OGEzLjY3MSAzLjY3MSAwIDAgMS0yLjYwNC0xLjA3NyAzLjY4NSAzLjY4NSAwIDAgMSAwLTUuMjA3bDMuNjM2LTMuNjM2YTMuNjg1IDMuNjg1IDAgMCAxIDUuMjA3IDAgLjUuNSAwIDAgMS0uNzA3LjcwNyAyLjY4NSAyLjY4NSAwIDAgMC0zLjc5MyAwbC0zLjYzNiAzLjYzNmMtMS4wNDYgMS4wNDYtMS4wNDYgMi43NDcgMCAzLjc5M3MyLjc0NyAxLjA0NiAzLjc5MyAwbDMuMDY4LTMuMDY4YS41LjUgMCAwIDEgLjcwNy43MDdsLTMuMDY4IDMuMDY4YTMuNjcxIDMuNjcxIDAgMCAxLTIuNjA0IDEuMDc3eiIgY2xhc3M9InRyaXBldHRvLWZpbGwiLz48L3N2Zz4="},626:function(e,t,o){o.r(t),t.default="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCI+PHBhdGggZD0iTTEzLjUgMTEuNWEuNS41IDAgMCAxLS4zNTQtLjg1M2wzLjA2OC0zLjA2OGMuNTA3LS41MDcuNzg2LTEuMTguNzg2LTEuODk2cy0uMjc5LTEuMzktLjc4Ni0xLjg5NmEyLjY4NSAyLjY4NSAwIDAgMC0zLjc5MyAwTDkuMzUzIDYuODU1YS41LjUgMCAwIDEtLjcwNy0uNzA3bDMuMDY4LTMuMDY4YTMuNjg1IDMuNjg1IDAgMCAxIDUuMjA3IDBjLjY5NS42OTUgMS4wNzggMS42MiAxLjA3OCAyLjYwNHMtLjM4MyAxLjkwOC0xLjA3OCAyLjYwNGwtMy4wNjggMy4wNjhhLjUuNSAwIDAgMS0uMzU0LjE0N3pNNC42ODIgMTlhMy42NjIgMy42NjIgMCAwIDEtMi42MDQtMS4wNzggMy42ODUgMy42ODUgMCAwIDEgMC01LjIwN2wzLjA2OC0zLjA2OGEuNS41IDAgMCAxIC43MDcuNzA3bC0zLjA2OCAzLjA2OGEyLjY4NSAyLjY4NSAwIDAgMCAxLjg5NiA0LjU3OWMuNzE2IDAgMS4zOS0uMjc5IDEuODk2LS43ODZsMy4wNjgtMy4wNjhhLjUuNSAwIDAgMSAuNzA3LjcwN2wtMy4wNjggMy4wNjhBMy42NTkgMy42NTkgMCAwIDEgNC42OCAxOXpNNS41IDdhLjUwMi41MDIgMCAwIDEtLjM1NC0uMTQ2bC0yLTJhLjUuNSAwIDAgMSAuNzA3LS43MDdsMiAyQS41LjUgMCAwIDEgNS40OTkgN3ptMi0xYS41LjUgMCAwIDEtLjUtLjV2LTNhLjUuNSAwIDAgMSAxIDB2M2EuNS41IDAgMCAxLS41LjV6bS0zIDNoLTNhLjUuNSAwIDAgMSAwLTFoM2EuNS41IDAgMCAxIDAgMXptMTEgOGEuNTAyLjUwMiAwIDAgMS0uMzU0LS4xNDZsLTItMmEuNS41IDAgMCAxIC43MDctLjcwN2wyIDJhLjUuNSAwIDAgMS0uMzU0Ljg1M3ptMi00aC0zYS41LjUgMCAwIDEgMC0xaDNhLjUuNSAwIDAgMSAwIDF6bS02IDZhLjUuNSAwIDAgMS0uNS0uNXYtM2EuNS41IDAgMCAxIDEgMHYzYS41LjUgMCAwIDEtLjUuNXoiIGNsYXNzPSJ0cmlwZXR0by1maWxsIi8+PC9zdmc+"},617:function(e,t,o){o.r(t),t.default="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbDpzcGFjZT0icHJlc2VydmUiIHdpZHRoPSI1ODAiIGhlaWdodD0iNTgwIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiIgdGV4dC1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiIgaW1hZ2UtcmVuZGVyaW5nPSJvcHRpbWl6ZVF1YWxpdHkiIHZpZXdCb3g9IjAgMCA1ODAwIDU4MDAiPjxwYXRoIGNsYXNzPSJ0cmlwZXR0by1maWxsIiBkPSJNNTEwMCAyNzAwYzAgMzU3LTc4IDY5NS0yMTggMTAwMGgtMjIyYzE1NC0zMDAgMjQwLTY0MCAyNDAtMTAwMCAwLTE1Mi0xNS0zMDAtNDQtNDQyLTEgMC0zIDAtNCAxLTM4IDExLTQxIDEzMS04MyAyMDAtMzQgNTYtMTEwIDYzLTEyMiA3OS04MSAxMTAgMTIwIDE5OCAyIDM1MC0zNjIgNDY0LTE1NSA0MDAtMjM3IDY0My0xIDYtNDggODktOTggMTc2LTIyOCAyOS00MzIgMTMzLTU4NyAyODgtMjIgMjItNDIgNDUtNjIgNjgtNDMtMTM0LTkwLTI5MC04OS0yOTggMTUtMTEyIDY1LTEzNiA2OC0yNjQgMi04NS05Ni0yMTktMTA5LTI5NC00MC0yMTMtMTYtNzQtMTAzLTIyNS00OS04Ni01Ni0xMzEtMTczLTkxLTEwNCAzNi0yNTcgMTEzLTM0MSA3OS0xNjUtNjYtMzI1LTIzMi0zNjAtNDA3LTMtMTggMjMtMjQxIDI3LTI4OSA1LTcyIDM5LTE0MCA3OC0xOTYgNTUtNzcgMTY2LTE0OSAxODUtMTgyIDE1MS0yNjggMTU0LTk3IDQyNi0xOTQgNjQtMjMgMjIwLTI2IDI1NC0xNCAxNzEgNTkgMTAwIDI0NyAyNzYgMjc2IDIwIDMgMTYzLTQgMTg0IDAgMTA4IDE5IDE1OSA1NiAyNTMgOCA1Ny0yOCA3OC0xMjUgMzYtMTcxLTEwNS0xMTMtMzQ5LTU3LTM4Ni05OS0zMC0zMy04Mi0xMzgtMTIxLTE5My00MS01OS0xNjYtMzUtMTQ2LTggNjUgODUgMTU5IDk5IDE3MSAxNDYgMTMgNTEtMTIxIDExOS04NSAyNiAxOS00OS03OC04MC0xODktMTM4LTU5LTMwLTExNi0xMDgtMjA0LTY2LTQzIDIxLTEyNiAxMjMtMTU5IDE3MS01NiA4My0xODMgNjEtMjY5IDE5LTg0LTQwLTg2LTI0MiAyNC0zMzAgMTA1LTg0IDE5MS0zMyAyOTMtNjIgNDItMTEgNjMtNTYgMTI2LTk4IDc0LTQ5LTQ2LTEyNy02LTIwNiAzMi02NSAxNDEtNzggMTk4LTEwNiA1NC0yNyAxMjktMTI0IDE4OC04OSA4MSA0OCAxNTUgMTA1IDIzNiAxNTQgNTQgMzMgMTAxIDYwIDE0OCA3Ny0xNDAtMTE1LTI5NS0yMTMtNDYwLTI5MS0yMjEtMTA0LTQ2Mi0xNzItNzE3LTE5NyAyIDIxLTggNDEtMzggNTgtNDkgMjktNzggMTI0LTIzOCAxODMtMTE5IDQzLTIyNyAxNi0zNDUgNjctMTIzIDUyLTIyOCAxNTktMjk4IDE3Ni0xMTIgMjUgNTItMjU1IDIwLTI5OC0yMy0zMS0xMTUtMjctMjExLTktODIgMzYtMTYyIDc4LTIzOCAxMjQgMzMgMzYgMTI5IDY5IDEyOSA3MyA0IDQyLTEyOCAzOC0xNTQgMTY2LTEyIDU5IDEwOCAyNDAgNTIgMzAwLTEyMCAxMjgtMTI3LTY4LTIzMC0xMy02MyAzNC0zOCAxNzMtNzkgMTc5LTE0MSAyMC0yMzMgMTI3LTMzOSAyMTAtNDEgMzItODAgMjExLTE2MCAyNjctODUgNjAtMTgxIDExOS0yMjEgMTU3LTE4IDY4LTMyIDEzOC00MyAyMDkgMjEgMTQ1IDExMyAyODAgMTQ0IDMwNyA3NiA2OCAxMzctMjUgMjIyIDEgMTM2IDQyIDE5MiAxNTcgMjczIDIwMCAzMzIgMTc1IDE1MCAxOTggMjg4IDI4MCAxMDggNjUgNDA1IDE1NSA0MzEgMjA1IDU4IDExMi00MiAxNzYtNzIgMjkzLTE0IDUxIDMgMTIzIDMgMTgyLTgxIDQ1LTE1NSAxMDItMjIwIDE2Ny0xNzAgMTcwLTI4MCA0MDAtMjkzIDY1NkM2NzMgNDE5OSAzMDAgMzQ3NyAzMDAgMjcwMGMwLTEzMjUgMTA3NS0yNDAwIDI0MDAtMjQwMCAxMzM4IDAgMjQwMCAxMDg4IDI0MDAgMjQwMHpNMTIxNyA0MzI1Yy03OS05Mi0xNDctMTgyLTE3My0yNDUtNDgtMTE1LTMzLTM0NC05MC00MDgtMTE3LTEzMy0yNDItMzA1LTI2My00NDAtMjAtMTI0LTMzLTI0MC0yMi0zNDMgMy0zMy04MS0xNzUtMTY3LTI4OS0xIDMzLTIgNjYtMiAxMDAgMCA2MDggMjQ2IDExNTggNjQ0IDE1NTYgMjQgMjMgNDggNDcgNzMgNjl6Ii8+PHBhdGggY2xhc3M9InRyaXBldHRvLWZpbGwiIGQ9Ik00MzMyIDQ3MDBjNTUgMCAxMDAgNDUgMTAwIDEwMHMtNDUgMTAwLTEwMCAxMDBIMjg2NWMtNTUgMC0xMDAtNDUtMTAwLTEwMHM0NS0xMDAgMTAwLTEwMGgxNDY3em0tMTAwMSA0MDBjLTg3IDIzOC0zMTUgNDAwLTU3MCA0MDBoLTQ1NWMtMzM0IDAtNjA2LTI3Mi02MDYtNjA2di0xODhjMC0zMzQgMjcyLTYwNiA2MDYtNjA2aDQ1NWMyNTUgMCA0ODMgMTYxIDU3MCA0MDBoLTIyMWMtNzMtMTIzLTIwNS0yMDAtMzQ5LTIwMGgtNDU1Yy0yMjMgMC00MDYgMTgzLTQwNiA0MDZ2MTg4YzAgMjIzIDE4MyA0MDYgNDA2IDQwNmg0NTVjMTQ0IDAgMjc2LTc3IDM0OS0yMDBoMjIxem0yMTY4LTM5NHYxODhjMCAzMzQtMjcyIDYwNi02MDYgNjA2aC00NTVjLTE2NyAwLTMxOC02OC00MjgtMTc4LTYyLTYyLTExMS0xMzgtMTQyLTIyMmgyMjFjNzMgMTIzIDIwNSAyMDAgMzQ5IDIwMGg0NTVjMjIzIDAgNDA2LTE4MyA0MDYtNDA2di0xODhjMC0yMjMtMTgzLTQwNi00MDYtNDA2aC00NTVjLTE0NCAwLTI3NiA3Ny0zNDkgMjAwaC0yMjFjODctMjM5IDMxNS00MDAgNTcwLTQwMGg0NTVjMzM0IDAgNjA2IDI3MiA2MDYgNjA2eiIvPjwvc3ZnPg=="},954:function(e){e.exports=o(975)}},i={};function n(e){var o=i[e];if(void 0!==o)return o.exports;var l=i[e]={exports:{}};return t[e].call(l.exports,l,l.exports,n),l.exports}n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var l=n(110);e.exports=l}()},213:function(e,t,o){!function(){"use strict";var t={452:function(e,t,o){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=this&&this.__decorate||function(e,t,o,i){var n,l=arguments.length,a=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(l<3?n(a):l>3?n(t,o,a):n(t,o))||a);return l>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.VariableBooleanCondition=void 0;var a=o(954),r=o(982),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.allowMarkdown=!0,t.mode="true",t}return n(t,e),Object.defineProperty(t.prototype,"label",{get:function(){return""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){var e,t=this.slot;if(t instanceof a.Slots.Boolean)switch(this.mode){case"true":return"@".concat(t.id," = ").concat((0,a.makeMarkdownSafe)(t.labelForTrue||"")||(0,a.pgettext)("block:variable","True"));case"false":return"@".concat(t.id," = ").concat((0,a.makeMarkdownSafe)(t.labelForFalse||"")||(0,a.pgettext)("block:variable","False"));case"equal":case"not-equal":return"@".concat(t.id," ").concat("not-equal"===this.mode?"≠":"="," ").concat((0,a.isVariable)(this.value)&&(null===(e=(0,a.lookupVariable)(this,this.value))||void 0===e?void 0:e.label)?"@".concat(this.value):"\\_\\_");case"defined":return"@".concat(t.id," ").concat((0,a.pgettext)("block:variable","not empty"));case"undefined":return"@".concat(t.id," ").concat((0,a.pgettext)("block:variable","empty"))}return this.type.label},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){var e;return null===(e=this.node)||void 0===e?void 0:e.label},enumerable:!1,configurable:!0}),t.prototype.defineEditor=function(){var e,t=this;this.editor.form({title:(0,a.pgettext)("block:variable","Compare mode"),controls:[new a.Forms.Radiobutton([{label:this.slot instanceof a.Slots.Boolean&&this.slot.labelForTrue||(0,a.pgettext)("block:variable","Is true"),value:"true"},{label:this.slot instanceof a.Slots.Boolean&&this.slot.labelForFalse||(0,a.pgettext)("block:variable","Is false"),value:"false"},{label:(0,a.pgettext)("block:variable","Equals another variable"),value:"equal"},{label:(0,a.pgettext)("block:variable","Not equals another variable"),value:"not-equal"},{label:(0,a.pgettext)("block:variable","Is not empty"),value:"defined"},{label:(0,a.pgettext)("block:variable","Is empty"),value:"undefined"}],a.Forms.Radiobutton.bind(this,"mode","true")).on((function(e){switch("equal"!==e.value&&"not-equal"!==e.value&&(t.value=void 0),l.visible("equal"===e.value||"not-equal"===e.value),e.value){case"equal":l.title=(0,a.pgettext)("block:variable","If value matches");break;case"not-equal":l.title=(0,a.pgettext)("block:variable","If value does not match")}}))]});var o=this.value&&(0,a.isVariable)(this.value)||!1,i=(0,a.populateVariables)(this,(function(e,t){return!t&&e instanceof a.Slots.Boolean}),o?this.value:void 0,!1,null===(e=this.slot)||void 0===e?void 0:e.id),n=new a.Forms.Dropdown(i,o?this.value:"").width("full").on((function(e){e.isFormVisible&&e.isObservable&&(t.value=e.value||void 0)})),l=this.editor.form({title:(0,a.pgettext)("block:variable","If value matches"),controls:[n]}).visible("equal"===this.mode||"not-equal"===this.mode)},l([a.definition,(0,a.affects)("#name")],t.prototype,"mode",void 0),l([a.definition,(0,a.affects)("#name")],t.prototype,"value",void 0),l([a.editor],t.prototype,"defineEditor",null),l([(0,a.tripetto)({type:"condition",legacyBlock:!0,context:"@tripetto/block-variable",identifier:"".concat("@tripetto/block-variable",":boolean"),version:"3.0.3",icon:r.default,get label(){return(0,a.pgettext)("block:variable","Verify value")}})],t)}(a.ConditionBlock);t.VariableBooleanCondition=c},737:function(e,t,o){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=this&&this.__decorate||function(e,t,o,i){var n,l=arguments.length,a=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(l<3?n(a):l>3?n(t,o,a):n(t,o))||a);return l>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.VariableDateCondition=void 0;var a=o(954),r=o(257),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.allowMarkdown=!0,t.mode="equal",t}return n(t,e),Object.defineProperty(t.prototype,"label",{get:function(){return""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){var e=this.slot;if(e instanceof a.Slots.Date){var t=this.parse(e,this.value);switch(this.mode){case"between":return"".concat(t," ≤ @").concat(e.id," ≤ ").concat(this.parse(e,this.to));case"not-between":return"@".concat(e.id," < ").concat(t," ").concat((0,a.pgettext)("block:variable","or")," @").concat(e.id," > ").concat(this.parse(e,this.to));case"defined":return"@".concat(e.id," ").concat((0,a.pgettext)("block:variable","not empty"));case"undefined":return"@".concat(e.id," ").concat((0,a.pgettext)("block:variable","empty"));case"before":case"after":case"equal":case"not-equal":return"@".concat(e.id," ").concat("after"===this.mode?">":"before"===this.mode?"<":"not-equal"===this.mode?"≠":"="," ").concat(t)}}return this.type.label},enumerable:!1,configurable:!0}),t.prototype.parse=function(e,t){var o;return(0,a.isNumberFinite)(t)?e.supportsTime?a.L10n.locale.dateTimeShort(e.toValue(t),!0):a.L10n.locale.dateShort(e.toValue(t),!0):(0,a.isString)(t)?t&&(null===(o=(0,a.lookupVariable)(this,t))||void 0===o?void 0:o.label)?"@".concat(t):"\\_\\_":"`"+(0,a.pgettext)("block:variable","Now").toUpperCase()+"`"},t.prototype.defineEditor=function(){var e=this,t=this.slot instanceof a.Slots.Date&&this.slot.supportsTime;this.editor.form({title:(0,a.pgettext)("block:variable","Compare mode"),controls:[new a.Forms.Radiobutton([{label:(0,a.pgettext)("block:variable","Date is equal to"),value:"equal"},{label:(0,a.pgettext)("block:variable","Date is not equal to"),value:"not-equal"},{label:(0,a.pgettext)("block:variable","Date is before"),value:"before"},{label:(0,a.pgettext)("block:variable","Date is after"),value:"after"},{label:(0,a.pgettext)("block:variable","Date is between"),value:"between"},{label:(0,a.pgettext)("block:variable","Date is not between"),value:"not-between"},{label:(0,a.pgettext)("block:variable","Date is not empty"),value:"defined"},{label:(0,a.pgettext)("block:variable","Date is empty"),value:"undefined"}],a.Forms.Radiobutton.bind(this,"mode","equal")).on((function(e){switch(i.visible("defined"!==e.value&&"undefined"!==e.value),n.visible("between"===e.value||"not-between"===e.value),e.value){case"equal":i.title=(0,a.pgettext)("block:variable","If date equals");break;case"not-equal":i.title=(0,a.pgettext)("block:variable","If date not equals");break;case"before":i.title=(0,a.pgettext)("block:variable","If date is before");break;case"after":i.title=(0,a.pgettext)("block:variable","If date is after");break;case"between":i.title=(0,a.pgettext)("block:variable","If date is between");break;case"not-between":i.title=(0,a.pgettext)("block:variable","If date is not between")}}))]});var o=function(o,i,n){var l,r=e[o],c=(0,a.populateVariables)(e,(function(e){return e instanceof a.Slots.Date}),(0,a.isString)(r)?r:void 0,!0,null===(l=e.slot)||void 0===l?void 0:l.id),u=new a.Forms.DateTime((0,a.isNumberFinite)(r)?r:a.DateTime.UTCToday+("to"===o?86399999:0)).label(t?(0,a.pgettext)("block:variable","Use fixed date/time"):(0,a.pgettext)("block:variable","Use fixed date")).features(1|(t?8:32)).years((new Date).getFullYear()-150,(new Date).getFullYear()+50).zone("UTC").width("full").required().on((function(t){t.isFormVisible&&t.isObservable&&(e[o]=t.value)})),s=new a.Forms.Dropdown(c,(0,a.isString)(r)?r:"").label((0,a.pgettext)("block:variable","Use value of")).width("full").on((function(t){t.isFormVisible&&t.isObservable&&(e[o]=t.value||"")}));return e.editor.form({title:i,controls:[new a.Forms.Radiobutton([{label:t?(0,a.pgettext)("block:variable","Current date/time"):(0,a.pgettext)("block:variable","Current date"),value:"current"},{label:t?(0,a.pgettext)("block:variable","Fixed date/time"):(0,a.pgettext)("block:variable","Fixed date"),value:"date"},{label:(0,a.pgettext)("block:variable","Value"),value:"variable",disabled:0===c.length}],(0,a.isString)(r)?"variable":(0,a.isNumberFinite)(r)?"date":"current").on((function(t){u.visible("date"===t.value),s.visible("variable"===t.value),"current"===t.value&&(e[o]=void 0)})),u,s]}).visible(n)},i=o("value",(0,a.pgettext)("block:variable","If date equals"),"defined"!==this.mode&&"undefined"!==this.mode),n=o("to",(0,a.pgettext)("block:variable","And"),"between"===this.mode||"not-between"===this.mode)},l([a.definition,(0,a.affects)("#name")],t.prototype,"mode",void 0),l([a.definition,(0,a.affects)("#name")],t.prototype,"value",void 0),l([a.definition,(0,a.affects)("#name")],t.prototype,"to",void 0),l([a.editor],t.prototype,"defineEditor",null),l([(0,a.tripetto)({type:"condition",legacyBlock:!0,context:"@tripetto/block-variable",identifier:"".concat("@tripetto/block-variable",":date"),version:"3.0.3",icon:r.default,get label(){return(0,a.pgettext)("block:variable","Verify date")}})],t)}(a.ConditionBlock);t.VariableDateCondition=c},226:function(e,t,o){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=this&&this.__decorate||function(e,t,o,i){var n,l=arguments.length,a=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(l<3?n(a):l>3?n(t,o,a):n(t,o))||a);return l>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.VariableNumericCondition=void 0;var a=o(954),r=o(953),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.allowMarkdown=!0,t.mode="equal",t}return n(t,e),Object.defineProperty(t.prototype,"label",{get:function(){return""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){var e=this.slot;if(e instanceof a.Slots.Numeric){var t=this.parse(e,this.value);switch(this.mode){case"between":return"".concat(t," ≤ @").concat(e.id," ≤ ").concat(this.parse(e,this.to));case"not-between":return"@".concat(e.id," < ").concat(t," ").concat((0,a.pgettext)("block:variable","or")," @").concat(e.id," > ").concat(this.parse(e,this.to));case"defined":return"@".concat(e.id," ").concat((0,a.pgettext)("block:variable","not empty"));case"undefined":return"@".concat(e.id," ").concat((0,a.pgettext)("block:variable","empty"));case"not-equal":return"@".concat(e.id," ≠ ").concat(t);case"above":case"below":case"equal":return"@".concat(e.id," ").concat("above"===this.mode?">":"below"===this.mode?"<":"="," ").concat(t)}}return this.type.label},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){var e;return null===(e=this.node)||void 0===e?void 0:e.label},enumerable:!1,configurable:!0}),t.prototype.parse=function(e,t){var o;return(0,a.isNumberFinite)(t)?e.toString(t,(function(e,t){return a.L10n.locale.number(e,t,!1)})):(0,a.isString)(t)&&t&&(null===(o=(0,a.lookupVariable)(this,t))||void 0===o?void 0:o.label)?"@"+t:"\\_\\_"},t.prototype.defineEditor=function(){var e=this;this.editor.form({title:(0,a.pgettext)("block:variable","Compare mode"),controls:[new a.Forms.Radiobutton([{label:(0,a.pgettext)("block:variable","Number is equal to"),value:"equal"},{label:(0,a.pgettext)("block:variable","Number is not equal to"),value:"not-equal"},{label:(0,a.pgettext)("block:variable","Number is lower than"),value:"below"},{label:(0,a.pgettext)("block:variable","Number is higher than"),value:"above"},{label:(0,a.pgettext)("block:variable","Number is between"),value:"between"},{label:(0,a.pgettext)("block:variable","Number is not between"),value:"not-between"},{label:(0,a.pgettext)("block:variable","Number is not empty"),value:"defined"},{label:(0,a.pgettext)("block:variable","Number is empty"),value:"undefined"}],a.Forms.Radiobutton.bind(this,"mode","equal")).on((function(e){switch(o.visible("defined"!==e.value&&"undefined"!==e.value),i.visible("between"===e.value||"not-between"===e.value),e.value){case"equal":o.title=(0,a.pgettext)("block:variable","If number equals");break;case"not-equal":o.title=(0,a.pgettext)("block:variable","If number not equals");break;case"below":o.title=(0,a.pgettext)("block:variable","If number is lower than");break;case"above":o.title=(0,a.pgettext)("block:variable","If number is higher than");break;case"between":o.title=(0,a.pgettext)("block:variable","If number is between");break;case"not-between":o.title=(0,a.pgettext)("block:variable","If number is not between")}}))]});var t=function(t,o,i){var n,l=e[t],r=e.slot,c=new a.Forms.Numeric((0,a.isNumberFinite)(l)?l:0).label((0,a.pgettext)("block:variable","Use fixed number")).precision((null==r?void 0:r.precision)||0).digits((null==r?void 0:r.digits)||0).decimalSign((null==r?void 0:r.decimal)||"").thousands(!!(null==r?void 0:r.separator),(null==r?void 0:r.separator)||"").prefix((null==r?void 0:r.prefix)||"").prefixPlural((null==r?void 0:r.prefixPlural)||void 0).suffix((null==r?void 0:r.suffix)||"").suffixPlural((null==r?void 0:r.suffixPlural)||void 0).min(null==r?void 0:r.minimum).max(null==r?void 0:r.maximum).autoFocus("value"===t).escape(e.editor.close).enter((function(){return("between"!==e.mode&&"not-between"!==e.mode||"to"===t)&&e.editor.close()})).on((function(o){o.isFormVisible&&o.isObservable&&(e[t]=o.value)})),u=(0,a.populateVariables)(e,(function(e){return e instanceof a.Slots.Number||e instanceof a.Slots.Numeric}),(0,a.isString)(l)?l:void 0,!1,null===(n=e.slot)||void 0===n?void 0:n.id),s=new a.Forms.Dropdown(u,(0,a.isString)(l)?l:"").label((0,a.pgettext)("block:variable","Use value of")).width("full").on((function(o){o.isFormVisible&&o.isObservable&&(e[t]=o.value||"")}));return e.editor.form({title:o,controls:[new a.Forms.Radiobutton([{label:(0,a.pgettext)("block:variable","Number"),value:"number"},{label:(0,a.pgettext)("block:variable","Value"),value:"variable",disabled:0===u.length}],(0,a.isString)(l)?"variable":"number").on((function(e){c.visible("number"===e.value),s.visible("variable"===e.value),c.isObservable&&c.focus()})),c,s]}).visible(i)},o=t("value",(0,a.pgettext)("block:variable","If number equals"),"defined"!==this.mode&&"undefined"!==this.mode),i=t("to",(0,a.pgettext)("block:variable","And"),"between"===this.mode||"not-between"===this.mode)},l([a.definition,(0,a.affects)("#name")],t.prototype,"mode",void 0),l([a.definition,(0,a.affects)("#name")],t.prototype,"value",void 0),l([a.definition,(0,a.affects)("#name")],t.prototype,"to",void 0),l([a.editor],t.prototype,"defineEditor",null),l([(0,a.tripetto)({type:"condition",legacyBlock:!0,context:"@tripetto/block-variable",identifier:"".concat("@tripetto/block-variable",":numeric"),version:"3.0.3",icon:r.default,get label(){return(0,a.pgettext)("block:variable","Verify number")}})],t)}(a.ConditionBlock);t.VariableNumericCondition=c},789:function(e,t,o){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=this&&this.__decorate||function(e,t,o,i){var n,l=arguments.length,a=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(l<3?n(a):l>3?n(t,o,a):n(t,o))||a);return l>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.VariableTextCondition=void 0;var a=o(954),r=o(701),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.allowMarkdown=!0,t.mode="exact",t}return n(t,e),Object.defineProperty(t.prototype,"label",{get:function(){return""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){var e,t,o=this,i=this.slot;if(i instanceof a.Slots.Text){var n=((0,a.isVariable)(this.match)?(null===(e=(0,a.lookupVariable)(this,this.match))||void 0===e?void 0:e.label)&&"@".concat(this.match):this.match&&((t=(0,a.makeMarkdownSafe)(a.Str.replace(this.match,"\n","↵")))&&("contains"===o.mode||"not-contains"===o.mode||"starts"===o.mode||"ends"===o.mode)&&"_".concat(t,"_")||t))||"\\_\\_";switch(this.mode){case"exact":case"not-exact":return"@".concat(i.id," ").concat("not-exact"===this.mode?"≠":"="," ").concat(n);case"contains":case"not-contains":case"starts":case"ends":return"@".concat(i.id," ").concat("not-contains"===this.mode?(0,a.pgettext)("block:variable","does not contain"):"starts"===this.mode?(0,a.pgettext)("block:variable","starts with"):"ends"===this.mode?(0,a.pgettext)("block:variable","ends with"):(0,a.pgettext)("block:variable","contains")," ").concat(n);case"defined":return"@".concat(i.id," ").concat((0,a.pgettext)("block:variable","not empty"));case"undefined":return"@".concat(i.id," ").concat((0,a.pgettext)("block:variable","empty"))}}return this.type.label},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){var e;return null===(e=this.node)||void 0===e?void 0:e.label},enumerable:!1,configurable:!0}),t.prototype.defineEditor=function(){var e,t=this;this.editor.form({title:(0,a.pgettext)("block:variable","Compare mode"),controls:[new a.Forms.Radiobutton([{label:(0,a.pgettext)("block:variable","Text matches"),value:"exact"},{label:(0,a.pgettext)("block:variable","Text does not match"),value:"not-exact"},{label:(0,a.pgettext)("block:variable","Text contains"),value:"contains"},{label:(0,a.pgettext)("block:variable","Text does not contain"),value:"not-contains"},{label:(0,a.pgettext)("block:variable","Text starts with"),value:"starts"},{label:(0,a.pgettext)("block:variable","Text ends with"),value:"ends"},{label:(0,a.pgettext)("block:variable","Text is not empty"),value:"defined"},{label:(0,a.pgettext)("block:variable","Text is empty"),value:"undefined"}],a.Forms.Radiobutton.bind(this,"mode","exact")).on((function(e){switch(r.visible("defined"!==e.value&&"undefined"!==e.value),e.value){case"exact":r.title=(0,a.pgettext)("block:variable","If text matches");break;case"not-exact":r.title=(0,a.pgettext)("block:variable","If text does not match");break;case"contains":r.title=(0,a.pgettext)("block:variable","If text contains");break;case"not-contains":r.title=(0,a.pgettext)("block:variable","If text does not contain");break;case"starts":r.title=(0,a.pgettext)("block:variable","If text starts with");break;case"ends":r.title=(0,a.pgettext)("block:variable","If text ends with")}n.isInteractable&&n.focus()}))]});var o=this.match&&(0,a.isVariable)(this.match)||!1,i=(0,a.populateVariables)(this,void 0,o?this.match:void 0,!1,null===(e=this.slot)||void 0===e?void 0:e.id),n=new a.Forms.Text("multiline",o?"":this.match).label((0,a.pgettext)("block:variable","Use fixed text")).action("@",(0,a.insertVariable)(this,"exclude")).transformation(this.slot instanceof a.Slots.Text&&this.slot.transformation||"none").autoFocus().enter(this.editor.close).escape(this.editor.close).on((function(e){e.isFormVisible&&e.isVisible&&(t.match=e.value)})),l=new a.Forms.Dropdown(i,o?this.match:"").label((0,a.pgettext)("block:variable","Use value of")).width("full").on((function(e){e.isFormVisible&&e.isObservable&&(t.match=e.value||void 0)})),r=this.editor.form({title:(0,a.pgettext)("block:variable","If text matches"),controls:[new a.Forms.Radiobutton([{label:(0,a.pgettext)("block:variable","Text"),value:"text"},{label:(0,a.pgettext)("block:variable","Value"),value:"variable",disabled:0===i.length}],o?"variable":"text").on((function(e){n.visible("text"===e.value),l.visible("variable"===e.value),n.isInteractable&&n.focus()})),n,l,new a.Forms.Checkbox((0,a.pgettext)("block:variable","Ignore case"),a.Forms.Checkbox.bind(this,"ignoreCase",void 0,!0))]}).visible("defined"!==this.mode&&"undefined"!==this.mode)},l([a.definition,(0,a.affects)("#name")],t.prototype,"mode",void 0),l([a.definition,(0,a.affects)("#name")],t.prototype,"match",void 0),l([a.definition],t.prototype,"ignoreCase",void 0),l([a.editor],t.prototype,"defineEditor",null),l([(0,a.tripetto)({type:"condition",legacyBlock:!0,context:"@tripetto/block-variable",identifier:"".concat("@tripetto/block-variable",":text"),version:"3.0.3",icon:r.default,get label(){return(0,a.pgettext)("block:variable","Text match")}})],t)}(a.ConditionBlock);t.VariableTextCondition=c},110:function(e,t,o){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=this&&this.__decorate||function(e,t,o,i){var n,l=arguments.length,a=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(l<3?n(a):l>3?n(t,o,a):n(t,o))||a);return l>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.Variable=void 0;var a=o(954),r=o(789),c=o(226),u=o(737),s=o(452);o(755);var d=o(659);o(582);var p=o(617),b=o(982),g=o(257),f=o(953),M=o(701),h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.allowMarkdown=!1,t.startBlank=!1,t.operations=a.Collection.of(d.Operation,t),t}return n(t,e),Object.defineProperty(t.prototype,"block",{get:function(){return this},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"firstANS",{get:function(){return"@"+this.slot.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"variableType",{get:function(){return this.currentType||"text"},set:function(e){this.currentType=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"icon",{get:function(){switch(this.currentType){case"numeric":return f.default;case"boolean":return b.default;case"date":return g.default;case"text":return M.default;default:return p.default}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"label",{get:function(){switch(this.currentType){case"numeric":return(0,a.pgettext)("block:variable","%1 (number)",this.type.label);case"boolean":return(0,a.pgettext)("block:variable","%1 (boolean)",this.type.label);case"date":return this.slot instanceof a.Slots.Date&&this.slot.supportsTime?(0,a.pgettext)("block:variable","%1 (date/time)",this.type.label):(0,a.pgettext)("block:variable","%1 (date)",this.type.label);default:return(0,a.pgettext)("block:variable","%1 (text)",this.type.label)}},enumerable:!1,configurable:!0}),t.prototype.createProxy=function(e){var t=this;return{get maxLength(){return t.slot instanceof a.Slots.Text?t.slot.maxLength:void 0},set maxLength(o){var i;t.slot instanceof a.Slots.Text&&(t.slot.maxLength=o),null===(i=e().textValue)||void 0===i||i.maxLength(o||0)},get transformation(){return t.slot instanceof a.Slots.Text?t.slot.transformation:void 0},set transformation(o){var i;t.slot instanceof a.Slots.Text&&(t.slot.transformation=o),null===(i=e().textValue)||void 0===i||i.transformation(o||"none")},get numericPrecision(){return t.slot instanceof a.Slots.Numeric?t.slot.precision:void 0},set numericPrecision(o){var i;t.slot instanceof a.Slots.Numeric&&(t.slot.precision=o),null===(i=e().numericValue)||void 0===i||i.precision(o||0)},get digits(){return t.slot instanceof a.Slots.Numeric?t.slot.digits:void 0},set digits(o){var i;t.slot instanceof a.Slots.Numeric&&(t.slot.digits=o),null===(i=e().numericValue)||void 0===i||i.digits(o||0)},get decimal(){return t.slot instanceof a.Slots.Numeric?t.slot.decimal:void 0},set decimal(o){var i;t.slot instanceof a.Slots.Numeric&&(t.slot.decimal=o),null===(i=e().numericValue)||void 0===i||i.decimalSign(o||"")},get separator(){return t.slot instanceof a.Slots.Numeric?t.slot.separator:void 0},set separator(o){var i;t.slot instanceof a.Slots.Numeric&&(t.slot.separator=o),null===(i=e().numericValue)||void 0===i||i.thousands(!!o,o||"")},get numericMinimum(){return t.slot instanceof a.Slots.Numeric?t.slot.minimum:void 0},set numericMinimum(o){var i;t.slot instanceof a.Slots.Numeric&&(t.slot.minimum=o),null===(i=e().numericValue)||void 0===i||i.min(o)},get numericMaximum(){return t.slot instanceof a.Slots.Numeric?t.slot.maximum:void 0},set numericMaximum(o){var i;t.slot instanceof a.Slots.Numeric&&(t.slot.maximum=o),null===(i=e().numericValue)||void 0===i||i.max(o)},get prefix(){return t.slot instanceof a.Slots.Numeric?t.slot.prefix:void 0},set prefix(o){var i;t.slot instanceof a.Slots.Numeric&&(t.slot.prefix=o),null===(i=e().numericValue)||void 0===i||i.prefix(o||"")},get prefixPlural(){return t.slot instanceof a.Slots.Numeric?t.slot.prefixPlural:void 0},set prefixPlural(o){var i;t.slot instanceof a.Slots.Numeric&&(t.slot.prefixPlural=o),null===(i=e().numericValue)||void 0===i||i.prefixPlural(o||void 0)},get suffix(){return t.slot instanceof a.Slots.Numeric?t.slot.suffix:void 0},set suffix(o){var i;t.slot instanceof a.Slots.Numeric&&(t.slot.suffix=o),null===(i=e().numericValue)||void 0===i||i.suffix(o||"")},get suffixPlural(){return t.slot instanceof a.Slots.Numeric?t.slot.suffixPlural:void 0},set suffixPlural(o){var i;t.slot instanceof a.Slots.Numeric&&(t.slot.suffixPlural=o),null===(i=e().numericValue)||void 0===i||i.suffixPlural(o||void 0)},get time(){return t.slot instanceof a.Slots.Date&&t.slot.supportsTime||void 0},set time(o){var i;t.slot instanceof a.Slots.Date&&(t.slot.precision=!0===o?"seconds":"days",t.rerender(!0)),null===(i=e().dateValue)||void 0===i||i.features(1|(!0===o?8:32))},get dateMinimum(){return t.slot instanceof a.Slots.Date?t.slot.minimum:void 0},set dateMinimum(e){t.slot instanceof a.Slots.Date&&(t.slot.minimum=e)},get dateMaximum(){return t.slot instanceof a.Slots.Date?t.slot.maximum:void 0},set dateMaximum(e){t.slot instanceof a.Slots.Date&&(t.slot.maximum=e)},get labelForFalse(){return t.slot instanceof a.Slots.Boolean?t.slot.labelForFalse:void 0},set labelForFalse(o){var i;t.slot instanceof a.Slots.Boolean&&(t.slot.labelForFalse=o),null===(i=e().booleanValue)||void 0===i||i.buttonLabel(!1,o||(0,a.pgettext)("block:variable","False"))},get labelForTrue(){return t.slot instanceof a.Slots.Boolean?t.slot.labelForTrue:void 0},set labelForTrue(o){var i;t.slot instanceof a.Slots.Boolean&&(t.slot.labelForTrue=o),null===(i=e().booleanValue)||void 0===i||i.buttonLabel(!0,o||(0,a.pgettext)("block:variable","True"))}}},t.prototype.defineSlot=function(){var e=this.slots.select("variable","static");switch(this.currentType||(e instanceof a.Slots.Numeric?this.currentType="numeric":e instanceof a.Slots.Boolean?this.currentType="boolean":e instanceof a.Slots.Date?this.currentType="date":this.currentType="text"),this.variableType){case"text":this.slot=this.slots.static({type:a.Slots.Text,reference:"variable",label:this.node.name||(0,a.pgettext)("block:variable","Variable"),exchange:["alias","exportable","transformation","maxLength"],alias:null==e?void 0:e.alias,exportable:null==e?void 0:e.exportable});break;case"numeric":this.slot=this.slots.static({type:a.Slots.Numeric,reference:"variable",label:this.node.name||(0,a.pgettext)("block:variable","Variable"),exchange:["alias","exportable","precision","digits","decimal","separator","minimum","maximum","prefix","prefixPlural","suffix","suffixPlural"],alias:null==e?void 0:e.alias,exportable:null==e?void 0:e.exportable});break;case"boolean":this.slot=this.slots.static({type:a.Slots.Boolean,reference:"variable",label:this.node.name||(0,a.pgettext)("block:variable","Variable"),exchange:["alias","exportable","labelForTrue","labelForFalse"],alias:null==e?void 0:e.alias,exportable:null==e?void 0:e.exportable});break;case"date":this.slot=this.slots.static({type:a.Slots.Date,reference:"variable",label:this.node.name||(0,a.pgettext)("block:variable","Variable"),exchange:["alias","exportable","precision","minimum","maximum"],alias:null==e?void 0:e.alias,exportable:null==e?void 0:e.exportable}),this.slot.precision||(this.slot.precision="days")}},t.prototype.defineEditor=function(){var e=this,t=this.createProxy((function(){return{textValue:v,numericValue:x,dateValue:y,booleanValue:w}}));this.editor.form({title:(0,a.pgettext)("block:variable","Explanation"),controls:[new a.Forms.Static((0,a.pgettext)("block:variable","Creates a custom variable you can use to store a value in.")).markdown()]}),this.editor.name(!1,!1,(0,a.pgettext)("block:variable","Name"),!1),this.editor.option({name:(0,a.pgettext)("block:variable","Type"),locked:!0,form:{title:(0,a.pgettext)("block:variable","Type"),controls:[new a.Forms.Radiobutton([{label:(0,a.pgettext)("block:variable","Text"),description:(0,a.pgettext)("block:variable","Store a text value."),value:"text"},{label:(0,a.pgettext)("block:variable","Number"),description:(0,a.pgettext)("block:variable","Store a numeric value."),value:"numeric"},{label:(0,a.pgettext)("block:variable","Date"),description:(0,a.pgettext)("block:variable","Store a date value with an optional time."),value:"date"},{label:(0,a.pgettext)("block:variable","Boolean"),description:(0,a.pgettext)("block:variable","Store true or false."),value:"boolean"}],a.Forms.Radiobutton.bind(this,"variableType","text")).on((function(e){(0,a.each)(o,(function(t){t.disabled("text"!==e.value),t.visible("text"===e.value)})),(0,a.each)(p,(function(t){t.disabled("numeric"!==e.value),t.visible("numeric"===e.value)})),(0,a.each)(h,(function(t){t.disabled("date"!==e.value),t.visible("date"===e.value)})),(0,a.each)(m,(function(t){t.disabled("boolean"!==e.value),t.visible("boolean"===e.value)})),v.visible("text"===e.value),x.visible("numeric"===e.value),y.visible("date"===e.value),w.visible("boolean"===e.value),S.disabled("numeric"!==e.value),S.visible("numeric"===e.value)}))]}}),this.editor.groups.settings();var o=[this.editor.option({name:(0,a.pgettext)("block:variable","Limits"),form:{title:(0,a.pgettext)("block:variable","Maximum number of characters"),controls:[new a.Forms.Numeric(a.Forms.Numeric.bind(t,"maxLength",void 0)).min(0)]},activated:(0,a.isNumber)(t.maxLength),visible:"text"===this.variableType,disabled:"text"!==this.variableType}),this.editor.transformations(t).visible("text"===this.variableType).disabled("text"!==this.variableType)],i=new a.Forms.Numeric(a.Forms.Numeric.bind(t,"numericMinimum",void 0)).precision(t.numericPrecision||0).digits(t.digits||0).decimalSign(t.decimal||"").thousands(!!t.separator,t.separator||"").prefix(t.prefix||"").prefixPlural(t.prefixPlural||void 0).suffix(t.suffix||"").suffixPlural(t.suffixPlural||void 0).label((0,a.pgettext)("block:variable","Minimum")),n=new a.Forms.Numeric(a.Forms.Numeric.bind(t,"numericMaximum",void 0)).precision(t.numericPrecision||0).digits(t.digits||0).decimalSign(t.decimal||"").thousands(!!t.separator,t.separator||"").prefix(t.prefix||"").prefixPlural(t.prefixPlural||void 0).suffix(t.suffix||"").suffixPlural(t.suffixPlural||void 0).label((0,a.pgettext)("block:variable","Maximum")),l=new a.Forms.Text("singleline",a.Forms.Text.bind(t,"prefix",void 0)).sanitize(!1).on((function(e){i.prefix(e.isFeatureEnabled&&e.value||""),n.prefix(e.isFeatureEnabled&&e.value||"")})),r=new a.Forms.Text("singleline",a.Forms.Text.bind(t,"prefixPlural",void 0)).indent(32).sanitize(!1).on((function(e){i.prefixPlural(e.isFeatureEnabled&&e.isObservable&&e.value||void 0),n.prefixPlural(e.isFeatureEnabled&&e.isObservable&&e.value||void 0)})).placeholder((0,a.pgettext)("block:variable","Prefix when value is plural")).visible((0,a.isString)(t.prefixPlural)),c=new a.Forms.Text("singleline",a.Forms.Text.bind(t,"suffix",void 0)).sanitize(!1).on((function(e){i.suffix(e.isFeatureEnabled&&e.value||""),n.suffix(e.isFeatureEnabled&&e.value||"")})),u=new a.Forms.Text("singleline",a.Forms.Text.bind(t,"suffixPlural",void 0)).indent(32).sanitize(!1).on((function(e){i.suffixPlural(e.isFeatureEnabled&&e.isObservable&&e.value||void 0),n.suffixPlural(e.isFeatureEnabled&&e.isObservable&&e.value||void 0)})).placeholder((0,a.pgettext)("block:variable","Suffix when value is plural")).visible((0,a.isString)(t.suffixPlural)),s=new a.Forms.Dropdown([{label:"#.#",value:"."},{label:"#,#",value:","}],a.Forms.Dropdown.bind(t,"decimal",void 0)).label((0,a.pgettext)("block:variable","Decimal sign")).disabled(!t.numericPrecision).on((function(e){i.decimalSign(e.isFeatureEnabled&&e.value||""),n.decimalSign(e.isFeatureEnabled&&e.value||"")})),p=[this.editor.option({name:(0,a.pgettext)("block:variable","Format"),form:{title:(0,a.pgettext)("block:variable","Format"),controls:[new a.Forms.Dropdown([{optGroup:(0,a.pgettext)("block:variable","Decimals")},{label:"#",value:0},{label:"#.#",value:1},{label:"#.##",value:2},{label:"#.###",value:3},{label:"#.####",value:4},{label:"#.#####",value:5},{label:"#.######",value:6},{label:"#.#######",value:7},{label:"#.########",value:8},{optGroup:(0,a.pgettext)("block:variable","Digits")},{label:"##",value:-2},{label:"###",value:-3},{label:"####",value:-4},{label:"#####",value:-5},{label:"######",value:-6},{label:"#######",value:-7},{label:"########",value:-8},{label:"#########",value:-9},{label:"##########",value:-10},{label:"###########",value:-11},{label:"############",value:-12},{label:"#############",value:-13},{label:"##############",value:-14},{label:"###############",value:-15},{label:"################",value:-16}],(t.digits?-t.digits:t.numericPrecision)||0).on((function(e){t.numericPrecision=e.isFeatureEnabled&&(0,a.isNumber)(e.value)&&e.value>=0?e.value:void 0,t.digits=e.isFeatureEnabled&&(0,a.isNumber)(e.value)&&e.value<0?-e.value:void 0,i.precision(t.numericPrecision||0),n.precision(t.numericPrecision||0),i.digits(t.digits||0),n.digits(t.digits||0),s.disabled(!t.numericPrecision),b.disabled((t.digits||0)>0)}))]},activated:(0,a.isNumber)(t.numericPrecision)||(0,a.isNumber)(t.digits),visible:"numeric"===this.variableType,disabled:"numeric"!==this.variableType}),this.editor.option({name:(0,a.pgettext)("block:variable","Limits"),form:{title:(0,a.pgettext)("block:variable","Limits"),controls:[i,n]},activated:(0,a.isNumber)(t.numericMinimum)||(0,a.isNumber)(t.numericMaximum),visible:"numeric"===this.variableType,disabled:"numeric"!==this.variableType}),this.editor.option({name:(0,a.pgettext)("block:variable","Prefix"),form:{title:(0,a.pgettext)("block:variable","Prefix"),controls:[l,new a.Forms.Checkbox((0,a.pgettext)("block:variable","Specify different prefix for plural values"),(0,a.isString)(t.prefixPlural)).on((function(e){l.placeholder(e.isChecked&&(0,a.pgettext)("block:variable","Prefix when value is singular")||""),r.visible(e.isChecked)})),r]},activated:(0,a.isString)(t.prefix),visible:"numeric"===this.variableType,disabled:"numeric"!==this.variableType}),this.editor.option({name:(0,a.pgettext)("block:variable","Suffix"),form:{title:(0,a.pgettext)("block:variable","Suffix"),controls:[c,new a.Forms.Checkbox((0,a.pgettext)("block:variable","Specify different suffix for plural values"),(0,a.isString)(t.suffixPlural)).on((function(e){c.placeholder(e.isChecked&&(0,a.pgettext)("block:variable","Suffix when value is singular")||""),u.visible(e.isChecked)})),u]},activated:(0,a.isString)(t.suffix),visible:"numeric"===this.variableType,disabled:"numeric"!==this.variableType})],b=this.editor.option({name:(0,a.pgettext)("block:variable","Signs"),form:{title:(0,a.pgettext)("block:variable","Signs"),controls:[s,new a.Forms.Dropdown([{label:(0,a.pgettext)("block:variable","None"),value:void 0},{label:"#,###",value:","},{label:"#.###",value:"."}],a.Forms.Dropdown.bind(t,"separator",void 0)).label((0,a.pgettext)("block:variable","Thousands separator")).on((function(e){i.thousands(!(!e.isFeatureEnabled||!e.value),e.isFeatureEnabled&&e.value||""),n.thousands(!(!e.isFeatureEnabled||!e.value),e.isFeatureEnabled&&e.value||"")})),new a.Forms.Static((0,a.pgettext)("block:variable","**Note:** These signs are used to format the number in de dataset. When the number is displayed in a runner, the appropriate user locale might be applied making it seem like changing these settings has no effect.")).markdown()]},activated:(0,a.isString)(t.separator)||(0,a.isString)(t.decimal),visible:"numeric"===this.variableType,disabled:"numeric"!==this.variableType||(t.digits||0)>0});p.push(b);var g=function(e){return 1|(e?8:32)},f=new a.Forms.DateTime((0,a.isNumber)(t.dateMinimum)?t.dateMinimum:void 0).zone("UTC").features(g(t.time)).disabled(!0===t.dateMinimum).years((new Date).getFullYear()-150,(new Date).getFullYear()+50).width("full").label((0,a.pgettext)("block:variable","Minimum")).placeholder((0,a.pgettext)("block:variable","Not set")).on((function(){f.isFeatureEnabled?!0!==t.dateMinimum&&(t.dateMinimum=f.value):t.dateMinimum=void 0})),M=new a.Forms.DateTime((0,a.isNumber)(t.dateMaximum)?t.dateMaximum:void 0).zone("UTC").features(g(t.time)).disabled(!0===t.dateMaximum).years((new Date).getFullYear()-150,(new Date).getFullYear()+50).width("full").label((0,a.pgettext)("block:variable","Maximum")).placeholder((0,a.pgettext)("block:variable","Not set")).on((function(){M.isFeatureEnabled?!0!==t.dateMaximum&&(t.dateMaximum=M.value):t.dateMaximum=void 0})),h=[this.editor.option({name:(0,a.pgettext)("block:variable","Time"),form:{title:(0,a.pgettext)("block:variable","Time"),controls:[new a.Forms.Checkbox((0,a.pgettext)("block:variable","Allow a time to be set"),a.Forms.Checkbox.bind(t,"time",void 0,!0)).on((function(e){f.features(g(e.isFeatureEnabled&&e.isChecked)),M.features(g(e.isFeatureEnabled&&e.isChecked))})),new a.Forms.Static((0,a.pgettext)("block:variable","When enabled this will allow to set a specific time along with the date."))]},activated:(0,a.isBoolean)(t.time),visible:"date"===this.variableType,disabled:"date"!==this.variableType}),this.editor.option({name:(0,a.pgettext)("block:variable","Limits"),form:{title:(0,a.pgettext)("block:variable","Limits"),controls:[f,M,new a.Forms.Static((0,a.pgettext)("block:variable","Options")),new a.Forms.Checkbox((0,a.pgettext)("block:variable","Date must be in the future"),!0===t.dateMinimum).on((function(e){e.isFeatureEnabled&&e.isChecked?t.dateMinimum=!0:!0===t.dateMinimum&&(t.dateMinimum=void 0,f.refresh()),f.disabled(!0===t.dateMinimum)})),new a.Forms.Checkbox((0,a.pgettext)("block:variable","Date must be in the past"),!0===t.dateMaximum).on((function(e){e.isFeatureEnabled&&e.isChecked?t.dateMaximum=!0:!0===t.dateMaximum&&(t.dateMaximum=void 0,M.refresh()),M.disabled(!0===t.dateMaximum)}))]},activated:(0,a.isNumber)(t.dateMinimum)||!0===t.dateMinimum||(0,a.isNumber)(t.dateMaximum)||!0===t.dateMaximum,visible:"date"===this.variableType,disabled:"date"!==this.variableType})],m=[this.editor.option({name:(0,a.pgettext)("block:variable","Labels"),form:{title:(0,a.pgettext)("block:variable","Labels"),controls:[new a.Forms.Text("singleline",a.Forms.Text.bind(t,"labelForTrue",void 0)).placeholder("True"),new a.Forms.Text("singleline",a.Forms.Text.bind(t,"labelForFalse",void 0)).placeholder("False"),new a.Forms.Static((0,a.pgettext)("block:variable","These labels will be used in the dataset and override the default values %1 and %2.","**True**","**False**")).markdown()]},activated:(0,a.isString)(t.labelForFalse)||(0,a.isString)(t.labelForTrue),visible:"boolean"===this.variableType,disabled:"boolean"!==this.variableType})];this.editor.groups.options();var v=new a.Forms.Text("multiline","text"===this.variableType&&(0,a.isString)(this.prefill)?this.prefill:void 0).maxLength(t.maxLength||0).transformation(t.transformation||"none").visible("text"===this.variableType).action("@",(0,a.insertVariable)(this,"validated")).on((function(t){t.isObservable&&(e.prefill=t.isFeatureEnabled?t.value:void 0)})),x=new a.Forms.Numeric("numeric"===this.variableType&&(0,a.isNumberFinite)(this.prefill)?this.prefill:void 0).precision(t.numericPrecision||0).digits(t.digits||0).decimalSign(t.decimal||"").thousands(!!t.separator,t.separator||"").prefix(t.prefix||"").prefixPlural(t.prefixPlural||void 0).suffix(t.suffix||"").suffixPlural(t.suffixPlural||void 0).min(t.numericMinimum).max(t.numericMaximum).visible("numeric"===this.variableType).on((function(t){t.isObservable&&(e.prefill=t.isFeatureEnabled?t.value:void 0)})),y=new a.Forms.DateTime("date"===this.variableType&&(0,a.isNumberFinite)(this.prefill)?this.prefill:a.DateTime.UTCToday).features(g(this.slot instanceof a.Slots.Date&&this.slot.supportsTime)).zone("UTC").width("full").required().visible("date"===this.variableType).on((function(t){t.isObservable&&(e.prefill=t.isFeatureEnabled?t.value:void 0)})),w=new a.Forms.Radiobutton([{label:this.slot instanceof a.Slots.Boolean&&this.slot.labelForTrue||(0,a.pgettext)("block:variable","True"),value:!0},{label:this.slot instanceof a.Slots.Boolean&&this.slot.labelForFalse||(0,a.pgettext)("block:variable","False"),value:!1}],!1!==this.prefill).visible("boolean"===this.variableType).on((function(t){t.isObservable&&(e.prefill=t.isFeatureEnabled?t.value:void 0)}));this.editor.option({name:(0,a.pgettext)("block:variable","Prefill"),form:{title:(0,a.pgettext)("block:variable","Prefill"),controls:[v,x,y,w,new a.Forms.Static((0,a.pgettext)("block:variable","This value will be used as initial (prefilled) value for the variable. It is only set once upon creation of the variable."))]},activated:(0,a.isDefined)(this.prefill)});var S=this.editor.option({name:(0,a.pgettext)("block:variable","Calculator"),collection:(0,d.calculator)(this,(0,a.pgettext)("block:variable","Perform calculation on variable value."),(0,a.pgettext)("block:variable","Calculator")),activated:!0===this.calculator,visible:"numeric"===this.variableType}).onToggle((function(){e.calculator=!!S.isActivated||void 0}));this.editor.alias((function(){return e.slot})),this.editor.exportable((function(){return e.slot}))},t.prototype.defineCondition=function(){var e=this;switch(this.variableType){case"text":(0,a.each)([{mode:"exact",label:(0,a.pgettext)("block:variable","Text matches")},{mode:"not-exact",label:(0,a.pgettext)("block:variable","Text does not match")},{mode:"contains",label:(0,a.pgettext)("block:variable","Text contains")},{mode:"not-contains",label:(0,a.pgettext)("block:variable","Text does not contain")},{mode:"starts",label:(0,a.pgettext)("block:variable","Text starts with")},{mode:"ends",label:(0,a.pgettext)("block:variable","Text ends with")},{mode:"defined",label:(0,a.pgettext)("block:variable","Text is not empty")},{mode:"undefined",label:(0,a.pgettext)("block:variable","Text is empty")}],(function(t){e.conditions.template({condition:r.VariableTextCondition,label:t.label,autoOpen:"defined"!==t.mode&&"undefined"!==t.mode,props:{slot:e.slot,mode:t.mode}})}));break;case"numeric":(0,a.each)([{mode:"equal",label:(0,a.pgettext)("block:variable","Number is equal to")},{mode:"not-equal",label:(0,a.pgettext)("block:variable","Number is not equal to")},{mode:"below",label:(0,a.pgettext)("block:variable","Number is lower than")},{mode:"above",label:(0,a.pgettext)("block:variable","Number is higher than")},{mode:"between",label:(0,a.pgettext)("block:variable","Number is between")},{mode:"not-between",label:(0,a.pgettext)("block:variable","Number is not between")},{mode:"defined",label:(0,a.pgettext)("block:variable","Number is not empty")},{mode:"undefined",label:(0,a.pgettext)("block:variable","Number is empty")}],(function(t){e.conditions.template({condition:c.VariableNumericCondition,label:t.label,autoOpen:"defined"!==t.mode&&"undefined"!==t.mode,props:{slot:e.slot,mode:t.mode}})}));break;case"date":(0,a.each)([{mode:"equal",label:(0,a.pgettext)("block:variable","Is equal to")},{mode:"not-equal",label:(0,a.pgettext)("block:variable","Is not equal to")},{mode:"before",label:(0,a.pgettext)("block:variable","Is before")},{mode:"after",label:(0,a.pgettext)("block:variable","Is after")},{mode:"between",label:(0,a.pgettext)("block:variable","Is between")},{mode:"not-between",label:(0,a.pgettext)("block:variable","Is not between")},{mode:"defined",label:(0,a.pgettext)("block:variable","Is not empty")},{mode:"undefined",label:(0,a.pgettext)("block:variable","Is empty")}],(function(t){e.conditions.template({condition:u.VariableDateCondition,label:t.label,autoOpen:"defined"!==t.mode&&"undefined"!==t.mode,props:{slot:e.slot,mode:t.mode,value:e.slot instanceof a.Slots.Date&&e.slot.supportsTime?a.DateTime.UTC:a.DateTime.UTCToday,to:"between"===t.mode||"not-between"===t.mode?e.slot instanceof a.Slots.Date&&e.slot.supportsTime?a.DateTime.UTC:a.DateTime.UTCToday:void 0}})}));break;case"boolean":(0,a.each)([{mode:"true",label:this.slot instanceof a.Slots.Boolean&&this.slot.labelForTrue||(0,a.pgettext)("block:variable","Value is true")},{mode:"false",label:this.slot instanceof a.Slots.Boolean&&this.slot.labelForFalse||(0,a.pgettext)("block:variable","Value is false")},{mode:"equal",label:(0,a.pgettext)("block:variable","Value is equal to")},{mode:"not-equal",label:(0,a.pgettext)("block:variable","Value is not equal to")},{mode:"defined",label:(0,a.pgettext)("block:variable","Value is not empty")},{mode:"undefined",label:(0,a.pgettext)("block:variable","Value is empty")}],(function(t){e.conditions.template({condition:s.VariableBooleanCondition,label:t.label,autoOpen:"equal"===t.mode||"not-equal"===t.mode,props:{slot:e.slot,mode:t.mode}})}))}},l([a.definition],t.prototype,"prefill",void 0),l([a.definition],t.prototype,"calculator",void 0),l([a.definition],t.prototype,"operations",void 0),l([(0,a.affects)("#slots"),(0,a.affects)("#label")],t.prototype,"variableType",null),l([a.slots,a.renamed],t.prototype,"defineSlot",null),l([a.editor],t.prototype,"defineEditor",null),l([a.conditions],t.prototype,"defineCondition",null),l([(0,a.tripetto)({type:"node",legacyBlock:!0,identifier:"@tripetto/block-variable",version:"3.0.3",kind:"headless",icon:p.default,get label(){return(0,a.pgettext)("block:variable","Custom variable")}})],t)}(a.NodeBlock);t.Variable=h},755:function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0}),(0,o(954).mountNamespace)("@tripetto/block-variable")},582:function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0}),(0,o(954).unmountNamespace)()},982:function(e,t,o){o.r(t),t.default="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbDpzcGFjZT0icHJlc2VydmUiIHdpZHRoPSI1ODAiIGhlaWdodD0iNTgwIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiIgdGV4dC1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiIgaW1hZ2UtcmVuZGVyaW5nPSJvcHRpbWl6ZVF1YWxpdHkiIHZpZXdCb3g9IjAgMCA1ODAwIDU4MDAiPjxwYXRoIGNsYXNzPSJ0cmlwZXR0by1maWxsIiBkPSJNMTkwMCAyOTAwVjEwMDBjMC0xNjUgMTM1LTMwMCAzMDAtMzAwaDE0MDBjMTY1IDAgMzAwIDEzNSAzMDAgMzAwdjE5MDBIMTkwMHptMTEwMC0xODAwaC0yMDB2MTQwMGgyMDBWMTEwMHpNMjIwMCAxMDBoMTQwMGM0OTUgMCA5MDAgNDA1IDkwMCA5MDB2MzgwMGMwIDQ5NS00MDUgOTAwLTkwMCA5MDBIMjIwMGMtNDk1IDAtOTAwLTQwNS05MDAtOTAwVjEwMDBjMC00OTUgNDA1LTkwMCA5MDAtOTAwem0xNDAwIDIwMEgyMjAwYy0zODUgMC03MDAgMzE1LTcwMCA3MDB2MzgwMGMwIDM4NSAzMTUgNzAwIDcwMCA3MDBoMTQwMGMzODUgMCA3MDAtMzE1IDcwMC03MDBWMTAwMGMwLTM4NS0zMTUtNzAwLTcwMC03MDB6bS04MTMgMzAwMGgyMDBjMjc2IDAgNTAwIDIyNSA1MDAgNTAwdjQwNWMwIDI3NS0yMjQgNTAwLTUwMCA1MDBoLTIwMGMtMjc1IDAtNTAwLTIyNS01MDAtNTAwdi00MDVjMC0yNzUgMjI1LTUwMCA1MDAtNTAwem0yMDAgMjAwaC0yMDBjLTE2NSAwLTMwMCAxMzUtMzAwIDMwMHY0MDVjMCAxNjUgMTM1IDMwMCAzMDAgMzAwaDIwMGMxNjUgMCAzMDAtMTM1IDMwMC0zMDB2LTQwNWMwLTE2NS0xMzUtMzAwLTMwMC0zMDB6Ii8+PC9zdmc+"},257:function(e,t,o){o.r(t),t.default="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCI+PHBhdGggZD0iTTE4LjUgMkgxNnYtLjVhLjUuNSAwIDAgMC0xIDBWMkg1di0uNWEuNS41IDAgMCAwLTEgMFYySDEuNUMuNjczIDIgMCAyLjY3MyAwIDMuNXYxNGMwIC44MjcuNjczIDEuNSAxLjUgMS41aDE3Yy44MjcgMCAxLjUtLjY3MyAxLjUtMS41di0xNGMwLS44MjctLjY3My0xLjUtMS41LTEuNXptLTE3IDFINHYxLjVhLjUuNSAwIDAgMCAxIDBWM2gxMHYxLjVhLjUuNSAwIDAgMCAxIDBWM2gyLjVhLjUuNSAwIDAgMSAuNS41VjZIMVYzLjVhLjUuNSAwIDAgMSAuNS0uNXptMTcgMTVoLTE3YS41LjUgMCAwIDEtLjUtLjVWN2gxOHYxMC41YS41LjUgMCAwIDEtLjUuNXoiIGNsYXNzPSJ0cmlwZXR0by1maWxsIi8+PHBhdGggZD0iTTguNSAxNS41YS41MDIuNTAyIDAgMCAxLS4zNTQtLjE0NmwtMi0yYS41LjUgMCAwIDEgLjcwNy0uNzA3bDEuNjQ2IDEuNjQ2IDQuNjQ2LTQuNjQ2YS41LjUgMCAwIDEgLjcwNy43MDdsLTUgNWEuNDk4LjQ5OCAwIDAgMS0uMzU0LjE0NnoiIGNsYXNzPSJ0cmlwZXR0by1maWxsIi8+PC9zdmc+"},617:function(e,t,o){o.r(t),t.default="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCI+PHBhdGggZD0iTTEyLjUgMTdoLTExQy42NzMgMTcgMCAxNi4zMjcgMCAxNS41di0xMEMwIDQuNjczLjY3MyA0IDEuNSA0aDExYy43MDQgMCAxLjU3NC40MDggMi4wMjQuOTQ4bDMuNzIgNC40NjRjLjUwOS42MS41MDkgMS41NjYgMCAyLjE3N2wtMy43MiA0LjQ2NGMtLjQ1LjU0MS0xLjMyMS45NDgtMi4wMjQuOTQ4ek0xLjUgNWEuNS41IDAgMCAwLS41LjV2MTBhLjUuNSAwIDAgMCAuNS41aDExYy40MDEgMCAuOTk5LS4yOCAxLjI1Ni0uNTg4bDMuNzItNC40NjRjLjE5OS0uMjM5LjE5OS0uNjU4IDAtLjg5NmwtMy43Mi00LjQ2NEMxMy40OTkgNS4yOCAxMi45MDEgNSAxMi41IDVoLTExeiIgY2xhc3M9InRyaXBldHRvLWZpbGwiLz48L3N2Zz4="},953:function(e,t,o){o.r(t),t.default="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbDpzcGFjZT0icHJlc2VydmUiIHdpZHRoPSI1ODAiIGhlaWdodD0iNTgwIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiIgdGV4dC1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiIgaW1hZ2UtcmVuZGVyaW5nPSJvcHRpbWl6ZVF1YWxpdHkiIHZpZXdCb3g9IjAgMCA1ODAwIDU4MDAiPjxwYXRoIGNsYXNzPSJ0cmlwZXR0by1maWxsIiBkPSJNNzAwIDE1MDBoNDQwMGMyMjAgMCA0MDAgMTgwIDQwMCA0MDB2MjAwMGMwIDIyMC0xODAgNDAwLTQwMCA0MDBINzAwYy0yMjAgMC00MDAtMTgwLTQwMC00MDBWMTkwMGMwLTIyMCAxODAtNDAwIDQwMC00MDB6bTMxMDAgMjAwdjI0MDBoMTMwMGMxMTAgMCAyMDAtOTAgMjAwLTIwMFYxOTAwYzAtMTEwLTkwLTIwMC0yMDAtMjAwSDM4MDB6bS0yMDAgMjQwMFYxNzAwSDcwMGMtMTEwIDAtMjAwIDkwLTIwMCAyMDB2MjAwMGMwIDExMCA5MCAyMDAgMjAwIDIwMGgyOTAwem0xMzAwLTE0MDBjMC0xMjEtNzktMjAwLTIwMC0yMDBoLTIwMGMtMTIxIDAtMjAwIDc5LTIwMCAyMDB2NDAwYzAgMTIxIDc5IDIwMCAyMDAgMjAwaDIwMGMxMjEgMCAyMDAtNzkgMjAwLTIwMHYtNDAwem0yMDAgMHY0MDBjMCAyMzEtMTY5IDQwMC00MDAgNDAwaC0yMDBjLTIzMSAwLTQwMC0xNjktNDAwLTQwMHYtNDAwYzAtMjMxIDE2OS00MDAgNDAwLTQwMGgyMDBjMjMxIDAgNDAwIDE2OSA0MDAgNDAwem0tMjAwMCAwYzAtMTIxLTc5LTIwMC0yMDAtMjAwaC0yMDBjLTEyMSAwLTIwMCA3OS0yMDAgMjAwdjQwMGMwIDEyMSA3OSAyMDAgMjAwIDIwMGgyMDBjMTIxIDAgMjAwLTc5IDIwMC0yMDB2LTQwMHptMjAwIDB2NDAwYzAgMjMxLTE2OSA0MDAtNDAwIDQwMGgtMjAwYy0yMzEgMC00MDAtMTY5LTQwMC00MDB2LTQwMGMwLTIzMSAxNjktNDAwIDQwMC00MDBoMjAwYzIzMSAwIDQwMCAxNjkgNDAwIDQwMHptLTE2MDAgMGMwLTEyMS03OS0yMDAtMjAwLTIwMGgtMjAwYy0xMjEgMC0yMDAgNzktMjAwIDIwMHY0MDBjMCAxMjEgNzkgMjAwIDIwMCAyMDBoMjAwYzEyMSAwIDIwMC03OSAyMDAtMjAwdi00MDB6bTIwMCAwdjQwMGMwIDIzMS0xNjkgNDAwLTQwMCA0MDBoLTIwMGMtMjMxIDAtNDAwLTE2OS00MDAtNDAwdi00MDBjMC0yMzEgMTY5LTQwMCA0MDAtNDAwaDIwMGMyMzEgMCA0MDAgMTY5IDQwMCA0MDB6Ii8+PC9zdmc+"},701:function(e,t,o){o.r(t),t.default="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCI+PHBhdGggZD0iTTE3LjUgNWgtMTVhLjUuNSAwIDAgMSAwLTFoMTVhLjUuNSAwIDAgMSAwIDF6bS00IDNoLTExYS41LjUgMCAwIDEgMC0xaDExYS41LjUgMCAwIDEgMCAxem00IDNoLTE1YS41LjUgMCAwIDEgMC0xaDE1YS41LjUgMCAwIDEgMCAxem0tNCAzaC0xMWEuNS41IDAgMCAxIDAtMWgxMWEuNS41IDAgMCAxIDAgMXptNCAzaC0xNWEuNS41IDAgMCAxIDAtMWgxNWEuNS41IDAgMCAxIDAgMXoiIGNsYXNzPSJ0cmlwZXR0by1maWxsIi8+PC9zdmc+"},659:function(e){e.exports=o(373)},954:function(e){e.exports=o(975)}},i={};function n(e){var o=i[e];if(void 0!==o)return o.exports;var l=i[e]={exports:{}};return t[e].call(l.exports,l,l.exports,n),l.exports}n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var l=n(110);e.exports=l}()},480:function(e,t,o){!function(){"use strict";var t={318:function(e,t,o){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=this&&this.__decorate||function(e,t,o,i){var n,l=arguments.length,a=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(l<3?n(a):l>3?n(t,o,a):n(t,o))||a);return l>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.No=void 0;var a=o(954),r=o(110),c=o(309),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),Object.defineProperty(t.prototype,"name",{get:function(){var e;return((null===(e=this.node)||void 0===e?void 0:e.block)instanceof r.YesNo?this.node.block.altNo:"")||this.type.label},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){return(0,a.markdownifyToString)(this.name,a.Markdown.MarkdownFeatures.None)},enumerable:!1,configurable:!0}),l([(0,a.tripetto)({type:"condition",legacyBlock:!0,context:"@tripetto/block-yes-no",identifier:"".concat("@tripetto/block-yes-no",":no"),version:"6.0.0",alias:"yes-no:no",icon:c.default,get label(){return(0,a.pgettext)("block:yes-no","No")}})],t)}(a.ConditionBlock);t.No=u},287:function(e,t,o){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=this&&this.__decorate||function(e,t,o,i){var n,l=arguments.length,a=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(l<3?n(a):l>3?n(t,o,a):n(t,o))||a);return l>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.ScoreCondition=void 0;var a=o(954),r=o(939),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.allowMarkdown=!0,t.mode="equal",t}return n(t,e),Object.defineProperty(t.prototype,"label",{get:function(){return""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){var e=this.slot;if(e instanceof a.Slots.Numeric){var t=this.parse(e,this.value);switch(this.mode){case"between":return"".concat(t," ≤ @").concat(e.id," ≤ ").concat(this.parse(e,this.to));case"not-between":return"@".concat(e.id," < ").concat(t," ").concat((0,a.pgettext)("block:yes-no","or")," @").concat(e.id," > ").concat(this.parse(e,this.to));case"defined":return"@".concat(e.id," ").concat((0,a.pgettext)("block:yes-no","calculated"));case"undefined":return"@".concat(e.id," ").concat((0,a.pgettext)("block:yes-no","not calculated"));case"not-equal":return"@".concat(e.id," ≠ ").concat(t);case"above":case"below":case"equal":return"@".concat(e.id," ").concat("above"===this.mode?">":"below"===this.mode?"<":"="," ").concat(t)}}return this.type.label},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){var e,t;return(null===(e=this.slot)||void 0===e?void 0:e.label)||(null===(t=this.node)||void 0===t?void 0:t.label)},enumerable:!1,configurable:!0}),t.prototype.parse=function(e,t){var o;return(0,a.isNumberFinite)(t)?e.toString(t,(function(e,t){return a.L10n.locale.number(e,t,!1)})):(0,a.isString)(t)&&t&&(null===(o=(0,a.lookupVariable)(this,t))||void 0===o?void 0:o.label)?"@".concat(t):"\\_\\_"},t.prototype.defineEditor=function(){var e=this;this.editor.form({title:(0,a.pgettext)("block:yes-no","Compare mode"),controls:[new a.Forms.Radiobutton([{label:(0,a.pgettext)("block:yes-no","Score is equal to"),value:"equal"},{label:(0,a.pgettext)("block:yes-no","Score is not equal to"),value:"not-equal"},{label:(0,a.pgettext)("block:yes-no","Score is lower than"),value:"below"},{label:(0,a.pgettext)("block:yes-no","Score is higher than"),value:"above"},{label:(0,a.pgettext)("block:yes-no","Score is between"),value:"between"},{label:(0,a.pgettext)("block:yes-no","Score is not between"),value:"not-between"},{label:(0,a.pgettext)("block:yes-no","Score is calculated"),value:"defined"},{label:(0,a.pgettext)("block:yes-no","Score is not calculated"),value:"undefined"}],a.Forms.Radiobutton.bind(this,"mode","equal")).on((function(e){switch(o.visible("defined"!==e.value&&"undefined"!==e.value),i.visible("between"===e.value||"not-between"===e.value),e.value){case"equal":o.title=(0,a.pgettext)("block:yes-no","If score equals");break;case"not-equal":o.title=(0,a.pgettext)("block:yes-no","If score not equals");break;case"below":o.title=(0,a.pgettext)("block:yes-no","If score is lower than");break;case"above":o.title=(0,a.pgettext)("block:yes-no","If score is higher than");break;case"between":o.title=(0,a.pgettext)("block:yes-no","If score is between");break;case"not-between":o.title=(0,a.pgettext)("block:yes-no","If score is not between")}}))]});var t=function(t,o,i){var n,l=e[t],r=e.slot,c=new a.Forms.Numeric((0,a.isNumberFinite)(l)?l:0).label((0,a.pgettext)("block:yes-no","Use fixed number")).precision((null==r?void 0:r.precision)||0).digits((null==r?void 0:r.digits)||0).decimalSign((null==r?void 0:r.decimal)||"").thousands(!!(null==r?void 0:r.separator),(null==r?void 0:r.separator)||"").prefix((null==r?void 0:r.prefix)||"").prefixPlural((null==r?void 0:r.prefixPlural)||void 0).suffix((null==r?void 0:r.suffix)||"").suffixPlural((null==r?void 0:r.suffixPlural)||void 0).autoFocus("value"===t).escape(e.editor.close).enter((function(){return("between"!==e.mode&&"not-between"!==e.mode||"to"===t)&&e.editor.close()})).on((function(o){o.isFormVisible&&o.isObservable&&(e[t]=o.value)})),u=(0,a.populateVariables)(e,(function(e){return e instanceof a.Slots.Number||e instanceof a.Slots.Numeric}),(0,a.isString)(l)?l:void 0,!0,null===(n=e.slot)||void 0===n?void 0:n.id),s=new a.Forms.Dropdown(u,(0,a.isString)(l)?l:"").label((0,a.pgettext)("block:yes-no","Use value of")).width("full").on((function(o){o.isFormVisible&&o.isObservable&&(e[t]=o.value||"")}));return e.editor.form({title:o,controls:[new a.Forms.Radiobutton([{label:(0,a.pgettext)("block:yes-no","Number"),value:"number"},{label:(0,a.pgettext)("block:yes-no","Value"),value:"variable",disabled:0===u.length}],(0,a.isString)(l)?"variable":"number").on((function(e){c.visible("number"===e.value),s.visible("variable"===e.value),c.isObservable&&c.focus()})),c,s]}).visible(i)},o=t("value",(0,a.pgettext)("block:yes-no","If score equals"),"defined"!==this.mode&&"undefined"!==this.mode),i=t("to",(0,a.pgettext)("block:yes-no","And"),"between"===this.mode||"not-between"===this.mode)},l([a.definition,(0,a.affects)("#name")],t.prototype,"mode",void 0),l([a.definition,(0,a.affects)("#name")],t.prototype,"value",void 0),l([a.definition,(0,a.affects)("#name")],t.prototype,"to",void 0),l([a.editor],t.prototype,"defineEditor",null),l([(0,a.tripetto)({type:"condition",legacyBlock:!0,context:"@tripetto/block-yes-no",identifier:"".concat("@tripetto/block-yes-no",":score"),version:"6.0.0",icon:r.default,get label(){return(0,a.pgettext)("block:yes-no","Verify score")}})],t)}(a.ConditionBlock);t.ScoreCondition=c},844:function(e,t,o){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=this&&this.__decorate||function(e,t,o,i){var n,l=arguments.length,a=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(l<3?n(a):l>3?n(t,o,a):n(t,o))||a);return l>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.Yes=void 0;var a=o(954),r=o(110),c=o(918),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),Object.defineProperty(t.prototype,"name",{get:function(){var e;return((null===(e=this.node)||void 0===e?void 0:e.block)instanceof r.YesNo?this.node.block.altYes:"")||this.type.label},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){return(0,a.markdownifyToString)(this.name,a.Markdown.MarkdownFeatures.None)},enumerable:!1,configurable:!0}),l([(0,a.tripetto)({type:"condition",legacyBlock:!0,context:"@tripetto/block-yes-no",identifier:"".concat("@tripetto/block-yes-no",":yes"),version:"6.0.0",icon:c.default,alias:"yes-no:yes",get label(){return(0,a.pgettext)("block:yes-no","Yes")}})],t)}(a.ConditionBlock);t.Yes=u},110:function(e,t,o){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=this&&this.__decorate||function(e,t,o,i){var n,l=arguments.length,a=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(l<3?n(a):l>3?n(t,o,a):n(t,o))||a);return l>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.YesNo=void 0;var a=o(954),r=o(844),c=o(318),u=o(287),s=o(617),d=o(939),p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),Object.defineProperty(t.prototype,"calculator",{get:function(){return{answer:{allowDefault:!1,allowCastToNumber:!1,scores:[{reference:"yes",label:(0,a.markdownifyToString)(this.altYes||"",a.Markdown.MarkdownFeatures.None)||(0,a.pgettext)("block:yes-no","Yes"),score:this.scoreForTrue},{reference:"no",label:(0,a.markdownifyToString)(this.altNo||"",a.Markdown.MarkdownFeatures.None)||(0,a.pgettext)("block:yes-no","No"),score:this.scoreForFalse}]}}},enumerable:!1,configurable:!0}),t.prototype.defineSlot=function(){this.answerSlot=this.slots.static({type:a.Slots.String,reference:"answer",label:(0,a.pgettext)("block:yes-no","Answer"),exchange:["required","alias","exportable"]})},t.prototype.defineEditor=function(){this.editor.name(!0,!0),this.editor.description(),this.editor.option({name:(0,a.pgettext)("block:yes-no","Image"),form:{title:(0,a.pgettext)("block:yes-no","Image"),controls:[new a.Forms.Text("singleline",a.Forms.Text.bind(this,"imageURL",void 0)).label((0,a.pgettext)("block:yes-no","Image source URL")).inputMode("url").placeholder("https://").action("@",(0,a.insertVariable)(this)).autoValidate((function(e){return""===e.value?"unknown":a.REGEX_IS_URL.test(e.value)||e.value.length>23&&0===e.value.indexOf("data:image/jpeg;base64,")||e.value.length>22&&0===e.value.indexOf("data:image/png;base64,")||e.value.length>22&&0===e.value.indexOf("data:image/svg;base64,")||e.value.length>22&&0===e.value.indexOf("data:image/gif;base64,")||e.value.length>1&&"/"===e.value.charAt(0)?"pass":"fail"})),new a.Forms.Text("singleline",a.Forms.Checkbox.bind(this,"imageWidth",void 0)).label((0,a.pgettext)("block:yes-no","Image width (optional)")).width(100).align("center"),new a.Forms.Checkbox((0,a.pgettext)("block:yes-no","Display image on top of the paragraph"),a.Forms.Checkbox.bind(this,"imageAboveText",void 0))]},activated:(0,a.isString)(this.imageURL)}),this.editor.explanation();var e=(0,a.pgettext)("block:yes-no","Yes"),t=(0,a.pgettext)("block:yes-no","No"),o=(0,a.markdownifyToString)(this.altYes||"",a.Markdown.MarkdownFeatures.None)||e,i=(0,a.markdownifyToString)(this.altNo||"",a.Markdown.MarkdownFeatures.None)||t,n=new a.Forms.Numeric(a.Forms.Numeric.bind(this,"scoreForTrue",void 0)).label(o),l=new a.Forms.Numeric(a.Forms.Numeric.bind(this,"scoreForFalse",void 0)).label(i),r=new a.Forms.Text("singleline",a.Forms.Text.bind(this,"aliasYes",void 0,"")).placeholder(o).visible((0,a.isString)(this.aliasYes)).indent(32),c=new a.Forms.Text("singleline",a.Forms.Text.bind(this,"aliasNo",void 0,"")).placeholder(i).visible((0,a.isString)(this.aliasNo)).indent(32),u=new a.Forms.Checkbox(o,(0,a.isString)(this.aliasYes)).on((function(e){r.visible(e.isChecked)})),s=new a.Forms.Checkbox(i,(0,a.isString)(this.aliasNo)).on((function(e){c.visible(e.isChecked)})),d=new a.Forms.ColorPicker(a.Forms.ColorPicker.bind(this,"colorYes",void 0)).label(o).placeholder((0,a.pgettext)("block:yes-no","Select an alternative color for this button")).swatches(!1,!0),p=new a.Forms.ColorPicker(a.Forms.ColorPicker.bind(this,"colorNo",void 0)).label(i).placeholder((0,a.pgettext)("block:yes-no","Select an alternative color for this button")).swatches(!1,!0);this.editor.groups.settings(),this.editor.option({name:(0,a.pgettext)("block:yes-no","Labels"),form:{title:(0,a.pgettext)("block:yes-no","Labels"),controls:[new a.Forms.Text("singleline",a.Forms.Text.bind(this,"altYes",void 0)).placeholder((0,a.pgettext)("block:yes-no","Yes")).action("@",(0,a.insertVariable)(this,"exclude")).on((function(t){var o=t.isFeatureEnabled&&(0,a.markdownifyToString)(t.value,a.Markdown.MarkdownFeatures.None)||e;d.label(o),n.label(o),u.label(o),r.placeholder(o)})),new a.Forms.Text("singleline",a.Forms.Text.bind(this,"altNo",void 0)).placeholder((0,a.pgettext)("block:yes-no","No")).action("@",(0,a.insertVariable)(this,"exclude")).on((function(e){var o=e.isFeatureEnabled&&(0,a.markdownifyToString)(e.value,a.Markdown.MarkdownFeatures.None)||t;p.label(o),l.label(o),s.label(o),c.placeholder(o)}))]},activated:(0,a.isString)(this.altYes)||(0,a.isString)(this.altNo)}),this.editor.option({name:(0,a.pgettext)("block:yes-no","Colors"),form:{title:(0,a.pgettext)("block:yes-no","Colors"),controls:[d,p]},activated:(0,a.isString)(this.colorYes)||(0,a.isString)(this.colorNo)}),this.editor.groups.options(),this.editor.required(this.answerSlot),this.editor.visibility(),this.editor.scores({target:this,scores:[n,l]}),this.editor.option({name:(0,a.pgettext)("block:yes-no","Alias"),form:{title:(0,a.pgettext)("block:yes-no","Alias"),controls:[new a.Forms.Text("singleline",a.Forms.Text.bind(this.answerSlot,"alias",void 0)).placeholder((0,a.pgettext)("block:yes-no","Identifier")),u,r,s,c,new a.Forms.Static((0,a.pgettext)("block:yes-no","These aliases will be used as identifiers for the item and its answers in the dataset."))]},activated:(0,a.isString)(this.answerSlot.alias)}),this.editor.exportable(this.answerSlot)},t.prototype.defineConditions=function(){this.conditions.template({condition:r.Yes,label:this.altYes||r.Yes.label,burst:!0,props:{slot:this.answerSlot}}),this.conditions.template({condition:c.No,label:this.altNo||c.No.label,burst:!0,props:{slot:this.answerSlot}});var e=this.slots.select("score","feature");if(e&&e.label){var t=this.conditions.group(e.label,d.default,!1,!0);(0,a.each)([{mode:"equal",label:(0,a.pgettext)("block:yes-no","Score is equal to")},{mode:"not-equal",label:(0,a.pgettext)("block:yes-no","Score is not equal to")},{mode:"below",label:(0,a.pgettext)("block:yes-no","Score is lower than")},{mode:"above",label:(0,a.pgettext)("block:yes-no","Score is higher than")},{mode:"between",label:(0,a.pgettext)("block:yes-no","Score is between")},{mode:"not-between",label:(0,a.pgettext)("block:yes-no","Score is not between")},{mode:"defined",label:(0,a.pgettext)("block:yes-no","Score is calculated")},{mode:"undefined",label:(0,a.pgettext)("block:yes-no","Score is not calculated")}],(function(o){t.template({condition:u.ScoreCondition,label:o.label,autoOpen:"defined"!==o.mode&&"undefined"!==o.mode,props:{slot:e,mode:o.mode,value:0,to:"between"===o.mode||"not-between"===o.mode?0:void 0}})}))}},l([(0,a.definition)("string","optional")],t.prototype,"imageURL",void 0),l([(0,a.definition)("string","optional")],t.prototype,"imageWidth",void 0),l([(0,a.definition)("boolean","optional")],t.prototype,"imageAboveText",void 0),l([(0,a.definition)("string","optional"),(0,a.affects)("#name")],t.prototype,"altYes",void 0),l([(0,a.definition)("string","optional"),(0,a.affects)("#name")],t.prototype,"altNo",void 0),l([(0,a.definition)("string","optional")],t.prototype,"aliasYes",void 0),l([(0,a.definition)("string","optional")],t.prototype,"aliasNo",void 0),l([(0,a.definition)("number","optional")],t.prototype,"scoreForTrue",void 0),l([(0,a.definition)("number","optional")],t.prototype,"scoreForFalse",void 0),l([(0,a.definition)("string","optional")],t.prototype,"colorYes",void 0),l([(0,a.definition)("string","optional")],t.prototype,"colorNo",void 0),l([(0,a.metadata)("calculator")],t.prototype,"calculator",null),l([a.slots],t.prototype,"defineSlot",null),l([a.editor],t.prototype,"defineEditor",null),l([a.conditions],t.prototype,"defineConditions",null),l([(0,a.tripetto)({type:"node",legacyBlock:!0,identifier:"@tripetto/block-yes-no",version:"6.0.0",icon:s.default,alias:"yes-no",get label(){return(0,a.pgettext)("block:yes-no","Yes/No")}})],t)}(a.NodeBlock);t.YesNo=p},617:function(e,t,o){o.r(t),t.default="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCI+PHBhdGggZD0iTS41IDE5YS41LjUgMCAwIDEtLjI1Ny0uOTI5IDYuMjExIDYuMjExIDAgMCAwIDIuNjQxLTMuMTc5QzEuMDQ2IDEzLjQ4NSAwIDExLjUzOCAwIDkuNWMwLTEuMDI5LjI1OC0yLjAyNi43NjgtMi45NjQuNDg2LS44OTQgMS4xOC0xLjY5NSAyLjA2MS0yLjM4MUM0LjYxNiAyLjc2NSA2Ljk4NSAxLjk5OSA5LjUgMS45OTlzNC44ODQuNzY2IDYuNjcxIDIuMTU2Yy44ODEuNjg1IDEuNTc1IDEuNDg2IDIuMDYxIDIuMzgxLjUxLjkzNy43NjggMS45MzQuNzY4IDIuOTY0cy0uMjU4IDIuMDI2LS43NjggMi45NjRjLS40ODYuODk0LTEuMTggMS42OTUtMi4wNjEgMi4zODEtMS43ODcgMS4zOS00LjE1NiAyLjE1Ni02LjY3MSAyLjE1Ni0xLjAzMyAwLTIuMDQ3LS4xMjktMy4wMTYtLjM4NWEyMC43NCAyMC43NCAwIDAgMS0yLjE4OSAxLjI3Yy0xLjQ4OC43NC0yLjc2NCAxLjExNS0zLjc5NCAxLjExNXptOS0xNkM0LjgxMyAzIDEgNS45MTYgMSA5LjVjMCAxLjgxNSAxLjAwNSAzLjU2MiAyLjc1NiA0Ljc5Mi4xNzIuMTIxLjI1LjMzNi4xOTYuNTM5LS4xMTcuNDM2LS41MTUgMS42MzMtMS41OCAyLjc4OCAxLjMwMi0uNDU2IDIuNzA0LTEuMjQ3IDMuNzM5LTEuOTU5YS40OTkuNDk5IDAgMCAxIC40MjEtLjA2OUM3LjQ4IDE1Ljg2MiA4LjQ3OSAxNiA5LjUgMTZjNC42ODcgMCA4LjUtMi45MTYgOC41LTYuNVMxNC4xODcgMyA5LjUgM3oiIGNsYXNzPSJ0cmlwZXR0by1maWxsIi8+PHBhdGggZD0iTTkuNSAxMmEuNS41IDAgMCAxLS41LS41di0yYS41LjUgMCAwIDEgLjUtLjVjLjgyNyAwIDEuNS0uNjczIDEuNS0xLjVTMTAuMzI3IDYgOS41IDYgOCA2LjY3MyA4IDcuNWEuNS41IDAgMCAxLTEgMEM3IDYuMTIyIDguMTIyIDUgOS41IDVTMTIgNi4xMjIgMTIgNy41YzAgMS4yMDctLjg2IDIuMjE3LTIgMi40NXYxLjU1YS41LjUgMCAwIDEtLjUuNXptMCAyYy0uMTMyIDAtLjI2MS0uMDUzLS4zNTMtLjE0N1M5IDEzLjYzMSA5IDEzLjVjMC0uMTMyLjA1My0uMjYxLjE0Ny0uMzUzUzkuMzY5IDEzIDkuNSAxM2EuNDk4LjQ5OCAwIDAgMSAuNS41LjUuNSAwIDAgMS0uNS41eiIgY2xhc3M9InRyaXBldHRvLWZpbGwiLz48L3N2Zz4="},309:function(e,t,o){o.r(t),t.default="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCI+PHBhdGggZD0iTTE5LjQzNiAxMS43NDVjLS40ODcuODY4LTEuMTQ1IDEuMDY5LTEuODM0IDEuMjEzLS4zODEuMDgtMS4wMDYuMDY0LTEuNjY4LjA0Ny0uNDI0LS4wMTEtMS4wNjEtLjAyNy0xLjIzMy4wMTZhLjcwNS43MDUgMCAwIDAtLjMzOS40MzFjLS4wOTQuMzE5LS4wNzMuOTE3LjU2NCAxLjk1OS4yMTIuMzQ3LjM0Ljk0Mi4zNDIgMS41ODkuMDAyLjcyMy0uMTU0IDEuNDAxLS40MzggMS45MDctLjQwMS43MTUtMS4wMzQgMS4wOTItMS44MzEgMS4wOTJhLjUuNSAwIDAgMS0uNDQ5LS4yOCAyODguODQ0IDI4OC44NDQgMCAwIDEtMS45NTYtNC4xOTEgMjA3LjQ1NCAyMDcuNDU0IDAgMCAwLTEuNTQyLTMuMzA2Yy0uMDQ2LS4wOTEtLjA4Ni0uMTc2LS4xMjUtLjI1OC0uMTkzLS40MDQtLjI4OC0uNTg4LS41Mi0uNzEzLS4yNzEtLjE0Ny0uNzUxLS4yMjYtMS40OTYtLjI0N2ExLjUwMyAxLjUwMyAwIDAgMS0xLjQxMi45OTVoLTRjLS44MjcgMC0xLjUtLjY3My0xLjUtMS41di04YzAtLjgyNy42NzMtMS41IDEuNS0xLjVoNGMuNjQ5IDAgMS4yMDQuNDE1IDEuNDEyLjk5NC41OC0uMDE4IDEuNjYtLjA4MiAyLjQ0NS0uMzE2YTE1Ljc2NSAxNS43NjUgMCAwIDEgNC42NDMtLjY3NGguMDMyYzEuMjU5IDAgMi4xNy4wMDEgMi45MTcuMjA1LjgyMS4yMjQgMS40MDkuNjc3IDEuOTY4IDEuNTE1QzE5LjI1NiAzLjIzMiAyMCA1LjE0MiAyMCA3LjVjMCAxLjk1MSAwIDMuMjQtLjU2NCA0LjI0NXpNNS41IDJoLTRhLjUuNSAwIDAgMC0uNS41djhhLjUuNSAwIDAgMCAuNS41aDRhLjUuNSAwIDAgMCAuNS0uNXYtOGEuNS41IDAgMCAwLS41LS41em0xMi41ODQgMS4yNzdjLS44NDgtMS4yNzEtMS41OTItMS4yNzQtNC4wNTEtMS4yNzRIMTRjLTEuNTQ5IDAtMi44OTMuMTk1LTQuMzU3LjYzMi0uODY5LjI2LTIgLjMzNS0yLjY0My4zNTd2Ny4wMTZjLjg5Ni4wMjkgMS40NzMuMTQzIDEuODg0LjM2NS41MjguMjg2LjczMS43MTEuOTQ2IDEuMTYybC4xMTcuMjQyYy4yMjIuNDQ0Ljg3IDEuODQ4IDEuNTU2IDMuMzM0LjY0OCAxLjQwMyAxLjM3MSAyLjk3MiAxLjc5NCAzLjg1Ni4yOC0uMDcuNDk0LS4yNDguNjYxLS41NDcuMTk4LS4zNTQuMzExLS44Ny4zMS0xLjQxNi0uMDAxLS40OTUtLjA5OS0uOTEzLS4xOTUtMS4wNy0uNjY2LTEuMDg4LS44OTEtMi4wMTktLjY3LTIuNzY1LjE5OC0uNjY4LjY4Mi0uOTYxLjg4MS0xLjA1Ni4yNjgtLjEyOC42OTQtLjEzMSAxLjY3Ni0uMTA2LjUyMi4wMTMgMS4xNy4wMyAxLjQzOC0uMDI2LjY0Ni0uMTM1LjkwNS0uMjU5IDEuMTY2LS43MjRDMTkgMTAuNDggMTkgOS4yOTUgMTkgNy41MDJjMC0yLjE0Ny0uNjgxLTMuODctLjkxNi00LjIyM3oiIGNsYXNzPSJ0cmlwZXR0by1maWxsIi8+PC9zdmc+"},939:function(e,t,o){o.r(t),t.default="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCI+PHBhdGggZD0iTTE4LjUgOEgxM1YzLjVhLjUuNSAwIDAgMC0uNS0uNWgtNmEuNS41IDAgMCAwLS41LjVWNkguNWEuNS41IDAgMCAwLS41LjV2MTBhLjUuNSAwIDAgMCAuNS41aDE4YS41LjUgMCAwIDAgLjUtLjV2LThhLjUuNSAwIDAgMC0uNS0uNXpNNyA0aDV2MTJIN1Y0ek0xIDdoNXY5SDFWN3ptMTcgOWgtNVY5aDV2N3oiIGNsYXNzPSJ0cmlwZXR0by1maWxsIi8+PHBhdGggZD0iTTkuNSAxMGEuNS41IDAgMCAxLS41LS41di00YS41LjUgMCAwIDEgMSAwdjRhLjUuNSAwIDAgMS0uNS41em0tNSAzaC0yYS41LjUgMCAwIDEtLjUtLjV2LTJhLjUuNSAwIDAgMSAuNS0uNUg0VjlIMi41YS41LjUgMCAwIDEgMC0xaDJhLjUuNSAwIDAgMSAuNS41djJhLjUuNSAwIDAgMS0uNS41SDN2MWgxLjVhLjUuNSAwIDAgMSAwIDF6bTEyLTNoLTJhLjUuNSAwIDAgMCAwIDFIMTZ2MWgtMS41YS41LjUgMCAwIDAgMCAxSDE2djFoLTEuNWEuNS41IDAgMCAwIDAgMWgyYS41LjUgMCAwIDAgLjUtLjV2LTRhLjUuNSAwIDAgMC0uNS0uNXoiIGNsYXNzPSJ0cmlwZXR0by1maWxsIi8+PC9zdmc+"},918:function(e,t,o){o.r(t),t.default="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCI+PHBhdGggZD0iTTE5LjQzNiA5LjI1NWMtLjQ4Ny0uODY4LTEuMTQ1LTEuMDY5LTEuODM0LTEuMjEzLS4zODEtLjA4LTEuMDA2LS4wNjQtMS42NjgtLjA0Ny0uNDI0LjAxMS0xLjA2MS4wMjctMS4yMzMtLjAxNmEuNzA1LjcwNSAwIDAgMS0uMzM5LS40MzFjLS4wOTQtLjMxOS0uMDczLS45MTcuNTY0LTEuOTU5LjIxMi0uMzQ3LjM0LS45NDIuMzQyLTEuNTg5LjAwMi0uNzIzLS4xNTQtMS40MDEtLjQzOC0xLjkwNy0uNDAxLS43MTUtMS4wMzQtMS4wOTItMS44MzEtMS4wOTJhLjUuNSAwIDAgMC0uNDQ5LjI4Yy0uMzg2Ljc4OS0xLjE4NCAyLjUxOC0xLjk1NiA0LjE5MWEyMDcuNDU0IDIwNy40NTQgMCAwIDEtMS41NDIgMy4zMDZjLS4wNDYuMDkxLS4wODYuMTc2LS4xMjUuMjU4LS4xOTMuNDA0LS4yODguNTg4LS41Mi43MTMtLjI3MS4xNDctLjc1MS4yMjYtMS40OTYuMjQ3YTEuNTAzIDEuNTAzIDAgMCAwLTEuNDEyLS45OTVoLTRjLS44MjcgMC0xLjUuNjczLTEuNSAxLjV2OGMwIC44MjcuNjczIDEuNSAxLjUgMS41aDRjLjY0OSAwIDEuMjA0LS40MTUgMS40MTItLjk5NC41OC4wMTggMS42Ni4wODIgMi40NDUuMzE2IDEuNTM5LjQ2IDMuMDE1LjY3NCA0LjY0My42NzRoLjAzMmMxLjI1OSAwIDIuMTctLjAwMSAyLjkxNy0uMjA1LjgyMS0uMjI0IDEuNDA5LS42NzcgMS45NjgtMS41MTUuMzQtLjUwOSAxLjA4NC0yLjQxOSAxLjA4NC00Ljc3NyAwLTEuOTUxIDAtMy4yNC0uNTY0LTQuMjQ1ek01LjUgMTloLTRhLjUuNSAwIDAgMS0uNS0uNXYtOGEuNS41IDAgMCAxIC41LS41aDRhLjUuNSAwIDAgMSAuNS41djhhLjUuNSAwIDAgMS0uNS41em0xMi41ODQtMS4yNzdjLS44NDggMS4yNzEtMS41OTIgMS4yNzQtNC4wNTEgMS4yNzRIMTRjLTEuNTQ5IDAtMi44OTMtLjE5NS00LjM1Ny0uNjMyLS44NjktLjI2LTItLjMzNS0yLjY0My0uMzU3di03LjAxNmMuODk2LS4wMjkgMS40NzMtLjE0MyAxLjg4NC0uMzY1LjUyOC0uMjg2LjczMS0uNzExLjk0Ni0xLjE2MmwuMTE3LS4yNDJjLjIyMi0uNDQ0Ljg3LTEuODQ4IDEuNTU2LTMuMzM0LjY0OC0xLjQwMyAxLjM3MS0yLjk3MiAxLjc5NC0zLjg1Ni4yOC4wNy40OTQuMjQ4LjY2MS41NDcuMTk4LjM1NC4zMTEuODcuMzEgMS40MTYtLjAwMS40OTUtLjA5OS45MTMtLjE5NSAxLjA3LS42NjYgMS4wODgtLjg5MSAyLjAxOS0uNjcgMi43NjUuMTk4LjY2OC42ODIuOTYxLjg4MSAxLjA1Ni4yNjguMTI4LjY5NC4xMzEgMS42NzYuMTA2LjUyMi0uMDEzIDEuMTctLjAzIDEuNDM4LjAyNi42NDYuMTM1LjkwNS4yNTkgMS4xNjYuNzI0LjQzNi43NzcuNDM2IDEuOTYyLjQzNiAzLjc1NSAwIDIuMTQ3LS42ODEgMy44Ny0uOTE2IDQuMjIzeiIgY2xhc3M9InRyaXBldHRvLWZpbGwiLz48L3N2Zz4="},954:function(e){e.exports=o(975)}},i={};function n(e){var o=i[e];if(void 0!==o)return o.exports;var l=i[e]={exports:{}};return t[e].call(l.exports,l,l.exports,n),l.exports}n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var l=n(110);e.exports=l}()},251:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return{contract:{name:"@tripetto/runner-chat",version:"7.0.1"},styles:[{elements:[{type:"color",name:"color",label:e("runner:chat","Color")}]},{title:e("runner:chat","Avatar"),optional:!0,name:"avatar",elements:[{type:"dropdown",name:"type",label:e("runner:chat","Type"),options:[{label:e("runner:chat","Illustration"),value:"avataaar"},{label:e("runner:chat","Custom image"),value:"image"}],default:"avataaar"},{type:"image",name:"image",label:e("runner:chat","Image (URL)"),dependency:{observe:{property:"avatar.type",value:"image"},action:"show"}},{type:"dropdown",name:"skin",label:e("runner:chat","🤝🏼 Skin"),width:"full",dependency:{observe:{property:"avatar.type",value:"avataaar"},action:"show"},options:[{label:"🖐🏿",value:"Black"},{label:"🖐🏾",value:"DarkBrown"},{label:"🖐🏽",value:"Brown"},{label:"🖐🏼",value:"Light"},{label:"🖐🏻",value:"Pale"},{label:"🖐",value:"Yellow"}],default:"Light"},{type:"dropdown",name:"eyes",label:e("runner:chat","👁 Eyes"),width:"full",dependency:{observe:{property:"avatar.type",value:"avataaar"},action:"show"},options:[{label:e("runner:chat","Closed"),value:"Close"},{label:e("runner:chat","Crying"),value:"Cry"},{label:e("runner:chat","Dizzy"),value:"Dizzy"},{label:e("runner:chat","Eye-rolling"),value:"EyeRoll"},{label:e("runner:chat","Happy"),value:"Happy"},{label:e("runner:chat","Hearts"),value:"Hearts"},{label:e("runner:chat","Neutral"),value:"Neutral"},{label:e("runner:chat","Side"),value:"Side"},{label:e("runner:chat","Squint"),value:"Squint"},{label:e("runner:chat","Surprised"),value:"Surprised"},{label:e("runner:chat","Wink"),value:"Wink"},{label:e("runner:chat","Wink (wacky)"),value:"WinkWacky"}],default:"Neutral"},{type:"dropdown",name:"eyeBrow",label:e("runner:chat","✏ Eyebrow"),width:"full",dependency:{observe:{property:"avatar.type",value:"avataaar"},action:"show"},options:[{label:e("runner:chat","Angry"),value:"Angry"},{label:e("runner:chat","Angry (natural)"),value:"AngryNatural"},{label:e("runner:chat","Flat"),value:"FlatNatural"},{label:e("runner:chat","Neutral"),value:"Neutral"},{label:e("runner:chat","Neutral (natural)"),value:"NeutralNatural"},{label:e("runner:chat","Raised/excited"),value:"RaisedExcited"},{label:e("runner:chat","Raised/excited (natural)"),value:"RaisedExcitedNatural"},{label:e("runner:chat","Sad/concerned"),value:"SadConcerned"},{label:e("runner:chat","Sad/concerned (natural)"),value:"SadConcernedNatural"},{label:e("runner:chat","Unibrow"),value:"UnibrowNatural"},{label:e("runner:chat","Up and down"),value:"UpDown"},{label:e("runner:chat","Up and down (natural)"),value:"UpDownNatural"}],default:"Neutral"},{type:"dropdown",name:"mouth",label:e("runner:chat","👄 Mouth"),width:"full",dependency:{observe:{property:"avatar.type",value:"avataaar"},action:"show"},options:[{label:e("runner:chat","Concerned"),value:"Concerned"},{label:e("runner:chat","Disbelief"),value:"Disbelief"},{label:e("runner:chat","Eating"),value:"Eating"},{label:e("runner:chat","Grimace"),value:"Grimace"},{label:e("runner:chat","Neutral"),value:"Neutral"},{label:e("runner:chat","Sad"),value:"Sad"},{label:e("runner:chat","Screaming"),value:"ScreamOpen"},{label:e("runner:chat","Serious"),value:"Serious"},{label:e("runner:chat","Smiling"),value:"Smile"},{label:e("runner:chat","Tongue"),value:"Tongue"},{label:e("runner:chat","Twinkle"),value:"Twinkle"},{label:e("runner:chat","Vomit"),value:"Vomit"}],default:"Neutral"},{type:"dropdown",name:"top",label:e("runner:chat","✂ Hair/hat"),width:"full",dependency:{observe:{property:"avatar.type",value:"avataaar"},action:"show"},options:[{label:e("runner:chat","No hair"),value:"NoHair"},{label:e("runner:chat","Eyepatch"),value:"Eyepatch"},{label:e("runner:chat","Hat"),value:"Hat"},{label:e("runner:chat","Hijab"),value:"Hijab"},{label:e("runner:chat","Turban"),value:"Turban"},{label:e("runner:chat","Winter hat (variant 1)"),value:"WinterHat1"},{label:e("runner:chat","Winter hat (variant 2)"),value:"WinterHat2"},{label:e("runner:chat","Winter hat (variant 3)"),value:"WinterHat3"},{label:e("runner:chat","Winter hat (variant 4)"),value:"WinterHat4"},{label:e("runner:chat","Long hair / Big"),value:"LongHairBigHair"},{label:e("runner:chat","Long hair / Bob"),value:"LongHairBob"},{label:e("runner:chat","Long hair / Bun"),value:"LongHairBun"},{label:e("runner:chat","Long hair / Curly"),value:"LongHairCurly"},{label:e("runner:chat","Long hair / Curvy"),value:"LongHairCurvy"},{label:e("runner:chat","Long hair / Dreads"),value:"LongHairDreads"},{label:e("runner:chat","Long hair / Frida"),value:"LongHairFrida"},{label:e("runner:chat","Long hair / Fro"),value:"LongHairFro"},{label:e("runner:chat","Long hair / Fro (with band)"),value:"LongHairFroBand"},{label:e("runner:chat","Long hair / Not too long"),value:"LongHairNotTooLong"},{label:e("runner:chat","Long hair / Shaved sides"),value:"LongHairShavedSides"},{label:e("runner:chat","Long hair / Mia Wallace"),value:"LongHairMiaWallace"},{label:e("runner:chat","Long hair / Straight (variant 1)"),value:"LongHairStraight"},{label:e("runner:chat","Long hair / Straight (variant 2)"),value:"LongHairStraight2"},{label:e("runner:chat","Long hair / Straight strand"),value:"LongHairStraightStrand"},{label:e("runner:chat","Short hair / Dreads (variant 1)"),value:"ShortHairDreads01"},{label:e("runner:chat","Short hair / Dreads (variant 2)"),value:"ShortHairDreads02"},{label:e("runner:chat","Short hair / Frizzle"),value:"ShortHairFrizzle"},{label:e("runner:chat","Short hair / Shaggy mullet"),value:"ShortHairShaggyMullet"},{label:e("runner:chat","Short hair / Curly"),value:"ShortHairShortCurly"},{label:e("runner:chat","Short hair / Flat"),value:"ShortHairShortFlat"},{label:e("runner:chat","Short hair / Round"),value:"ShortHairShortRound"},{label:e("runner:chat","Short hair / Waved"),value:"ShortHairShortWaved"},{label:e("runner:chat","Short hair / Sides"),value:"ShortHairSides"},{label:e("runner:chat","Short hair / The Caesar"),value:"ShortHairTheCaesar"},{label:e("runner:chat","Short hair / The caesar (side part)"),value:"ShortHairTheCaesarSidePart"}],default:"LongHairBob"},{type:"dropdown",name:"hairColor",label:e("runner:chat","🎨 Hair color"),width:"full",dependency:{observe:[{property:"avatar.type",value:"avataaar"},{property:"avatar.top",value:["LongHairBigHair","LongHairBob","LongHairBun","LongHairCurly","LongHairCurvy","LongHairDreads","LongHairFro","LongHairFroBand","LongHairNotTooLong","LongHairMiaWallace","LongHairStraight","LongHairStraight2","LongHairStraightStrand","ShortHairDreads01","ShortHairDreads02","ShortHairFrizzle","ShortHairShaggyMullet","ShortHairShortCurly","ShortHairShortFlat","ShortHairShortRound","ShortHairShortWaved","ShortHairSides","ShortHairTheCaesar","ShortHairTheCaesarSidePart"]}],action:"show"},options:[{label:e("runner:chat","Auburn"),value:"Auburn"},{label:e("runner:chat","Black"),value:"Black"},{label:e("runner:chat","Blonde"),value:"Blonde"},{label:e("runner:chat","Blonde (golden)"),value:"BlondeGolden"},{label:e("runner:chat","Brown"),value:"Brown"},{label:e("runner:chat","Brown (dark)"),value:"BrownDark"},{label:e("runner:chat","Pastel (pink)"),value:"PastelPink"},{label:e("runner:chat","Platinum"),value:"Platinum"},{label:e("runner:chat","Red"),value:"Red"},{label:e("runner:chat","SilverGray"),value:"SilverGray"}],default:"Black"},{type:"dropdown",name:"hatColor",label:e("runner:chat","🎅 Hat color"),width:"full",dependency:{observe:[{property:"avatar.type",value:"avataaar"},{property:"avatar.top",value:["Hijab","Turban","WinterHat1","WinterHat2","WinterHat3","WinterHat4"]}],action:"show"},options:[{label:e("runner:chat","Black"),value:"Black"},{label:e("runner:chat","Blue (variant 1)"),value:"Blue01"},{label:e("runner:chat","Blue (variant 2)"),value:"Blue02"},{label:e("runner:chat","Blue (variant 3)"),value:"Blue03"},{label:e("runner:chat","Gray (variant 1)"),value:"Gray01"},{label:e("runner:chat","Gray (variant 2)"),value:"Gray02"},{label:e("runner:chat","Heather"),value:"Heather"},{label:e("runner:chat","Pastel blue"),value:"PastelBlue"},{label:e("runner:chat","Pastel green"),value:"PastelGreen"},{label:e("runner:chat","Pastel orange"),value:"PastelOrange"},{label:e("runner:chat","Pastel red"),value:"PastelRed"},{label:e("runner:chat","Pastel yellow"),value:"PastelYellow"},{label:e("runner:chat","Pink"),value:"Pink"},{label:e("runner:chat","Red"),value:"Red"},{label:e("runner:chat","White"),value:"White"}],default:"Black"},{type:"dropdown",name:"facialHair",label:e("runner:chat","🪒 Facial hair"),width:"full",dependency:{observe:[{property:"avatar.type",value:"avataaar"},{property:"avatar.top",value:["NoHair","Eyepatch","Hat","Turban","WinterHat1","WinterHat2","WinterHat3","WinterHat4","LongHairBigHair","LongHairBob","LongHairBun","LongHairCurly","LongHairCurvy","LongHairDreads","LongHairFrida","LongHairFro","LongHairFroBand","LongHairNotTooLong","LongHairShavedSides","LongHairMiaWallace","LongHairStraight","LongHairStraight2","LongHairStraightStrand","ShortHairDreads01","ShortHairDreads02","ShortHairFrizzle","ShortHairShaggyMullet","ShortHairShortCurly","ShortHairShortFlat","ShortHairShortRound","ShortHairShortWaved","ShortHairSides","ShortHairTheCaesar","ShortHairTheCaesarSidePart"]}],action:"show"},options:[{label:e("runner:chat","No facial hair"),value:"None"},{label:e("runner:chat","Medium beard"),value:"BeardMedium"},{label:e("runner:chat","Light beard"),value:"BeardLight"},{label:e("runner:chat","Magestic beard"),value:"BeardMagestic"},{label:e("runner:chat","Fancy moustache"),value:"MoustacheFancy"},{label:e("runner:chat","Magnum moustache"),value:"MoustacheMagnum"}],default:"None"},{type:"dropdown",name:"facialHairColor",label:e("runner:chat","🎨 Facial hair color"),width:"full",dependency:{observe:[{property:"avatar.type",value:"avataaar"},{property:"avatar.top",value:["NoHair","Eyepatch","Hat","Turban","WinterHat1","WinterHat2","WinterHat3","WinterHat4","LongHairBigHair","LongHairBob","LongHairBun","LongHairCurly","LongHairCurvy","LongHairDreads","LongHairFrida","LongHairFro","LongHairFroBand","LongHairNotTooLong","LongHairShavedSides","LongHairMiaWallace","LongHairStraight","LongHairStraight2","LongHairStraightStrand","ShortHairDreads01","ShortHairDreads02","ShortHairFrizzle","ShortHairShaggyMullet","ShortHairShortCurly","ShortHairShortFlat","ShortHairShortRound","ShortHairShortWaved","ShortHairSides","ShortHairTheCaesar","ShortHairTheCaesarSidePart"]},{property:"avatar.facialHair",value:["BeardMedium","BeardLight","BeardMagestic","MoustacheFancy","MoustacheMagnum"]}],action:"show"},options:[{label:e("runner:chat","Auburn"),value:"Auburn"},{label:e("runner:chat","Black"),value:"Black"},{label:e("runner:chat","Blonde"),value:"Blonde"},{label:e("runner:chat","Blonde (golden)"),value:"BlondeGolden"},{label:e("runner:chat","Brown"),value:"Brown"},{label:e("runner:chat","Brown (dark)"),value:"BrownDark"},{label:e("runner:chat","Platinum"),value:"Platinum"},{label:e("runner:chat","Red"),value:"Red"}],default:"Auburn"},{type:"dropdown",name:"clothing",label:e("runner:chat","👔 Clothing"),width:"full",dependency:{observe:{property:"avatar.type",value:"avataaar"},action:"show"},options:[{label:e("runner:chat","Blazer with shirt"),value:"BlazerShirt"},{label:e("runner:chat","Blazer with sweater"),value:"BlazerSweater"},{label:e("runner:chat","Collar with sweater"),value:"CollarSweater"},{label:e("runner:chat","Hoodie"),value:"Hoodie"},{label:e("runner:chat","Shirt (crew neck)"),value:"ShirtCrewNeck"},{label:e("runner:chat","Shirt (scoop neck)"),value:"ShirtScoopNeck"},{label:e("runner:chat","Shirt (V-neck)"),value:"ShirtVNeck"},{label:e("runner:chat","Shirt (with graphic)"),value:"GraphicShirt"}],default:"BlazerShirt"},{type:"dropdown",name:"clothingFabric",label:e("runner:chat","🎨 Clothing color"),width:"full",dependency:{observe:[{property:"avatar.type",value:"avataaar"},{property:"avatar.clothing",value:["CollarSweater","Hoodie","ShirtCrewNeck","ShirtScoopNeck","ShirtVNeck","GraphicShirt"]}],action:"show"},options:[{label:e("runner:chat","Black"),value:"Black"},{label:e("runner:chat","Blue (variant 1)"),value:"Blue01"},{label:e("runner:chat","Blue (variant 2)"),value:"Blue02"},{label:e("runner:chat","Blue (variant 3)"),value:"Blue03"},{label:e("runner:chat","Gray (variant 1)"),value:"Gray01"},{label:e("runner:chat","Gray (variant 2)"),value:"Gray02"},{label:e("runner:chat","Heather"),value:"Heather"},{label:e("runner:chat","Pastel blue"),value:"PastelBlue"},{label:e("runner:chat","Pastel green"),value:"PastelGreen"},{label:e("runner:chat","Pastel orange"),value:"PastelOrange"},{label:e("runner:chat","Pastel red"),value:"PastelRed"},{label:e("runner:chat","Pastel yellow"),value:"PastelYellow"},{label:e("runner:chat","Pink"),value:"Pink"},{label:e("runner:chat","Red"),value:"Red"},{label:e("runner:chat","White"),value:"White"}],default:"Black"},{type:"dropdown",name:"clothingGraphic",label:e("runner:chat","🖼 Clothing graphic"),width:"full",dependency:{observe:[{property:"avatar.type",value:"avataaar"},{property:"avatar.clothing",value:"GraphicShirt"}],action:"show"},options:[{label:e("runner:chat","Bat"),value:"Bat"},{label:e("runner:chat","Bear"),value:"Bear"},{label:e("runner:chat","Cumbia"),value:"Cumbia"},{label:e("runner:chat","Deer"),value:"Deer"},{label:e("runner:chat","Diamond"),value:"Diamond"},{label:e("runner:chat","Hola"),value:"Hola"},{label:e("runner:chat","Pizza"),value:"Pizza"},{label:e("runner:chat","Resist"),value:"Resist"},{label:e("runner:chat","Selena"),value:"Selena"},{label:e("runner:chat","Skull"),value:"Skull"},{label:e("runner:chat","Skull (outline)"),value:"SkullOutline"}],default:"Bat"},{type:"dropdown",name:"accessories",label:e("runner:chat","👓 Accessories"),width:"full",dependency:{observe:[{property:"avatar.type",value:"avataaar"},{property:"avatar.top",value:["NoHair","Hat","Hijab","Turban","WinterHat1","WinterHat2","WinterHat3","WinterHat4","LongHairBigHair","LongHairBob","LongHairBun","LongHairCurly","LongHairCurvy","LongHairDreads","LongHairFrida","LongHairFro","LongHairFroBand","LongHairNotTooLong","LongHairShavedSides","LongHairMiaWallace","LongHairStraight","LongHairStraight2","LongHairStraightStrand","ShortHairDreads01","ShortHairDreads02","ShortHairFrizzle","ShortHairShaggyMullet","ShortHairShortCurly","ShortHairShortFlat","ShortHairShortRound","ShortHairShortWaved","ShortHairSides","ShortHairTheCaesar","ShortHairTheCaesarSidePart"]}],action:"show"},options:[{label:e("runner:chat","None"),value:"None"},{label:e("runner:chat","Kurt"),value:"Kurt"},{label:e("runner:chat","Prescription (variant 1)"),value:"Prescription01"},{label:e("runner:chat","Prescription (variant 2)"),value:"Prescription02"},{label:e("runner:chat","Round"),value:"Round"},{label:e("runner:chat","Sunglasses"),value:"Sunglasses"},{label:e("runner:chat","Wayfarers"),value:"Wayfarers"}],default:"None"}]},{title:e("runner:chat","Font"),optional:!0,name:"font",elements:[{type:"static",label:e("runner:chat","Use any font available on [Google Fonts](https://fonts.google.com/) or supply a custom font URL. Please note that the Google Fonts name is case sensitive.")},{type:"dropdown",name:"family",label:e("runner:chat","Font family"),options:[{optGroup:e("runner:chat","Standard fonts")},{label:e("runner:chat","Default"),value:""},{label:"Arial",value:"Arial"},{label:"Arial Black",value:"Arial Black"},{label:"Comic Sans MS",value:"Comic Sans MS"},{label:"Courier New",value:"Courier New"},{label:"Georgia",value:"Georgia"},{label:"Garamond",value:"Garamond"},{label:"Helvetica",value:"Helvetica"},{label:"Impact",value:"Impact"},{label:"Palatino",value:"Palatino"},{label:"Sans-Serif",value:"Sans-Serif"},{label:"Times New Roman",value:"Times New Roman"},{label:"Trebuchet MS",value:"Trebuchet MS"},{label:"Verdana",value:"Verdana"},{optGroup:e("runner:chat","Custom fonts")},{custom:e("runner:chat","Google Fonts or URL")}]},{type:"number",name:"size",label:e("runner:chat","Font size"),default:14,min:8,max:30,suffix:"px",width:75},{type:"number",name:"sizeSmall",label:e("runner:chat","Font size for small screens"),default:14,min:8,max:30,suffix:"px",width:75},{type:"static",label:e("runner:chat","_Note_: This size applies to small screens (like mobile devices). Switch to the mobile device preview to see and test this small font size.")}]},{title:e("runner:chat","Background"),optional:!0,name:"background",elements:[{type:"color",name:"color",label:e("runner:chat","Color")},{type:"image",name:"url",label:e("runner:chat","Image (URL)")},{type:"number",name:"opacity",label:e("runner:chat","Opacity"),min:0,max:100,suffix:"%",default:100,dependency:{action:"enable",observe:[{property:"background.color",defined:!0},{property:"background.url",defined:!0}]}},{type:"dropdown",name:"positioning",label:e("runner:chat","Positioning"),options:[{label:e("runner:chat","Center"),value:"auto"},{label:e("runner:chat","Repeat"),value:"repeat"},{label:e("runner:chat","Cover (full screen)"),value:"cover"},{label:e("runner:chat","Contain (full image stretched over screen)"),value:"contain"},{label:e("runner:chat","100% width, height centered"),value:"100% auto"},{label:e("runner:chat","100% height, width centered"),value:"auto 100%"}],default:"auto",dependency:{action:"disable",observe:[{property:"background.url",value:""}]}}]},{title:e("runner:chat","Questions"),optional:!0,name:"questions",elements:[{type:"dropdown",name:"alignment",label:e("runner:chat","Alignment"),options:[{label:e("runner:chat","Left"),value:"left"},{label:e("runner:chat","Right"),value:"right"}],default:"left"},{type:"number",name:"roundness",label:e("runner:chat","Roundness"),default:20,min:0,suffix:"px",width:75},{type:"color",name:"backgroundColor",label:e("runner:chat","Background color")},{type:"color",name:"borderColor",label:e("runner:chat","Border color")},{type:"color",name:"textColor",label:e("runner:chat","Text color")}]},{title:e("runner:chat","Answers"),optional:!0,name:"answers",elements:[{type:"dropdown",name:"alignment",label:e("runner:chat","Alignment"),options:[{label:e("runner:chat","Left"),value:"left"},{label:e("runner:chat","Right"),value:"right"}],default:"right"},{type:"number",name:"roundness",label:e("runner:chat","Roundness"),default:20,min:0,suffix:"px",width:75},{type:"color",name:"backgroundColor",label:e("runner:chat","Background color")},{type:"color",name:"borderColor",label:e("runner:chat","Border color")},{type:"color",name:"textColor",label:e("runner:chat","Text color")},{type:"image",name:"avatarImage",label:e("runner:chat","Avatar image (URL)")}]},{title:e("runner:chat","Inputs"),optional:!0,name:"inputs",elements:[{type:"color",name:"backgroundColor",label:e("runner:chat","Background color")},{type:"color",name:"borderColor",label:e("runner:chat","Border color")},{type:"number",name:"borderSize",label:e("runner:chat","Border size"),default:1,min:1,max:20,suffix:"px",width:75},{type:"number",name:"roundness",label:e("runner:chat","Roundness"),default:8,min:0,suffix:"px",width:75},{type:"color",name:"textColor",label:e("runner:chat","Text color")},{type:"color",name:"errorColor",label:e("runner:chat","Required/error color"),default:"red"},{type:"color",name:"selectionColor",label:e("runner:chat","Selection color (input buttons)")},{type:"color",name:"agreeColor",label:e("runner:chat","Agree color (input buttons)"),default:"green"},{type:"color",name:"declineColor",label:e("runner:chat","Decline color (input buttons)"),default:"red"}]},{title:e("runner:chat","Buttons"),optional:!0,name:"buttons",elements:[{type:"color",name:"baseColor",label:e("runner:chat","Button color")},{type:"color",name:"textColor",label:e("runner:chat","Text color")},{type:"dropdown",name:"mode",label:e("runner:chat","Style"),options:[{label:e("runner:chat","Fill"),value:"fill"},{label:e("runner:chat","Outline"),value:"outline"}]},{type:"number",name:"roundness",label:e("runner:chat","Roundness"),default:8,min:0,suffix:"px",width:75}]},{title:e("runner:chat","Chat button"),optional:!0,name:"chatButton",dependency:{observe:{property:"display",value:"button"},action:"show"},elements:[{type:"color",name:"color",label:e("runner:chat","Color")},{type:"image",name:"image",label:e("runner:chat","Icon (URL)")}]},{title:e("runner:chat","Appearance"),additional:!0,elements:[{type:"radiobuttons",name:"display",buttons:[{label:e("runner:chat","Inline"),value:"inline",description:e("runner:chat","Chat content will be displayed inline with other page content.")},{label:e("runner:chat","Button"),value:"button",description:e("runner:chat","Chat needs to be opened with a chat button (only supported when embedding the chat).")}],default:"inline"}]},{title:e("runner:chat","Options"),additional:!0,elements:[{type:"checkbox",name:"autoFocus",label:e("runner:chat","Automatically gain focus"),description:e("runner:chat","Only applies when embedding the chat."),default:!1},{type:"checkbox",name:"showScrollbar",label:e("runner:chat","Show scrollbar"),default:!1,dependency:{observe:{property:"display",value:"button"},action:"show"}},{type:"checkbox",name:"fullWidth",label:e("runner:chat","Use full width"),default:!1},{type:"checkbox",name:"autoOpen",label:e("runner:chat","Automatically open chat window"),default:!1,dependency:{observe:{property:"display",value:"button"},action:"show"}},{type:"checkbox",name:"noBranding",label:e("runner:chat","Hide all the Tripetto branding"),default:!1,tier:"licensed"}]}]}}},975:function(t){"use strict";t.exports=e},635:function(e,t,o){"use strict";o.r(t),o.d(t,{__addDisposableResource:function(){return E},__assign:function(){return l},__asyncDelegator:function(){return j},__asyncGenerator:function(){return N},__asyncValues:function(){return A},__await:function(){return S},__awaiter:function(){return g},__classPrivateFieldGet:function(){return T},__classPrivateFieldIn:function(){return O},__classPrivateFieldSet:function(){return C},__createBinding:function(){return M},__decorate:function(){return r},__disposeResources:function(){return U},__esDecorate:function(){return u},__exportStar:function(){return h},__extends:function(){return n},__generator:function(){return f},__importDefault:function(){return k},__importStar:function(){return L},__makeTemplateObject:function(){return I},__metadata:function(){return b},__param:function(){return c},__propKey:function(){return d},__read:function(){return v},__rest:function(){return a},__runInitializers:function(){return s},__setFunctionName:function(){return p},__spread:function(){return x},__spreadArray:function(){return w},__spreadArrays:function(){return y},__values:function(){return m}});var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},i(e,t)};function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}var l=function(){return l=Object.assign||function(e){for(var t,o=1,i=arguments.length;o<i;o++)for(var n in t=arguments[o])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},l.apply(this,arguments)};function a(e,t){var o={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(o[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(i=Object.getOwnPropertySymbols(e);n<i.length;n++)t.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(e,i[n])&&(o[i[n]]=e[i[n]])}return o}function r(e,t,o,i){var n,l=arguments.length,a=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(l<3?n(a):l>3?n(t,o,a):n(t,o))||a);return l>3&&a&&Object.defineProperty(t,o,a),a}function c(e,t){return function(o,i){t(o,i,e)}}function u(e,t,o,i,n,l){function a(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var r,c=i.kind,u="getter"===c?"get":"setter"===c?"set":"value",s=!t&&e?i.static?e:e.prototype:null,d=t||(s?Object.getOwnPropertyDescriptor(s,i.name):{}),p=!1,b=o.length-1;b>=0;b--){var g={};for(var f in i)g[f]="access"===f?{}:i[f];for(var f in i.access)g.access[f]=i.access[f];g.addInitializer=function(e){if(p)throw new TypeError("Cannot add initializers after decoration has completed");l.push(a(e||null))};var M=(0,o[b])("accessor"===c?{get:d.get,set:d.set}:d[u],g);if("accessor"===c){if(void 0===M)continue;if(null===M||"object"!=typeof M)throw new TypeError("Object expected");(r=a(M.get))&&(d.get=r),(r=a(M.set))&&(d.set=r),(r=a(M.init))&&n.unshift(r)}else(r=a(M))&&("field"===c?n.unshift(r):d[u]=r)}s&&Object.defineProperty(s,i.name,d),p=!0}function s(e,t,o){for(var i=arguments.length>2,n=0;n<t.length;n++)o=i?t[n].call(e,o):t[n].call(e);return i?o:void 0}function d(e){return"symbol"==typeof e?e:"".concat(e)}function p(e,t,o){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:o?"".concat(o," ",t):t})}function b(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function g(e,t,o,i){return new(o||(o=Promise))((function(n,l){function a(e){try{c(i.next(e))}catch(e){l(e)}}function r(e){try{c(i.throw(e))}catch(e){l(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(a,r)}c((i=i.apply(e,t||[])).next())}))}function f(e,t){var o,i,n,l,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return l={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function r(r){return function(c){return function(r){if(o)throw new TypeError("Generator is already executing.");for(;l&&(l=0,r[0]&&(a=0)),a;)try{if(o=1,i&&(n=2&r[0]?i.return:r[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,r[1])).done)return n;switch(i=0,n&&(r=[2&r[0],n.value]),r[0]){case 0:case 1:n=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!((n=(n=a.trys).length>0&&n[n.length-1])||6!==r[0]&&2!==r[0])){a=0;continue}if(3===r[0]&&(!n||r[1]>n[0]&&r[1]<n[3])){a.label=r[1];break}if(6===r[0]&&a.label<n[1]){a.label=n[1],n=r;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(r);break}n[2]&&a.ops.pop(),a.trys.pop();continue}r=t.call(e,a)}catch(e){r=[6,e],i=0}finally{o=n=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,c])}}}var M=Object.create?function(e,t,o,i){void 0===i&&(i=o);var n=Object.getOwnPropertyDescriptor(t,o);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[o]}}),Object.defineProperty(e,i,n)}:function(e,t,o,i){void 0===i&&(i=o),e[i]=t[o]};function h(e,t){for(var o in e)"default"===o||Object.prototype.hasOwnProperty.call(t,o)||M(t,e,o)}function m(e){var t="function"==typeof Symbol&&Symbol.iterator,o=t&&e[t],i=0;if(o)return o.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(e,t){var o="function"==typeof Symbol&&e[Symbol.iterator];if(!o)return e;var i,n,l=o.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(i=l.next()).done;)a.push(i.value)}catch(e){n={error:e}}finally{try{i&&!i.done&&(o=l.return)&&o.call(l)}finally{if(n)throw n.error}}return a}function x(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(v(arguments[t]));return e}function y(){for(var e=0,t=0,o=arguments.length;t<o;t++)e+=arguments[t].length;var i=Array(e),n=0;for(t=0;t<o;t++)for(var l=arguments[t],a=0,r=l.length;a<r;a++,n++)i[n]=l[a];return i}function w(e,t,o){if(o||2===arguments.length)for(var i,n=0,l=t.length;n<l;n++)!i&&n in t||(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function S(e){return this instanceof S?(this.v=e,this):new S(e)}function N(e,t,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,n=o.apply(e,t||[]),l=[];return i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i;function a(e){n[e]&&(i[e]=function(t){return new Promise((function(o,i){l.push([e,t,o,i])>1||r(e,t)}))})}function r(e,t){try{(o=n[e](t)).value instanceof S?Promise.resolve(o.value.v).then(c,u):s(l[0][2],o)}catch(e){s(l[0][3],e)}var o}function c(e){r("next",e)}function u(e){r("throw",e)}function s(e,t){e(t),l.shift(),l.length&&r(l[0][0],l[0][1])}}function j(e){var t,o;return t={},i("next"),i("throw",(function(e){throw e})),i("return"),t[Symbol.iterator]=function(){return this},t;function i(i,n){t[i]=e[i]?function(t){return(o=!o)?{value:S(e[i](t)),done:!1}:n?n(t):t}:n}}function A(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,o=e[Symbol.asyncIterator];return o?o.call(e):(e=m(e),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(o){t[o]=e[o]&&function(t){return new Promise((function(i,n){!function(e,t,o,i){Promise.resolve(i).then((function(t){e({value:t,done:o})}),t)}(i,n,(t=e[o](t)).done,t.value)}))}}}function I(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var D=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};function L(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)"default"!==o&&Object.prototype.hasOwnProperty.call(e,o)&&M(t,e,o);return D(t,e),t}function k(e){return e&&e.__esModule?e:{default:e}}function T(e,t,o,i){if("a"===o&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===o?i:"a"===o?i.call(e):i?i.value:t.get(e)}function C(e,t,o,i,n){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?n.call(e,o):n?n.value=o:t.set(e,o),o}function O(e,t){if(null===t||"object"!=typeof t&&"function"!=typeof t)throw new TypeError("Cannot use 'in' operator on non-object");return"function"==typeof e?t===e:e.has(t)}function E(e,t,o){if(null!=t){if("object"!=typeof t&&"function"!=typeof t)throw new TypeError("Object expected.");var i;if(o){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");i=t[Symbol.asyncDispose]}if(void 0===i){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");i=t[Symbol.dispose]}if("function"!=typeof i)throw new TypeError("Object not disposable.");e.stack.push({value:t,dispose:i,async:o})}else o&&e.stack.push({async:!0});return t}var z="function"==typeof SuppressedError?SuppressedError:function(e,t,o){var i=new Error(o);return i.name="SuppressedError",i.error=e,i.suppressed=t,i};function U(e){function t(t){e.error=e.hasError?new z(t,e.error,"An error was suppressed during disposal."):t,e.hasError=!0}return function o(){for(;e.stack.length;){var i=e.stack.pop();try{var n=i.dispose&&i.dispose.call(i.value);if(i.async)return Promise.resolve(n).then(o,(function(e){return t(e),o()}))}catch(e){t(e)}}if(e.hasError)throw e.error}()}t.default={__extends:n,__assign:l,__rest:a,__decorate:r,__param:c,__metadata:b,__awaiter:g,__generator:f,__createBinding:M,__exportStar:h,__values:m,__read:v,__spread:x,__spreadArrays:y,__spreadArray:w,__await:S,__asyncGenerator:N,__asyncDelegator:j,__asyncValues:A,__makeTemplateObject:I,__importStar:L,__importDefault:k,__classPrivateFieldGet:T,__classPrivateFieldSet:C,__classPrivateFieldIn:O,__addDisposableResource:E,__disposeResources:U}}},o={};function i(e){var n=o[e];if(void 0!==n)return n.exports;var l=o[e]={exports:{}};return t[e](l,l.exports,i),l.exports}i.d=function(e,t){for(var o in t)i.o(t,o)&&!i.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};return function(){"use strict";var e=n;Object.defineProperty(e,"__esModule",{value:!0}),e.L10N_CONTRACT=e.STYLES_CONTRACT=void 0;var t=i(635);i(373),i(228),i(88),i(257),i(579),i(236),i(63),i(57),i(38),i(135),i(572),i(873),i(584),i(173),i(711),i(36),i(801),i(748),i(411),i(191),i(65),i(313),i(652),i(500),i(601),i(210),i(317),i(2),i(725),i(842),i(683),i(138),i(213),i(480);var o=t.__importDefault(i(251));e.STYLES_CONTRACT=o.default;var l=t.__importDefault(i(547));e.L10N_CONTRACT=l.default}(),n}()}));